# 운명나침반 개발 작업지시서
## 작성일: 2025-09-01

---

## 🎯 즉시 개발 가능한 작업 목록

### 1. ✅ 월간 캘린더 뷰 할일 표시 기능 구현
**우선순위: 🔴 높음**
**예상 소요시간: 2-3시간**
**상태: ✨ 완료 (2025-09-01)**

#### 구현된 내용:
1. **MonthView 컴포넌트 개선**
   - `packages/web/src/components/Calendar/MonthView.tsx` 수정
   - CalendarContext에서 할일 데이터 가져오기
   - 각 날짜 셀에 할일 개수 표시 (숫자 뱃지)
   - 우선순위별 색상 구분 (🔴 높음/🟡 중간/🟢 낮음)

2. **할일 미리보기 기능**
   - 날짜 셀 호버 시 할일 목록 툴팁 표시
   - 최대 3개까지 미리보기, 나머지는 "+n개 더보기"
   - 완료된 할일은 취소선 표시

3. **성능 최적화**
   - useMemo로 할일 데이터 메모이제이션
   - React.memo로 불필요한 리렌더링 방지

#### 검증 방법:
- [ ] 월간 뷰에서 할일이 있는 날짜에 개수 표시 확인
- [ ] 우선순위별 색상 구분 확인
- [ ] 호버 시 툴팁 정상 동작 확인
- [ ] 할일 추가/삭제 시 실시간 반영 확인

---

### 2. 🏷️ 캘린더 태그 시스템 구현
**우선순위: 🟡 중간**
**예상 소요시간: 3-4시간**

#### 작업 내용:
1. **태그 데이터 모델 추가**
   - `packages/backend/services/calendar/src/models/tag.model.ts` 생성
   - 태그 테이블: id, name, color, user_id, created_at
   - 이벤트-태그 연결 테이블: event_id, tag_id

2. **백엔드 API 엔드포인트**
   - GET /api/tags - 태그 목록 조회
   - POST /api/tags - 태그 생성
   - PUT /api/tags/:id - 태그 수정
   - DELETE /api/tags/:id - 태그 삭제
   - POST /api/events/:id/tags - 이벤트에 태그 추가

3. **프론트엔드 태그 관리 UI**
   - EventModal에 태그 선택 기능 추가
   - 태그 칩 컴포넌트 생성
   - 태그별 필터링 기능

#### 검증 방법:
- [ ] 태그 CRUD 기능 정상 동작
- [ ] 이벤트에 다중 태그 추가 가능
- [ ] 태그별 이벤트 필터링 동작
- [ ] 태그 색상 커스터마이징 확인

---

### 3. 📝 다이어리 백엔드 서비스 구축
**우선순위: 🟡 중간**
**예상 소요시간: 4-5시간**

#### 작업 내용:
1. **Diary Service 마이크로서비스 생성**
   - `packages/backend/services/diary/` 디렉토리 구조 생성
   - Express + TypeScript + SQLite 설정
   - 포트 4004 사용

2. **데이터 모델 설계**
   ```sql
   CREATE TABLE diaries (
     id INTEGER PRIMARY KEY,
     user_id TEXT,
     date DATE,
     mood TEXT,
     content TEXT,
     weather TEXT,
     tags TEXT,
     created_at DATETIME,
     updated_at DATETIME
   )
   ```

3. **API 엔드포인트 구현**
   - GET /api/diaries - 일기 목록 조회 (페이지네이션)
   - GET /api/diaries/:date - 특정 날짜 일기 조회
   - POST /api/diaries - 일기 작성
   - PUT /api/diaries/:id - 일기 수정
   - DELETE /api/diaries/:id - 일기 삭제
   - GET /api/diaries/search - 일기 검색

4. **프론트엔드 연동**
   - DiaryModal 컴포넌트 API 연동
   - 일기 저장/수정/삭제 기능 구현
   - 로딩 상태 및 에러 처리

#### 검증 방법:
- [ ] Diary Service 포트 4004에서 실행
- [ ] 일기 CRUD API 정상 동작
- [ ] 프론트엔드에서 일기 작성/수정/삭제 가능
- [ ] 날짜별 일기 조회 기능 확인

---

### 4. 🌙 음력 달력 연동
**우선순위: 🟢 낮음**
**예상 소요시간: 2-3시간**

#### 작업 내용:
1. **음력 변환 라이브러리 설치**
   - `korean-lunar-calendar` 또는 유사 패키지 설치
   - 타입 정의 파일 확인

2. **캘린더 뷰 음력 표시**
   - MonthView에 음력 날짜 표시 옵션 추가
   - 설정에서 음력 표시 토글 기능
   - 음력 공휴일/기념일 표시

3. **사주 분석 연동**
   - 생년월일 입력 시 음력/양력 선택 옵션
   - 음력→양력 자동 변환 기능

#### 검증 방법:
- [ ] 음력 날짜 정확도 검증
- [ ] 음력↔양력 변환 정확도 확인
- [ ] 음력 공휴일 표시 확인

---

### 5. 🔍 캘린더 검색 기능
**우선순위: 🟢 낮음**  
**예상 소요시간: 2시간**

#### 작업 내용:
1. **검색 UI 컴포넌트**
   - 캘린더 페이지 상단에 검색바 추가
   - 실시간 검색 (디바운싱 적용)
   - 검색 결과 하이라이트

2. **검색 기능 구현**
   - 이벤트 제목/설명 검색
   - 할일 내용 검색
   - 날짜 범위 필터링

3. **검색 결과 표시**
   - 검색 결과 리스트 뷰
   - 클릭 시 해당 날짜로 이동

#### 검증 방법:
- [ ] 키워드 검색 정상 동작
- [ ] 검색 결과 하이라이트 표시
- [ ] 검색 결과 클릭 시 날짜 이동

---

## 📌 작업 전 체크리스트

### 환경 확인
- [ ] 프론트엔드 서버 포트 4000 실행 중
- [ ] 백엔드 캘린더 서비스 포트 4003 실행 중
- [ ] Git 상태 확인 (clean working directory)

### 개발 규칙
- [ ] TypeScript 타입 안전성 준수
- [ ] ESLint 규칙 준수
- [ ] 컴포넌트 재사용성 고려
- [ ] 에러 처리 구현
- [ ] 로딩 상태 표시

### 테스트 및 검증
- [ ] 브라우저 콘솔 에러 없음
- [ ] API 응답 정상
- [ ] UI/UX 일관성 유지
- [ ] 다크모드 지원

---

## 🚀 작업 시작 명령어

```bash
# 작업 선택 후 시작
# 예: 1번 작업 시작 시

# 1. 새 브랜치 생성
git checkout -b feature/month-view-todos

# 2. 작업 진행
# ... 코드 작성 ...

# 3. 린트 및 타입 체크
cd packages/web && npm run lint
cd packages/web && npm run typecheck

# 4. 테스트
# 브라우저에서 http://localhost:4000 접속하여 기능 확인

# 5. 커밋
git add .
git commit -m "feat: 월간 캘린더 뷰 할일 표시 기능 구현

- MonthView 컴포넌트에 할일 개수 표시
- 우선순위별 색상 구분
- 호버 시 할일 미리보기 툴팁

🤖 Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"
```

---

## 📊 진행 상황 추적

| 작업 | 상태 | 시작일 | 완료일 | 담당 |
|-----|------|--------|--------|------|
| 월간 캘린더 할일 표시 | 🔄 대기 | - | - | - |
| 캘린더 태그 시스템 | 🔄 대기 | - | - | - |
| 다이어리 백엔드 | 🔄 대기 | - | - | - |
| 음력 달력 연동 | 🔄 대기 | - | - | - |
| 캘린더 검색 기능 | 🔄 대기 | - | - | - |

---

*이 문서는 운명나침반 프로젝트의 즉시 실행 가능한 개발 작업 목록입니다.*
*각 작업은 독립적으로 진행 가능하며, 우선순위에 따라 선택하여 개발하시기 바랍니다.*