var Gx=Object.defineProperty;var Kx=(t,e,s)=>e in t?Gx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var $=(t,e,s)=>Kx(t,typeof e!="symbol"?e+"":e,s);import{r as v,a as qx,g as Jx,R as wr,u as ze,b as Xx,c as E0,d as T0,L as Fs,B as Qx,e as Zx,f as Ne,N as ep}from"./react-vendor-CN0IqQCA.js";import{f as B,i as It,s as kr,e as Nr,a as Sr,b as Qn,c as Zn,d as Ei,g as xn,h as pn,j as tp,k as A0,l as $r,m as Bs,n as sp,o as np,p as rp,q as So,r as Yc,t as On}from"./calendar-vendor-I6fF1ZxX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var D0={exports:{}},si={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=v,ip=Symbol.for("react.element"),op=Symbol.for("react.fragment"),lp=Object.prototype.hasOwnProperty,cp=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dp={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,s){var n,r={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lp.call(e,n)&&!dp.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:ip,type:t,key:i,ref:o,props:r,_owner:cp.current}}si.Fragment=op;si.jsx=P0;si.jsxs=P0;D0.exports=si;var a=D0.exports,Co={},Gc=qx;Co.createRoot=Gc.createRoot,Co.hydrateRoot=Gc.hydrateRoot;const hp={},Kc=t=>{let e;const s=new Set,n=(h,m)=>{const u=typeof h=="function"?h(e):h;if(!Object.is(u,e)){const g=e;e=m??(typeof u!="object"||u===null)?u:Object.assign({},e,u),s.forEach(f=>f(e,g))}},r=()=>e,c={setState:n,getState:r,getInitialState:()=>d,subscribe:h=>(s.add(h),()=>s.delete(h)),destroy:()=>{(hp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=e=t(n,r,c);return c},up=t=>t?Kc(t):Kc;var R0={exports:{}},L0={},O0={exports:{}},I0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=v;function mp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gp=typeof Object.is=="function"?Object.is:mp,fp=Ks.useState,xp=Ks.useEffect,pp=Ks.useLayoutEffect,bp=Ks.useDebugValue;function yp(t,e){var s=e(),n=fp({inst:{value:s,getSnapshot:e}}),r=n[0].inst,i=n[1];return pp(function(){r.value=s,r.getSnapshot=e,Ti(r)&&i({inst:r})},[t,s,e]),xp(function(){return Ti(r)&&i({inst:r}),t(function(){Ti(r)&&i({inst:r})})},[t]),bp(s),s}function Ti(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!gp(t,s)}catch{return!0}}function vp(t,e){return e()}var jp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vp:yp;I0.useSyncExternalStore=Ks.useSyncExternalStore!==void 0?Ks.useSyncExternalStore:jp;O0.exports=I0;var wp=O0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=v,kp=wp;function Np(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sp=typeof Object.is=="function"?Object.is:Np,Cp=kp.useSyncExternalStore,_p=ni.useRef,Mp=ni.useEffect,Ep=ni.useMemo,Tp=ni.useDebugValue;L0.useSyncExternalStoreWithSelector=function(t,e,s,n,r){var i=_p(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ep(function(){function c(g){if(!d){if(d=!0,h=g,g=n(g),r!==void 0&&o.hasValue){var f=o.value;if(r(f,g))return m=f}return m=g}if(f=m,Sp(h,g))return f;var x=n(g);return r!==void 0&&r(f,x)?(h=g,f):(h=g,m=x)}var d=!1,h,m,u=s===void 0?null:s;return[function(){return c(e())},u===null?void 0:function(){return c(u())}]},[e,s,n,r]);var l=Cp(t,i[0],i[1]);return Mp(function(){o.hasValue=!0,o.value=l},[l]),Tp(l),l};R0.exports=L0;var Ap=R0.exports;const Dp=Jx(Ap),F0={},{useDebugValue:Pp}=wr,{useSyncExternalStoreWithSelector:Rp}=Dp;let qc=!1;const Lp=t=>t;function Op(t,e=Lp,s){(F0?"production":void 0)!=="production"&&s&&!qc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qc=!0);const n=Rp(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return Pp(n),n}const Jc=t=>{(F0?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?up(t):t,s=(n,r)=>Op(e,n,r);return Object.assign(s,e),s},_l=t=>t?Jc(t):Jc,Qt=_l(t=>({isAuthenticated:!1,isLoading:!1,error:null,user:null,referralStats:null,isLoadingReferralStats:!1,referralCode:"",isValidatingReferral:!1,referralValidation:null,myReferralCode:null,isGeneratingReferralCode:!1,login:async(e,s)=>{t({isLoading:!0,error:null});try{const n=typeof e=="string"?e:e.email,r=typeof e=="string"?s:e.password,i=(n==null?void 0:n.split("@")[0])||"User";t({isAuthenticated:!0,user:{email:n,name:i,id:Date.now().toString()},isLoading:!1})}catch{t({error:"Login failed",isLoading:!1})}},logout:()=>{t({isAuthenticated:!1,user:null})},signUp:async e=>{t({isLoading:!0,error:null});try{const s={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,email:e.email,name:e.name,createdAt:new Date().toISOString(),referredBy:e.referralCode};t({isAuthenticated:!0,user:s,isLoading:!1})}catch{t({error:"Signup failed",isLoading:!1})}},loadReferralStats:async e=>{t({isLoadingReferralStats:!0});try{t({referralStats:{totalReferrals:0,pendingReferrals:0,confirmedReferrals:0,totalCommission:0},isLoadingReferralStats:!1})}catch{t({error:"Failed to load referral stats",isLoadingReferralStats:!1})}},setError:e=>{t({error:e})},setReferralCode:e=>{t({referralCode:e})},validateReferralCode:async e=>{if(!e||e.length!==6)return t({referralValidation:null}),!1;t({isValidatingReferral:!0});try{await new Promise(o=>setTimeout(o,1e3));const s=e.toUpperCase()!=="INVALID"&&e.length===6,n=s?"ÏπúÍµ¨":void 0,r=s?`Ïú†Ìö®Ìïú Ï∂îÏ≤ú ÏΩîÎìúÏûÖÎãàÎã§! ${n}ÎãòÏùò Ï∂îÏ≤úÏúºÎ°ú ÌäπÎ≥Ñ ÌòúÌÉùÏùÑ Î∞õÏúºÏã§ Ïàò ÏûàÏäµÎãàÎã§.`:"Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî Ï∂îÏ≤ú ÏΩîÎìúÏûÖÎãàÎã§. Îã§Ïãú ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.";return t({referralValidation:{isValid:s,message:r,referrerName:n},isValidatingReferral:!1}),s}catch{return t({referralValidation:{isValid:!1,message:"Ï∂îÏ≤ú ÏΩîÎìú ÌôïÏù∏ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."},isValidatingReferral:!1}),!1}},clearReferralValidation:()=>{t({referralValidation:null,isValidatingReferral:!1})},generateMyReferralCode:async()=>{t({isGeneratingReferralCode:!0});try{await new Promise(s=>setTimeout(s,500));const e=Math.random().toString(36).substr(2,6).toUpperCase();t({myReferralCode:e,isGeneratingReferralCode:!1})}catch{t({error:"Ï∂îÏ≤ú ÏΩîÎìú ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",isGeneratingReferralCode:!1})}}})),_o={isValidReferralCode:t=>{if(!t)return!1;const e=t.trim().toUpperCase();return/^[A-Z0-9]{6}$/.test(e)},isValidEmail:t=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()):!1,getPasswordStrength:t=>{if(!t)return{score:0,feedback:"ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."};let e=0;const s=[];t.length>=8?e++:s.push("8Ïûê Ïù¥ÏÉÅ"),/[a-z]/.test(t)?e++:s.push("ÏÜåÎ¨∏Ïûê Ìè¨Ìï®"),/[A-Z]/.test(t)?e++:s.push("ÎåÄÎ¨∏Ïûê Ìè¨Ìï®"),/[0-9]/.test(t)?e++:s.push("Ïà´Ïûê Ìè¨Ìï®"),/[^A-Za-z0-9]/.test(t)?e++:s.push("ÌäπÏàòÎ¨∏Ïûê Ìè¨Ìï®");const r=["Îß§Ïö∞ ÏïΩÌï®","ÏïΩÌï®","Î≥¥ÌÜµ","Í∞ïÌï®","Îß§Ïö∞ Í∞ïÌï®"][Math.min(e,4)];return{score:Math.min(e,4),feedback:s.length>0?`${r} (Ï∂îÍ∞Ä Í∂åÏû•: ${s.join(", ")})`:`${r}`}},sanitizeInput:t=>t?t.replace(/[<>'&]/g,"").trim():""},Vr="WELCOME1",Ls={TITLE:"üéâ Ïö¥Î™ÖÎÇòÏπ®Î∞ò Í≥µÏãù Ïõ∞Ïª¥ ÌòúÌÉù",SUBTITLE:"Ï∂îÏ≤úÏù∏ ÏΩîÎìúÍ∞Ä ÏóÜÏñ¥ÎèÑ ÌäπÎ≥ÑÌïú ÌòúÌÉùÏùÑ ÎìúÎ†§Ïöî!",DESCRIPTION:"Ïã†Í∑ú Í∞ÄÏûÖÏûê Ï†ÑÏö© Ïõ∞Ïª¥ Ìå®ÌÇ§ÏßÄÍ∞Ä ÏûêÎèôÏúºÎ°ú Ï†ÅÏö©Îê©ÎãàÎã§",BENEFITS:["ÌîÑÎ¶¨ÎØ∏ÏóÑ ÏÇ¨Ï£º Î∂ÑÏÑù 1Ìöå Î¨¥Î£å","Í∂ÅÌï© Î∂ÑÏÑù ÏÑúÎπÑÏä§ Î¨¥Ï†úÌïú (7Ïùº)","ÌäπÎ≥Ñ Ïö¥ÏÑ∏ Î¶¨Ìè¨Ìä∏ Ï†úÍ≥µ","VIP Í≥†Í∞ù ÏßÄÏõê ÏÑúÎπÑÏä§"],CTA_MESSAGE:"Îçî ÎßéÏùÄ ÌòúÌÉùÏùÑ Î∞õÍ≥† Ïã∂Îã§Î©¥ ÏπúÍµ¨ Ï∂îÏ≤ú ÏΩîÎìúÎ•º ÏûÖÎ†•Ìï¥Î≥¥ÏÑ∏Ïöî!",AUTO_APPLIED:"‚úÖ Ïõ∞Ïª¥ ÌòúÌÉùÏù¥ ÏûêÎèôÏúºÎ°ú Ï†ÅÏö©ÎêòÏóàÏäµÎãàÎã§"},Ip=({className:t="",onValidationChange:e,disabled:s=!1})=>{const{referralCode:n,isValidatingReferral:r,referralValidation:i,setReferralCode:o,validateReferralCode:l,clearReferralValidation:c}=Qt(),[d,h]=v.useState(!1),[m,u]=v.useState(""),[g,f]=v.useState(null),[x,b]=v.useState(!1);v.useEffect(()=>{n?(u(n),h(!0),b(!0)):e==null||e(!0,Vr)},[n,e]);const y=v.useCallback(N=>{g&&clearTimeout(g);const k=setTimeout(async()=>{if(N.length===6){const _=await l(N);e==null||e(_,_?N:Vr),b(_)}else N.length===0&&(c(),e==null||e(!0,Vr),b(!1))},500);f(k)},[g,l,c,e]),j=N=>{const k=N.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");k.length<=6&&(u(k),o(k),y(k))},S=()=>{s||(h(!d),!d&&m&&c())},C=()=>{u(""),o(""),c(),e==null||e(!0,Vr),b(!1)},w=()=>!m||m.length<6?"":r?"border-blue-500 ring-2 ring-blue-200":i!=null&&i.isValid?"border-green-500 ring-2 ring-green-200":i&&!i.isValid?"border-red-500 ring-2 ring-red-200":"",M=()=>r?a.jsx("div",{className:"animate-spin text-blue-500",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):i!=null&&i.isValid?a.jsx("div",{className:"text-green-500",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):i&&!i.isValid&&m.length===6?a.jsx("div",{className:"text-red-500",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):null;return a.jsxs("div",{className:`space-y-4 ${t}`,children:[!x&&a.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 p-6 rounded-xl border border-yellow-200 dark:border-yellow-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-3xl mb-3 block",children:"üéâ"}),a.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:Ls.TITLE}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:Ls.SUBTITLE}),a.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-100 dark:bg-green-900/20 px-3 py-2 rounded-lg border border-green-200 dark:border-green-700 mb-4",children:[a.jsx("span",{className:"text-green-600",children:"‚úÖ"}),a.jsx("span",{className:"text-green-700 dark:text-green-400 text-sm font-medium",children:Ls.AUTO_APPLIED})]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[a.jsx("p",{className:"font-medium mb-2",children:Ls.DESCRIPTION}),Ls.BENEFITS.map((N,k)=>a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"text-yellow-500",children:"‚ú®"}),a.jsx("span",{className:"text-xs",children:N})]},k))]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:Ls.CTA_MESSAGE})]})}),x&&(i==null?void 0:i.isValid)&&a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 p-6 rounded-xl border border-green-200 dark:border-green-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-3xl mb-3 block",children:"üéä"}),a.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:"ÏπúÍµ¨ Ï∂îÏ≤ú ÌòúÌÉù Ï†ÅÏö© ÏôÑÎ£å!"}),a.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-200 dark:bg-green-800/30 px-4 py-2 rounded-lg border border-green-300 dark:border-green-600 mb-3",children:[a.jsx("span",{className:"text-green-600",children:"‚úÖ"}),a.jsxs("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:["Ï∂îÏ≤úÏù∏ ÏΩîÎìú: ",m]})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i==null?void 0:i.referrerName,"ÎãòÏùò Ï∂îÏ≤úÏúºÎ°ú ÌäπÎ≥Ñ ÌòúÌÉùÏùÑ Î∞õÏúºÏã§ Ïàò ÏûàÏäµÎãàÎã§!"]})]})}),a.jsxs("button",{type:"button",onClick:S,disabled:s,className:`
          w-full flex items-center justify-between px-4 py-3 
          bg-gradient-to-r from-purple-50 to-pink-50 
          dark:from-purple-900/20 dark:to-pink-900/20 
          border border-purple-200 dark:border-purple-700 
          rounded-lg text-left transition-all duration-200
          ${s?"opacity-50 cursor-not-allowed":"hover:from-purple-100 hover:to-pink-100 dark:hover:from-purple-800/30 dark:hover:to-pink-800/30 cursor-pointer"}
          ${d?"rounded-b-none border-b-0":""}
        `,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:"üë´"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"ÏπúÍµ¨ Ï∂îÏ≤ú ÏΩîÎìúÍ∞Ä ÏûàÏúºÏã†Í∞ÄÏöî?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x?"ÏπúÍµ¨ Ï∂îÏ≤úÏúºÎ°ú Îçî ÎßéÏùÄ ÌòúÌÉùÏùÑ Î∞õÍ≥† Í≥ÑÏãúÎÑ§Ïöî!":d?"ÏπúÍµ¨Í∞Ä ÏïåÎ†§Ï§Ä 6ÏûêÎ¶¨ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÍ≥† Ï∂îÍ∞Ä ÌòúÌÉùÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî":"ÌÅ¥Î¶≠ÌïòÏó¨ ÏπúÍµ¨ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÍ≥† Ï∂îÍ∞Ä ÌòúÌÉùÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[x&&(i==null?void 0:i.isValid)&&a.jsx("span",{className:"text-green-600 text-sm font-medium",children:"Ï†ÅÏö©Îê®"}),a.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),d&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-l border-r border-b border-purple-200 dark:border-purple-700 rounded-b-lg px-4 py-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["ÏπúÍµ¨ Ï∂îÏ≤ú ÏΩîÎìú ",a.jsx("span",{className:"text-gray-400",children:"(6ÏûêÎ¶¨ ÏòÅÎ¨∏/Ïà´Ïûê)"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:m,onChange:j,disabled:s||r,placeholder:"Ïòà: AB12CD",className:`
                  w-full px-4 py-3 pr-12 
                  border-2 rounded-lg text-lg font-mono tracking-widest text-center
                  placeholder-gray-400 
                  focus:outline-none focus:ring-0
                  disabled:opacity-50 disabled:cursor-not-allowed
                  bg-white dark:bg-gray-800 
                  text-gray-800 dark:text-gray-200
                  ${w()||"border-gray-300 dark:border-gray-600 focus:border-purple-500"}
                  transition-all duration-200
                `,maxLength:6}),a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[M(),m&&!r&&a.jsx("button",{type:"button",onClick:C,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1",disabled:s,children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(6)].map((N,k)=>a.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-200 ${k<m.length?"bg-purple-500":"bg-gray-200 dark:bg-gray-600"}`},k))})]}),i&&m.length>0&&a.jsx("div",{className:`p-3 rounded-lg border ${i.isValid?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700"}`,children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:`mt-0.5 ${i.isValid?"text-green-600":"text-red-600"}`,children:i.isValid?"‚úÖ":"‚ùå"}),a.jsx("div",{className:`text-sm ${i.isValid?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:i.message})]})}),r&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[a.jsx("div",{className:"animate-spin",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsx("span",{className:"text-sm",children:"ÏπúÍµ¨ Ï∂îÏ≤ú ÏΩîÎìú ÌôïÏù∏ Ï§ë..."})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-blue-600 mt-0.5",children:"üíù"}),a.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:[a.jsx("p",{className:"font-medium mb-1",children:"ÏπúÍµ¨ Ï∂îÏ≤ú Ï∂îÍ∞Ä ÌòúÌÉù"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:"‚Ä¢ Ïõ∞Ïª¥ ÌòúÌÉù + ÏπúÍµ¨ Ï∂îÏ≤ú ÌòúÌÉù Î™®Îëê Ï†ÅÏö©"}),a.jsx("li",{children:"‚Ä¢ ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä• Ï∂îÍ∞Ä 1Í∞úÏõî Ïó∞Ïû•"}),a.jsx("li",{children:"‚Ä¢ ÌäπÎ≥Ñ ÏÇ¨Ï£º Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏ Ï†úÍ≥µ"}),a.jsx("li",{children:"‚Ä¢ ÏπúÍµ¨ÏôÄ Ìï®Íªò Ïì∞Îäî Í∂ÅÌï© Îã§Ïù¥Ïñ¥Î¶¨"})]})]})]})}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[a.jsx("p",{children:"‚Ä¢ ÏπúÍµ¨ Ï∂îÏ≤ú ÏΩîÎìúÎäî ÌöåÏõêÍ∞ÄÏûÖ ÏãúÏóêÎßå ÏûÖÎ†•Ìï† Ïàò ÏûàÏäµÎãàÎã§"}),a.jsx("p",{children:"‚Ä¢ ÏπúÍµ¨ ÏΩîÎìúÍ∞Ä ÏóÜÏñ¥ÎèÑ Ïõ∞Ïª¥ ÌòúÌÉùÏùÄ ÏûêÎèôÏúºÎ°ú Ï†ÅÏö©Îê©ÎãàÎã§"}),a.jsx("p",{children:"‚Ä¢ ÏûòÎ™ªÎêú ÏΩîÎìúÎ•º Ïó¨Îü¨ Î≤à ÏûÖÎ†•ÌïòÎ©¥ ÏùºÏãúÏ†ÅÏúºÎ°ú Ï†úÌïúÎê† Ïàò ÏûàÏäµÎãàÎã§"})]})]})]})},Fp=({className:t="",onSuccess:e,onLoginClick:s})=>{const n=ze(),{signUp:r,isLoading:i,error:o}=Qt(),[l,c]=v.useState({email:"",password:"",confirmPassword:"",name:"",agreedToTerms:!1,agreedToPrivacy:!1,agreedToMarketing:!1}),[d,h]=v.useState({email:{isValid:!1,message:""},password:{isValid:!1,message:""},confirmPassword:{isValid:!1,message:""},name:{isValid:!1,message:""}}),[m,u]=v.useState(!1),[g,f]=v.useState(""),[x,b]=v.useState(!1),[y,j]=v.useState({score:0,feedback:""});v.useEffect(()=>{const k=_o.isValidEmail(l.email);h(D=>({...D,email:{isValid:k,message:l.email&&!k?"Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.":""}}));const _=l.name.trim().length>=2;h(D=>({...D,name:{isValid:_,message:l.name&&!_?"Ïù¥Î¶ÑÏùÄ 2Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.":""}}));const E=l.password.length>=8,T=_o.getPasswordStrength(l.password);j(T),h(D=>({...D,password:{isValid:E,message:l.password&&!E?"ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8ÏûêÎ¶¨ Ïù¥ÏÉÅ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.":""}}));const R=l.password===l.confirmPassword&&l.confirmPassword.length>0;h(D=>({...D,confirmPassword:{isValid:R,message:l.confirmPassword&&!R?"ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.":""}}));const P=k&&E&&R&&_,O=l.agreedToTerms&&l.agreedToPrivacy;b(P&&O)},[l]);const S=(k,_)=>{c(E=>({...E,[k]:_}))},C=(k,_)=>{u(k),f(_)},w=async k=>{if(k.preventDefault(),!(!x||i))try{await r({email:l.email,password:l.password,name:l.name,referralCode:m?g:void 0}),e==null||e(),n("/settings")}catch(_){console.error("ÌöåÏõêÍ∞ÄÏûÖ Ïã§Ìå®:",_)}},M=()=>y.score<=1?"text-red-500":y.score<=2?"text-yellow-500":y.score<=3?"text-blue-500":"text-green-500",N=k=>{const _=`
      w-full px-4 py-3 border-2 rounded-lg 
      focus:outline-none focus:ring-0 transition-all duration-200
      bg-white dark:bg-gray-800 
      text-gray-800 dark:text-gray-200
    `;return!l[k]||l[k]===""?`${_} border-gray-300 dark:border-gray-600 focus:border-purple-500`:d[k].isValid?`${_} border-green-500 focus:border-green-600`:`${_} border-red-500 focus:border-red-600`};return a.jsxs("div",{className:`max-w-md mx-auto ${t}`,children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4",children:a.jsx("span",{className:"text-white text-2xl",children:"üîÆ"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò Í∞ÄÏûÖÌïòÍ∏∞"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Í∞úÏù∏ÌôîÎêú ÏÇ¨Ï£º Î∂ÑÏÑùÏúºÎ°ú Ïö¥Î™ÖÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî"})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"}),a.jsx("span",{className:"text-red-700 dark:text-red-400 text-sm",children:o})]})}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ïù¥Î©îÏùº Ï£ºÏÜå *"}),a.jsx("input",{type:"email",value:l.email,onChange:k=>S("email",k.target.value),placeholder:"example@email.com",className:N("email"),disabled:i}),d.email.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ïù¥Î¶Ñ *"}),a.jsx("input",{type:"text",value:l.name,onChange:k=>S("name",k.target.value),placeholder:"ÌôçÍ∏∏Îèô",className:N("name"),disabled:i}),d.name.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÎπÑÎ∞ÄÎ≤àÌò∏ *"}),a.jsx("input",{type:"password",value:l.password,onChange:k=>S("password",k.target.value),placeholder:"8Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•",className:N("password"),disabled:i}),l.password&&a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:`text-sm ${M()}`,children:y.feedback}),a.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${y.score<=1?"bg-red-500":y.score<=2?"bg-yellow-500":y.score<=3?"bg-blue-500":"bg-green-500"}`,style:{width:`${y.score/4*100}%`}})})]}),d.password.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ *"}),a.jsx("input",{type:"password",value:l.confirmPassword,onChange:k=>S("confirmPassword",k.target.value),placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Îã§Ïãú ÏûÖÎ†•",className:N("confirmPassword"),disabled:i}),d.confirmPassword.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword.message})]}),a.jsx(Ip,{onValidationChange:C,disabled:i}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"terms",checked:l.agreedToTerms,onChange:k=>S("agreedToTerms",k.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5",disabled:i}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"font-medium",children:"ÏÑúÎπÑÏä§ Ïù¥Ïö©ÏïΩÍ¥Ä"}),"Ïóê ÎèôÏùòÌï©ÎãàÎã§ ",a.jsx("span",{className:"text-red-500",children:"*"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"privacy",checked:l.agreedToPrivacy,onChange:k=>S("agreedToPrivacy",k.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5",disabled:i}),a.jsxs("label",{htmlFor:"privacy",className:"text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"font-medium",children:"Í∞úÏù∏Ï†ïÎ≥¥ Ï≤òÎ¶¨Î∞©Ïπ®"}),"Ïóê ÎèôÏùòÌï©ÎãàÎã§ ",a.jsx("span",{className:"text-red-500",children:"*"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"marketing",checked:l.agreedToMarketing,onChange:k=>S("agreedToMarketing",k.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5",disabled:i}),a.jsx("label",{htmlFor:"marketing",className:"text-sm text-gray-700 dark:text-gray-300",children:"ÎßàÏºÄÌåÖ Ï†ïÎ≥¥ ÏàòÏã†Ïóê ÎèôÏùòÌï©ÎãàÎã§ (ÏÑ†ÌÉù)"})]})]}),a.jsx("button",{type:"submit",disabled:!x||i,className:`
              w-full py-4 px-6 rounded-lg font-medium text-lg transition-all duration-200
              ${x&&!i?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}
            `,children:i?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),a.jsx("span",{children:"Í∞ÄÏûÖ Ï≤òÎ¶¨ Ï§ë..."})]}):"ÌöåÏõêÍ∞ÄÏûÖ ÏôÑÎ£å"}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî?"," ",a.jsx("button",{type:"button",onClick:s,className:"text-purple-600 hover:text-purple-700 font-medium hover:underline",disabled:i,children:"Î°úÍ∑∏Ïù∏ÌïòÍ∏∞"})]})})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Í∞ÄÏûÖÌïòÏãúÎ©¥ Í∞úÏù∏ÌôîÎêú ÏÇ¨Ï£º Î∂ÑÏÑùÍ≥º Ïö¥ÏÑ∏ Ï†ïÎ≥¥Î•º Î∞õÏïÑÎ≥¥Ïã§ Ïàò ÏûàÏäµÎãàÎã§."})})]})},Bp=({className:t="",onSuccess:e,onSignUpClick:s})=>{const n=ze(),{login:r,isLoading:i,error:o}=Qt(),[l,c]=v.useState({email:"",password:"",rememberMe:!1}),[d,h]=v.useState({email:{isValid:!1,message:""},password:{isValid:!1,message:""}}),[m,u]=v.useState(!1);v.useEffect(()=>{const y=_o.isValidEmail(l.email),j=l.email&&!y?"Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.":"",S=l.password.length>=8,C=l.password&&!S?"ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8ÏûêÎ¶¨ Ïù¥ÏÉÅÏûÖÎãàÎã§.":"";h({email:{isValid:y,message:j},password:{isValid:S,message:C}}),u(y&&S)},[l.email,l.password]);const g=(y,j)=>{c(S=>({...S,[y]:j}))},f=async y=>{if(y.preventDefault(),!(!m||i))try{await r({email:l.email,password:l.password}),e==null||e(),n("/dashboard")}catch(j){console.error("Î°úÍ∑∏Ïù∏ Ïã§Ìå®:",j)}},x=y=>{const j=`
      w-full px-4 py-3 border-2 rounded-lg 
      focus:outline-none focus:ring-0 transition-all duration-200
      bg-white dark:bg-gray-800 
      text-gray-800 dark:text-gray-200
      placeholder-gray-400
    `;return!l[y]||l[y]===""?`${j} border-gray-300 dark:border-gray-600 focus:border-purple-500`:d[y].isValid?`${j} border-green-500 focus:border-green-600`:`${j} border-red-500 focus:border-red-600`},b=async()=>{c({email:"demo@sajuapp.com",password:"demo1234",rememberMe:!1}),setTimeout(()=>{f(new Event("submit"))},500)};return a.jsxs("div",{className:`max-w-md mx-auto ${t}`,children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4",children:a.jsx("span",{className:"text-white text-2xl",children:"üîÆ"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò Î°úÍ∑∏Ïù∏"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ÎÇòÎßåÏùò Ïö¥ÏÑ∏ Î∂ÑÏÑùÏùÑ Í≥ÑÏÜçÌï¥Î≥¥ÏÑ∏Ïöî"})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"}),a.jsx("span",{className:"text-red-700 dark:text-red-400 text-sm",children:o})]})}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ïù¥Î©îÏùº Ï£ºÏÜå"}),a.jsx("input",{type:"email",value:l.email,onChange:y=>g("email",y.target.value),placeholder:"example@email.com",className:x("email"),disabled:i}),d.email.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÎπÑÎ∞ÄÎ≤àÌò∏"}),a.jsx("input",{type:"password",value:l.password,onChange:y=>g("password",y.target.value),placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",className:x("password"),disabled:i}),d.password.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:l.rememberMe,onChange:y=>g("rememberMe",y.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500",disabled:i}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Î°úÍ∑∏Ïù∏ ÏÉÅÌÉú Ïú†ÏßÄ"})]}),a.jsx("button",{type:"button",className:"text-sm text-purple-600 hover:text-purple-700 hover:underline",disabled:i,children:"ÎπÑÎ∞ÄÎ≤àÌò∏ Ï∞æÍ∏∞"})]}),a.jsx("button",{type:"submit",disabled:!m||i,className:`
              w-full py-4 px-6 rounded-lg font-medium text-lg transition-all duration-200
              ${m&&!i?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}
            `,children:i?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),a.jsx("span",{children:"Î°úÍ∑∏Ïù∏ Ï§ë..."})]}):"Î°úÍ∑∏Ïù∏"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500",children:"ÎòêÎäî"})})]}),a.jsx("button",{type:"button",onClick:b,disabled:i,className:"w-full py-3 px-6 border-2 border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 disabled:opacity-50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"üéØ"}),a.jsx("span",{children:"Îç∞Î™® Í≥ÑÏ†ïÏúºÎ°ú Ï≤¥ÌóòÌïòÍ∏∞"})]})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ÏïÑÏßÅ Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî?"," ",a.jsx("button",{type:"button",onClick:s,className:"text-purple-600 hover:text-purple-700 font-medium hover:underline",disabled:i,children:"ÌöåÏõêÍ∞ÄÏûÖÌïòÍ∏∞"})]})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:"ÏÜåÏÖú Í≥ÑÏ†ïÏúºÎ°ú Í∞ÑÌé∏ Î°úÍ∑∏Ïù∏"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("button",{className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:!0,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"üåê"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Íµ¨Í∏Ä"})]})}),a.jsx("button",{className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:!0,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"üí¨"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Ïπ¥Ïπ¥Ïò§"})]})}),a.jsx("button",{className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:!0,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"üì±"}),a.jsx("div",{className:"text-xs text-gray-500",children:"ÎÑ§Ïù¥Î≤Ñ"})]})})]}),a.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"(Ï§ÄÎπÑ Ï§ë)"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Î°úÍ∑∏Ïù∏ÌïòÏãúÎ©¥ Í∞úÏù∏ÌôîÎêú ÏÇ¨Ï£º Î∂ÑÏÑùÍ≥º Ï∫òÎ¶∞Îçî Í∏∞Îä•ÏùÑ Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§."})})]})},$p=()=>{const[t,e]=Xx(),s=ze(),{isAuthenticated:n,user:r}=Qt(),i=t.get("mode")||"login",[o,l]=v.useState(i);v.useEffect(()=>{n&&r&&s("/dashboard")},[n,r,s]),v.useEffect(()=>{e({mode:o})},[o,e]),v.useEffect(()=>{const m=t.get("mode")||"login";m!==o&&(m==="login"||m==="signup")&&l(m)},[t,o]);const c=()=>{l("signup")},d=()=>{l("login")},h=()=>{console.log("Ïù∏Ï¶ù ÏÑ±Í≥µ!")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100 dark:from-purple-900 dark:via-gray-900 dark:to-blue-900 flex flex-col justify-center py-12 px-4",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-300/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-pink-300/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-80 h-80 bg-blue-300/20 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"inline-flex items-center space-x-2 mb-6",children:[a.jsx("span",{className:"text-4xl",children:"üîÆ"}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg max-w-md mx-auto",children:"AIÏôÄ Ï†ÑÌÜµ ÏÇ¨Ï£ºÌïôÏù¥ ÎßåÎÇò ÎãπÏã†Ïùò Ïö¥Î™ÖÏùÑ ÏïàÎÇ¥Ìï©ÎãàÎã§"})]}),a.jsx("div",{className:"max-w-md mx-auto mb-8",children:a.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-1 rounded-xl shadow-lg",children:a.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[a.jsx("button",{onClick:d,className:`
                  py-3 px-6 text-sm font-medium rounded-lg transition-all duration-200
                  ${o==="login"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"}
                `,children:"Î°úÍ∑∏Ïù∏"}),a.jsx("button",{onClick:c,className:`
                  py-3 px-6 text-sm font-medium rounded-lg transition-all duration-200
                  ${o==="signup"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"}
                `,children:"ÌöåÏõêÍ∞ÄÏûÖ"})]})})}),a.jsx("div",{className:"transition-all duration-300",children:o==="signup"?a.jsx(Fp,{onSuccess:h,onLoginClick:d}):a.jsx(Bp,{onSuccess:h,onSignUpClick:c})}),a.jsxs("div",{className:"mt-12 max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-8",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞òÍ≥º Ìï®Íªò ÌïòÎäî ÌäπÎ≥ÑÌïú Í≤ΩÌóò"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:a.jsx("span",{className:"text-white text-2xl",children:"üìä"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Í∞úÏù∏Ìôî ÏÇ¨Ï£º Î∂ÑÏÑù"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"ÏÉùÎÖÑÏõîÏùºÏãúÎ•º Î∞îÌÉïÏúºÎ°ú Ìïú Ï†ïÌôïÌïú ÏÇ¨Ï£º Ìï¥ÏÑùÍ≥º Ïö¥ÏÑ∏ Î∂ÑÏÑùÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§."})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:a.jsx("span",{className:"text-white text-2xl",children:"üìÖ"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Ïä§ÎßàÌä∏ Ï∫òÎ¶∞Îçî"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"ÏùºÏ†ï Í¥ÄÎ¶¨ÏôÄ Ïö¥ÏÑ∏ Ï†ïÎ≥¥Í∞Ä ÌÜµÌï©Îêú ÏßÄÎä•Ìòï Ï∫òÎ¶∞ÎçîÎ°ú ÌïòÎ£®Î•º Í≥ÑÌöçÌïòÏÑ∏Ïöî."})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:a.jsx("span",{className:"text-white text-2xl",children:"üìù"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Îã§Ïù¥Ïñ¥Î¶¨ & Ïö¥ÏÑ∏"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Îß§ÏùºÏùò Í∏∞Î°ùÍ≥º Ìï®Íªò Í∞úÏù∏ ÎßûÏ∂§ Ïö¥ÏÑ∏ÏôÄ Ï°∞Ïñ∏ÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî."})]})]})]}),o==="signup"&&a.jsx("div",{className:"mt-12 max-w-md mx-auto",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 p-6 rounded-xl border border-yellow-200 dark:border-yellow-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-3xl mb-2 block",children:"üéÅ"}),a.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"ÏπúÍµ¨ Ï∂îÏ≤ú ÌòúÌÉù"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Ï∂îÏ≤úÏù∏ ÏΩîÎìúÎ°ú Í∞ÄÏûÖÌïòÏãúÎ©¥ ÌäπÎ≥ÑÌïú ÌòúÌÉùÏùÑ ÎìúÎ†§Ïöî!"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[a.jsx("div",{children:"‚ú® ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä• 1Í∞úÏõî Î¨¥Î£å"}),a.jsx("div",{children:"üîç ÌäπÎ≥Ñ ÏÇ¨Ï£º Î∂ÑÏÑù Î¨¥Î£å Ï†úÍ≥µ"}),a.jsx("div",{children:"üíï Í∂ÅÌï© Î∂ÑÏÑù ÏÑúÎπÑÏä§ Î¨¥Î£å"})]})]})})})]}),a.jsxs("footer",{className:"relative z-10 mt-16 text-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"¬© 2024 Ïö¥Î™ÖÎÇòÏπ®Î∞ò. Î™®Îì† Í∂åÎ¶¨ Î≥¥Ïú†."}),a.jsxs("div",{className:"mt-2 space-x-4",children:[a.jsx("a",{href:"#",className:"hover:text-purple-600 transition-colors",children:"Ïù¥Ïö©ÏïΩÍ¥Ä"}),a.jsx("a",{href:"#",className:"hover:text-purple-600 transition-colors",children:"Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®"}),a.jsx("a",{href:"#",className:"hover:text-purple-600 transition-colors",children:"Í≥†Í∞ùÏßÄÏõê"})]})]})]})},B0=v.createContext(void 0),lt=()=>{const t=v.useContext(B0);if(!t)throw new Error("useCalendar must be used within a CalendarProvider");return t},Vp=({children:t})=>{const[e,s]=v.useState(new Date),[n,r]=v.useState("month"),[i,o]=v.useState(null),[l,c]=v.useState([]),[d,h]=v.useState([{id:"1",text:"Î≥¥Í≥†ÏÑú ÏûëÏÑ±",completed:!1,priority:"high",date:B(new Date,"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"2",text:"Ïû•Î≥¥Í∏∞",completed:!0,priority:"medium",date:B(new Date,"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"3",text:"Ïö¥ÎèôÌïòÍ∏∞",completed:!1,priority:"low",date:B(new Date,"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"4",text:"ÌåÄ ÎØ∏ÌåÖ Ï§ÄÎπÑ",completed:!1,priority:"high",date:B(new Date,"yyyy-MM-dd"),hasTime:!0,startTime:"14:00",endTime:"15:00",createdAt:new Date,updatedAt:new Date},{id:"5",text:"Ïù¥Î©îÏùº ÌôïÏù∏",completed:!0,priority:"medium",date:B(new Date,"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"6",text:"ÏΩîÎìú Î¶¨Î∑∞",completed:!1,priority:"high",date:B(new Date(new Date().setDate(new Date().getDate()+1)),"yyyy-MM-dd"),hasTime:!0,startTime:"10:30",endTime:"11:30",createdAt:new Date,updatedAt:new Date},{id:"7",text:"ÌîÑÎ°úÏ†ùÌä∏ Í≥ÑÌöçÏÑú ÏûëÏÑ±",completed:!1,priority:"high",date:B(new Date(new Date().setDate(new Date().getDate()+2)),"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"8",text:"Ï±Ö ÏùΩÍ∏∞",completed:!1,priority:"low",date:B(new Date(new Date().setDate(new Date().getDate()+3)),"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"9",text:"Î≥ëÏõê ÏòàÏïΩ",completed:!1,priority:"medium",date:B(new Date(new Date().setDate(new Date().getDate()+5)),"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date},{id:"10",text:"ÏπúÍµ¨ ÏÉùÏùº ÏÑ†Î¨º Ï§ÄÎπÑ",completed:!1,priority:"medium",date:B(new Date(new Date().setDate(new Date().getDate()+7)),"yyyy-MM-dd"),createdAt:new Date,updatedAt:new Date}]),[m]=v.useState({timezone:"Asia/Seoul",weekStartsOn:0,defaultView:"month",showLunarCalendar:!0,showFortune:!0,theme:"light",language:"ko"}),u=v.useCallback(()=>{const _=new Date(e);switch(n){case"year":_.setFullYear(e.getFullYear()-1);break;case"month":_.setMonth(e.getMonth()-1);break;case"week":_.setDate(e.getDate()-7);break;case"day":_.setDate(e.getDate()-1);break}s(_)},[e,n]),g=v.useCallback(()=>{const _=new Date(e);switch(n){case"year":_.setFullYear(e.getFullYear()+1);break;case"month":_.setMonth(e.getMonth()+1);break;case"week":_.setDate(e.getDate()+7);break;case"day":_.setDate(e.getDate()+1);break}s(_)},[e,n]),f=v.useCallback(()=>{s(new Date)},[]),x=v.useCallback(_=>{const E={..._,id:crypto.randomUUID(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c(T=>[...T,E])},[]),b=v.useCallback((_,E)=>{c(T=>T.map(R=>R.id===_?{...R,...E,updated_at:new Date().toISOString()}:R))},[]),y=v.useCallback(_=>{c(E=>E.filter(T=>T.id!==_))},[]),j=v.useCallback((_,E)=>l.filter(T=>{const R=new Date(T.start_time),P=new Date(T.end_time);return R>=_&&R<=E||P>=_&&P<=E||R<=_&&P>=E}),[l]),S=v.useCallback(_=>{const E={..._,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date};h(T=>[...T,E])},[]),C=v.useCallback((_,E)=>{h(T=>T.map(R=>R.id===_?{...R,...E,updatedAt:new Date}:R))},[]),w=v.useCallback(_=>{h(E=>E.filter(T=>T.id!==_))},[]),M=v.useCallback(_=>{h(E=>E.map(T=>T.id===_?{...T,completed:!T.completed,updatedAt:new Date}:T))},[]),N=v.useCallback(_=>{const E=B(_,"yyyy-MM-dd");return d.filter(T=>T.date===E)},[d]),k={currentDate:e,viewMode:n,events:l,selectedDate:i,settings:m,todos:d,setCurrentDate:s,setViewMode:r,setSelectedDate:o,navigatePrevious:u,navigateNext:g,navigateToday:f,addEvent:x,updateEvent:b,deleteEvent:y,getEventsForDateRange:j,addTodo:S,updateTodo:C,deleteTodo:w,toggleTodo:M,getTodosForDate:N};return a.jsx(B0.Provider,{value:k,children:t})};function $0(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hp}=Object.prototype,{getPrototypeOf:Ml}=Object,{iterator:ri,toStringTag:V0}=Symbol,ai=(t=>e=>{const s=Hp.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ct=t=>(t=t.toLowerCase(),e=>ai(e)===t),ii=t=>e=>typeof e===t,{isArray:cn}=Array,er=ii("undefined");function Cr(t){return t!==null&&!er(t)&&t.constructor!==null&&!er(t.constructor)&&Ve(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const H0=ct("ArrayBuffer");function zp(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&H0(t.buffer),e}const Up=ii("string"),Ve=ii("function"),z0=ii("number"),_r=t=>t!==null&&typeof t=="object",Wp=t=>t===!0||t===!1,xa=t=>{if(ai(t)!=="object")return!1;const e=Ml(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(V0 in t)&&!(ri in t)},Yp=t=>{if(!_r(t)||Cr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gp=ct("Date"),Kp=ct("File"),qp=ct("Blob"),Jp=ct("FileList"),Xp=t=>_r(t)&&Ve(t.pipe),Qp=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ve(t.append)&&((e=ai(t))==="formdata"||e==="object"&&Ve(t.toString)&&t.toString()==="[object FormData]"))},Zp=ct("URLSearchParams"),[eb,tb,sb,nb]=["ReadableStream","Request","Response","Headers"].map(ct),rb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mr(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),cn(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{if(Cr(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,t[l],l,t)}}function U0(t,e){if(Cr(t))return null;e=e.toLowerCase();const s=Object.keys(t);let n=s.length,r;for(;n-- >0;)if(r=s[n],e===r.toLowerCase())return r;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W0=t=>!er(t)&&t!==ms;function Mo(){const{caseless:t}=W0(this)&&this||{},e={},s=(n,r)=>{const i=t&&U0(e,r)||r;xa(e[i])&&xa(n)?e[i]=Mo(e[i],n):xa(n)?e[i]=Mo({},n):cn(n)?e[i]=n.slice():e[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Mr(arguments[n],s);return e}const ab=(t,e,s,{allOwnKeys:n}={})=>(Mr(e,(r,i)=>{s&&Ve(r)?t[i]=$0(r,s):t[i]=r},{allOwnKeys:n}),t),ib=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ob=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},lb=(t,e,s,n)=>{let r,i,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&Ml(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},cb=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},db=t=>{if(!t)return null;if(cn(t))return t;let e=t.length;if(!z0(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},hb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ml(Uint8Array)),ub=(t,e)=>{const n=(t&&t[ri]).call(t);let r;for(;(r=n.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},mb=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},gb=ct("HTMLFormElement"),fb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),Xc=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),xb=ct("RegExp"),Y0=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};Mr(s,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(n[i]=o||r)}),Object.defineProperties(t,n)},pb=t=>{Y0(t,(e,s)=>{if(Ve(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(Ve(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},bb=(t,e)=>{const s={},n=r=>{r.forEach(i=>{s[i]=!0})};return cn(t)?n(t):n(String(t).split(e)),s},yb=()=>{},vb=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function jb(t){return!!(t&&Ve(t.append)&&t[V0]==="FormData"&&t[ri])}const wb=t=>{const e=new Array(10),s=(n,r)=>{if(_r(n)){if(e.indexOf(n)>=0)return;if(Cr(n))return n;if(!("toJSON"in n)){e[r]=n;const i=cn(n)?[]:{};return Mr(n,(o,l)=>{const c=s(o,r+1);!er(c)&&(i[l]=c)}),e[r]=void 0,i}}return n};return s(t,0)},kb=ct("AsyncFunction"),Nb=t=>t&&(_r(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),G0=((t,e)=>t?setImmediate:e?((s,n)=>(ms.addEventListener("message",({source:r,data:i})=>{r===ms&&i===s&&n.length&&n.shift()()},!1),r=>{n.push(r),ms.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ve(ms.postMessage)),Sb=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||G0,Cb=t=>t!=null&&Ve(t[ri]),A={isArray:cn,isArrayBuffer:H0,isBuffer:Cr,isFormData:Qp,isArrayBufferView:zp,isString:Up,isNumber:z0,isBoolean:Wp,isObject:_r,isPlainObject:xa,isEmptyObject:Yp,isReadableStream:eb,isRequest:tb,isResponse:sb,isHeaders:nb,isUndefined:er,isDate:Gp,isFile:Kp,isBlob:qp,isRegExp:xb,isFunction:Ve,isStream:Xp,isURLSearchParams:Zp,isTypedArray:hb,isFileList:Jp,forEach:Mr,merge:Mo,extend:ab,trim:rb,stripBOM:ib,inherits:ob,toFlatObject:lb,kindOf:ai,kindOfTest:ct,endsWith:cb,toArray:db,forEachEntry:ub,matchAll:mb,isHTMLForm:gb,hasOwnProperty:Xc,hasOwnProp:Xc,reduceDescriptors:Y0,freezeMethods:pb,toObjectSet:bb,toCamelCase:fb,noop:yb,toFiniteNumber:vb,findKey:U0,global:ms,isContextDefined:W0,isSpecCompliantForm:jb,toJSONObject:wb,isAsyncFn:kb,isThenable:Nb,setImmediate:G0,asap:Sb,isIterable:Cb};function ee(t,e,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}A.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const K0=ee.prototype,q0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{q0[t]={value:t}});Object.defineProperties(ee,q0);Object.defineProperty(K0,"isAxiosError",{value:!0});ee.from=(t,e,s,n,r,i)=>{const o=Object.create(K0);return A.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ee.call(o,t.message,e,s,n,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const _b=null;function Eo(t){return A.isPlainObject(t)||A.isArray(t)}function J0(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function Qc(t,e,s){return t?t.concat(e).map(function(r,i){return r=J0(r),!s&&i?"["+r+"]":r}).join(s?".":""):e}function Mb(t){return A.isArray(t)&&!t.some(Eo)}const Eb=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function oi(t,e,s){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=A.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!A.isUndefined(b[x])});const n=s.metaTokens,r=s.visitor||h,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(r))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(A.isDate(f))return f.toISOString();if(A.isBoolean(f))return f.toString();if(!c&&A.isBlob(f))throw new ee("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(f)||A.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function h(f,x,b){let y=f;if(f&&!b&&typeof f=="object"){if(A.endsWith(x,"{}"))x=n?x:x.slice(0,-2),f=JSON.stringify(f);else if(A.isArray(f)&&Mb(f)||(A.isFileList(f)||A.endsWith(x,"[]"))&&(y=A.toArray(f)))return x=J0(x),y.forEach(function(S,C){!(A.isUndefined(S)||S===null)&&e.append(o===!0?Qc([x],C,i):o===null?x:x+"[]",d(S))}),!1}return Eo(f)?!0:(e.append(Qc(b,x,i),d(f)),!1)}const m=[],u=Object.assign(Eb,{defaultVisitor:h,convertValue:d,isVisitable:Eo});function g(f,x){if(!A.isUndefined(f)){if(m.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(f),A.forEach(f,function(y,j){(!(A.isUndefined(y)||y===null)&&r.call(e,y,A.isString(j)?j.trim():j,x,u))===!0&&g(y,x?x.concat(j):[j])}),m.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Zc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function El(t,e){this._pairs=[],t&&oi(t,this,e)}const X0=El.prototype;X0.append=function(e,s){this._pairs.push([e,s])};X0.toString=function(e){const s=e?function(n){return e.call(this,n,Zc)}:Zc;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function Tb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q0(t,e,s){if(!e)return t;const n=s&&s.encode||Tb;A.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(r?i=r(e,s):i=A.isURLSearchParams(e)?e.toString():new El(e,s).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ed{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Z0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ab=typeof URLSearchParams<"u"?URLSearchParams:El,Db=typeof FormData<"u"?FormData:null,Pb=typeof Blob<"u"?Blob:null,Rb={isBrowser:!0,classes:{URLSearchParams:Ab,FormData:Db,Blob:Pb},protocols:["http","https","file","blob","url","data"]},Tl=typeof window<"u"&&typeof document<"u",To=typeof navigator=="object"&&navigator||void 0,Lb=Tl&&(!To||["ReactNative","NativeScript","NS"].indexOf(To.product)<0),Ob=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ib=Tl&&window.location.href||"http://localhost",Fb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tl,hasStandardBrowserEnv:Lb,hasStandardBrowserWebWorkerEnv:Ob,navigator:To,origin:Ib},Symbol.toStringTag,{value:"Module"})),Te={...Fb,...Rb};function Bb(t,e){return oi(t,new Te.classes.URLSearchParams,{visitor:function(s,n,r,i){return Te.isNode&&A.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function $b(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vb(t){const e={},s=Object.keys(t);let n;const r=s.length;let i;for(n=0;n<r;n++)i=s[n],e[i]=t[i];return e}function em(t){function e(s,n,r,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&A.isArray(r)?r.length:o,c?(A.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!l):((!r[o]||!A.isObject(r[o]))&&(r[o]=[]),e(s,n,r[o],i)&&A.isArray(r[o])&&(r[o]=Vb(r[o])),!l)}if(A.isFormData(t)&&A.isFunction(t.entries)){const s={};return A.forEachEntry(t,(n,r)=>{e($b(n),r,s,0)}),s}return null}function Hb(t,e,s){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Er={transitional:Z0,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,i=A.isObject(e);if(i&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return r?JSON.stringify(em(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e)||A.isReadableStream(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bb(e,this.formSerializer).toString();if((l=A.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return oi(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(s.setContentType("application/json",!1),Hb(e)):e}],transformResponse:[function(e){const s=this.transitional||Er.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(A.isResponse(e)||A.isReadableStream(e))return e;if(e&&A.isString(e)&&(n&&!this.responseType||r)){const o=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ee.from(l,ee.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{Er.headers[t]={}});const zb=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ub=t=>{const e={};let s,n,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),s=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!s||e[s]&&zb[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},td=Symbol("internals");function bn(t){return t&&String(t).trim().toLowerCase()}function pa(t){return t===!1||t==null?t:A.isArray(t)?t.map(pa):String(t)}function Wb(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const Yb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ai(t,e,s,n,r){if(A.isFunction(n))return n.call(this,e,s);if(r&&(e=s),!!A.isString(e)){if(A.isString(n))return e.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(e)}}function Gb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function Kb(t,e){const s=A.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(r,i,o){return this[n].call(this,e,r,i,o)},configurable:!0})})}let He=class{constructor(e){e&&this.set(e)}set(e,s,n){const r=this;function i(l,c,d){const h=bn(c);if(!h)throw new Error("header name must be a non-empty string");const m=A.findKey(r,h);(!m||r[m]===void 0||d===!0||d===void 0&&r[m]!==!1)&&(r[m||c]=pa(l))}const o=(l,c)=>A.forEach(l,(d,h)=>i(d,h,c));if(A.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(A.isString(e)&&(e=e.trim())&&!Yb(e))o(Ub(e),s);else if(A.isObject(e)&&A.isIterable(e)){let l={},c,d;for(const h of e){if(!A.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?A.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,s)}else e!=null&&i(s,e,n);return this}get(e,s){if(e=bn(e),e){const n=A.findKey(this,e);if(n){const r=this[n];if(!s)return r;if(s===!0)return Wb(r);if(A.isFunction(s))return s.call(this,r,n);if(A.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=bn(e),e){const n=A.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||Ai(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let r=!1;function i(o){if(o=bn(o),o){const l=A.findKey(n,o);l&&(!s||Ai(n,n[l],l,s))&&(delete n[l],r=!0)}}return A.isArray(e)?e.forEach(i):i(e),r}clear(e){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const i=s[n];(!e||Ai(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const s=this,n={};return A.forEach(this,(r,i)=>{const o=A.findKey(n,i);if(o){s[o]=pa(r),delete s[i];return}const l=e?Gb(i):String(i).trim();l!==i&&delete s[i],s[l]=pa(r),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return A.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=e&&A.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[td]=this[td]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=bn(o);n[l]||(Kb(r,o),n[l]=!0)}return A.isArray(e)?e.forEach(i):i(e),this}};He.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(He.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});A.freezeMethods(He);function Di(t,e){const s=this||Er,n=e||s,r=He.from(n.headers);let i=n.data;return A.forEach(t,function(l){i=l.call(s,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function tm(t){return!!(t&&t.__CANCEL__)}function dn(t,e,s){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,s),this.name="CanceledError"}A.inherits(dn,ee,{__CANCEL__:!0});function sm(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new ee("Request failed with status code "+s.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function qb(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jb(t,e){t=t||10;const s=new Array(t),n=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=n[i];o||(o=d),s[r]=c,n[r]=d;let m=i,u=0;for(;m!==r;)u+=s[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),d-o<e)return;const g=h&&d-h;return g?Math.round(u*1e3/g):void 0}}function Xb(t,e){let s=0,n=1e3/e,r,i;const o=(d,h=Date.now())=>{s=h,r=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const h=Date.now(),m=h-s;m>=n?o(d,h):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},n-m)))},()=>r&&o(r)]}const Ea=(t,e,s=3)=>{let n=0;const r=Jb(50,250);return Xb(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=r(c),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},s)},sd=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},nd=t=>(...e)=>A.asap(()=>t(...e)),Qb=Te.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Te.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,Zb=Te.hasStandardBrowserEnv?{write(t,e,s,n,r,i){const o=[t+"="+encodeURIComponent(e)];A.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),A.isString(n)&&o.push("path="+n),A.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ey(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ty(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nm(t,e,s){let n=!ey(e);return t&&(n||s==!1)?ty(t,e):e}const rd=t=>t instanceof He?{...t}:t;function Cs(t,e){e=e||{};const s={};function n(d,h,m,u){return A.isPlainObject(d)&&A.isPlainObject(h)?A.merge.call({caseless:u},d,h):A.isPlainObject(h)?A.merge({},h):A.isArray(h)?h.slice():h}function r(d,h,m,u){if(A.isUndefined(h)){if(!A.isUndefined(d))return n(void 0,d,m,u)}else return n(d,h,m,u)}function i(d,h){if(!A.isUndefined(h))return n(void 0,h)}function o(d,h){if(A.isUndefined(h)){if(!A.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function l(d,h,m){if(m in e)return n(d,h);if(m in t)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,m)=>r(rd(d),rd(h),m,!0)};return A.forEach(Object.keys({...t,...e}),function(h){const m=c[h]||r,u=m(t[h],e[h],h);A.isUndefined(u)&&m!==l||(s[h]=u)}),s}const rm=t=>{const e=Cs({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=He.from(o),e.url=Q0(nm(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(A.isFormData(s)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Te.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(e)),n||n!==!1&&Qb(e.url))){const d=r&&i&&Zb.read(i);d&&o.set(r,d)}return e},sy=typeof XMLHttpRequest<"u",ny=sy&&function(t){return new Promise(function(s,n){const r=rm(t);let i=r.data;const o=He.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,h,m,u,g,f;function x(){g&&g(),f&&f(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function y(){if(!b)return;const S=He.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:t,request:b};sm(function(N){s(N),x()},function(N){n(N),x()},w),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new ee("Request aborted",ee.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new ee("Network Error",ee.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||Z0;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),n(new ee(C,w.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&A.forEach(o.toJSON(),function(C,w){b.setRequestHeader(w,C)}),A.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),l&&l!=="json"&&(b.responseType=r.responseType),d&&([u,f]=Ea(d,!0),b.addEventListener("progress",u)),c&&b.upload&&([m,g]=Ea(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(h=S=>{b&&(n(!S||S.type?new dn(null,t,b):S),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const j=qb(r.url);if(j&&Te.protocols.indexOf(j)===-1){n(new ee("Unsupported protocol "+j+":",ee.ERR_BAD_REQUEST,t));return}b.send(i||null)})},ry=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,r;const i=function(d){if(!r){r=!0,l();const h=d instanceof Error?d:this.reason;n.abort(h instanceof ee?h:new dn(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new ee(`timeout ${e} of ms exceeded`,ee.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>A.asap(l),c}},ay=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,r;for(;n<s;)r=n+e,yield t.slice(n,r),n=r},iy=async function*(t,e){for await(const s of oy(t))yield*ay(s,e)},oy=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},ad=(t,e,s,n)=>{const r=iy(t,e);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await r.next();if(d){l(),c.close();return}let m=h.byteLength;if(s){let u=i+=m;s(u)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",am=li&&typeof ReadableStream=="function",ly=li&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),im=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cy=am&&im(()=>{let t=!1;const e=new Request(Te.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),id=64*1024,Ao=am&&im(()=>A.isReadableStream(new Response("").body)),Ta={stream:Ao&&(t=>t.body)};li&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ta[e]&&(Ta[e]=A.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new ee(`Response type '${e}' is not supported`,ee.ERR_NOT_SUPPORT,n)})})})(new Response);const dy=async t=>{if(t==null)return 0;if(A.isBlob(t))return t.size;if(A.isSpecCompliantForm(t))return(await new Request(Te.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(A.isArrayBufferView(t)||A.isArrayBuffer(t))return t.byteLength;if(A.isURLSearchParams(t)&&(t=t+""),A.isString(t))return(await ly(t)).byteLength},hy=async(t,e)=>{const s=A.toFiniteNumber(t.getContentLength());return s??dy(e)},uy=li&&(async t=>{let{url:e,method:s,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:m="same-origin",fetchOptions:u}=rm(t);d=d?(d+"").toLowerCase():"text";let g=ry([r,i&&i.toAbortSignal()],o),f;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(c&&cy&&s!=="get"&&s!=="head"&&(b=await hy(h,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(A.isFormData(n)&&(M=w.headers.get("content-type"))&&h.setContentType(M),w.body){const[N,k]=sd(b,Ea(nd(c)));n=ad(w.body,id,N,k)}}A.isString(m)||(m=m?"include":"omit");const y="credentials"in Request.prototype;f=new Request(e,{...u,signal:g,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:y?m:void 0});let j=await fetch(f,u);const S=Ao&&(d==="stream"||d==="response");if(Ao&&(l||S&&x)){const w={};["status","statusText","headers"].forEach(_=>{w[_]=j[_]});const M=A.toFiniteNumber(j.headers.get("content-length")),[N,k]=l&&sd(M,Ea(nd(l),!0))||[];j=new Response(ad(j.body,id,N,()=>{k&&k(),x&&x()}),w)}d=d||"text";let C=await Ta[A.findKey(Ta,d)||"text"](j,t);return!S&&x&&x(),await new Promise((w,M)=>{sm(w,M,{data:C,headers:He.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:f})})}catch(y){throw x&&x(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,t,f),{cause:y.cause||y}):ee.from(y,y&&y.code,t,f)}}),Do={http:_b,xhr:ny,fetch:uy};A.forEach(Do,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const od=t=>`- ${t}`,my=t=>A.isFunction(t)||t===null||t===!1,om={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let s,n;const r={};for(let i=0;i<e;i++){s=t[i];let o;if(n=s,!my(s)&&(n=Do[(o=String(s)).toLowerCase()],n===void 0))throw new ee(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(od).join(`
`):" "+od(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Do};function Pi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dn(null,t)}function ld(t){return Pi(t),t.headers=He.from(t.headers),t.data=Di.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),om.getAdapter(t.adapter||Er.adapter)(t).then(function(n){return Pi(t),n.data=Di.call(t,t.transformResponse,n),n.headers=He.from(n.headers),n},function(n){return tm(n)||(Pi(t),n&&n.response&&(n.response.data=Di.call(t,t.transformResponse,n.response),n.response.headers=He.from(n.response.headers))),Promise.reject(n)})}const lm="1.11.0",ci={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ci[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const cd={};ci.transitional=function(e,s,n){function r(i,o){return"[Axios v"+lm+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new ee(r(o," has been removed"+(s?" in "+s:"")),ee.ERR_DEPRECATED);return s&&!cd[o]&&(cd[o]=!0,console.warn(r(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,l):!0}};ci.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function gy(t,e,s){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const i=n[r],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new ee("option "+i+" must be "+c,ee.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const ba={assertOptions:gy,validators:ci},ut=ba.validators;let ps=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ed,response:new ed}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Cs(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:i}=s;n!==void 0&&ba.assertOptions(n,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),r!=null&&(A.isFunction(r)?s.paramsSerializer={serialize:r}:ba.assertOptions(r,{encode:ut.function,serialize:ut.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ba.assertOptions(s,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&A.merge(i.common,i[s.method]);i&&A.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=He.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,m=0,u;if(!c){const f=[ld.bind(this),void 0];for(f.unshift(...l),f.push(...d),u=f.length,h=Promise.resolve(s);m<u;)h=h.then(f[m++],f[m++]);return h}u=l.length;let g=s;for(m=0;m<u;){const f=l[m++],x=l[m++];try{g=f(g)}catch(b){x.call(this,b);break}}try{h=ld.call(this,g)}catch(f){return Promise.reject(f)}for(m=0,u=d.length;m<u;)h=h.then(d[m++],d[m++]);return h}getUri(e){e=Cs(this.defaults,e);const s=nm(e.baseURL,e.url,e.allowAbsoluteUrls);return Q0(s,e.params,e.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(e){ps.prototype[e]=function(s,n){return this.request(Cs(n||{},{method:e,url:s,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(e){function s(n){return function(i,o,l){return this.request(Cs(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ps.prototype[e]=s(),ps.prototype[e+"Form"]=s(!0)});let fy=class cm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new dn(i,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new cm(function(r){e=r}),cancel:e}}};function xy(t){return function(s){return t.apply(null,s)}}function py(t){return A.isObject(t)&&t.isAxiosError===!0}const Po={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Po).forEach(([t,e])=>{Po[e]=t});function dm(t){const e=new ps(t),s=$0(ps.prototype.request,e);return A.extend(s,ps.prototype,e,{allOwnKeys:!0}),A.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return dm(Cs(t,r))},s}const oe=dm(Er);oe.Axios=ps;oe.CanceledError=dn;oe.CancelToken=fy;oe.isCancel=tm;oe.VERSION=lm;oe.toFormData=oi;oe.AxiosError=ee;oe.Cancel=oe.CanceledError;oe.all=function(e){return Promise.all(e)};oe.spread=xy;oe.isAxiosError=py;oe.mergeConfig=Cs;oe.AxiosHeaders=He;oe.formToJSON=t=>em(A.isHTMLForm(t)?new FormData(t):t);oe.getAdapter=om.getAdapter;oe.HttpStatusCode=Po;oe.default=oe;const{Axios:YM,AxiosError:GM,CanceledError:KM,isCancel:qM,CancelToken:JM,VERSION:XM,all:QM,Cancel:ZM,isAxiosError:eE,spread:tE,toFormData:sE,AxiosHeaders:nE,HttpStatusCode:rE,formToJSON:aE,getAdapter:iE,mergeConfig:oE}=oe,Hr={calendar:"https://sajuapp-calendar.up.railway.app/api/calendar",diary:"https://sajuapp-diary.up.railway.app/api",saju:"https://sajuapp-saju.up.railway.app/api"},by=typeof window<"u"&&window.location.hostname==="localhost",yy=!by||!0,vy={calendar:Hr.calendar,diary:Hr.diary,saju:Hr.saju,lifetimeFortune:Hr.saju},Al=t=>{const e=vy[t];return typeof window<"u"&&(console.log(`[API Config] Service: ${t}, URL: ${e}`),console.log(`[API Config] Mode: production, isProduction: ${yy}`)),e},be=oe.create({baseURL:Al("calendar"),headers:{"Content-Type":"application/json"}}),Tt={getEvents:async t=>(await be.get("/events",{params:t})).data.data||[],getEvent:async t=>(await be.get(`/events/${t}`)).data.data,createEvent:async t=>(await be.post("/events",t)).data.data,updateEvent:async(t,e)=>(await be.put(`/events/${t}`,e)).data.data,deleteEvent:async t=>{await be.delete(`/events/${t}`)}},dd={getTags:async()=>(await be.get("/tags")).data,getTag:async t=>(await be.get(`/tags/${t}`)).data,createTag:async t=>(await be.post("/tags",t)).data,updateTag:async(t,e)=>(await be.put(`/tags/${t}`,e)).data,deleteTag:async t=>{await be.delete(`/tags/${t}`)},addTagsToEvent:async(t,e)=>(await be.post(`/tags/events/${t}/tags`,{tagIds:e})).data,getEventTags:async t=>(await be.get(`/tags/events/${t}/tags`)).data,removeTagFromEvent:async(t,e)=>{await be.delete(`/tags/events/${t}/tags/${e}`)}},di={getComprehensiveInterpretation:async t=>(await be.post("/api/interpretation/comprehensive",t)).data.data,getBasicAnalysis:async t=>(await be.post("/api/interpretation/basic",t)).data.data,getJohooAnalysis:async t=>(await be.post("/api/interpretation/johoo",t)).data.data,getSpiritualAnalysis:async t=>(await be.post("/api/interpretation/spiritual",t)).data.data,getPersonalityAnalysis:async t=>(await be.post("/api/interpretation/personality",t)).data.data,getFortuneAnalysis:async t=>(await be.post("/api/interpretation/fortune",t)).data.data,getCareerGuidance:async t=>(await be.post("/api/interpretation/career",t)).data.data,getRelationshipAnalysis:async t=>(await be.post("/api/interpretation/relationship",t)).data.data,getHealthGuidance:async t=>(await be.post("/api/interpretation/health",t)).data.data},Ie={getDiaries:async t=>(await oe.get("http://localhost:5002/api/diaries",{params:t,headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data,getDiariesForDateRange:async(t,e)=>(await oe.get("http://localhost:5002/api/diaries/search",{params:{startDate:t,endDate:e},headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data,getDiaryByDate:async t=>(await oe.get(`http://localhost:5002/api/diaries/${t}`,{headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data,createDiary:async t=>(await oe.post("http://localhost:5002/api/diaries",t,{headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data,updateDiary:async(t,e)=>(await oe.put(`http://localhost:5002/api/diaries/${t}`,e,{headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data,deleteDiary:async t=>{await oe.delete(`http://localhost:5002/api/diaries/${t}`,{headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})},searchDiaries:async t=>(await oe.get("http://localhost:5002/api/diaries/search",{params:t,headers:{"x-user-id":"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"}})).data},jy=async(t=[])=>{const e=new Date,s=B(e,"yyyy-MM-dd");try{const[n,r]=await Promise.all([Tt.getEvents({start_date:s,end_date:s}),Ie.getDiaryByDate(s).catch(()=>null)]),i=t.filter(l=>It(new Date(l.date),e)),o=i.filter(l=>l.completed).length;return{events:n||[],todos:i,diary:r,hasScheduledEvents:((n==null?void 0:n.length)||0)>0,completedTodos:o,totalTodos:i.length}}catch(n){return console.error("Failed to fetch today data:",n),{events:[],todos:[],diary:null,hasScheduledEvents:!1,completedTodos:0,totalTodos:0}}},wy=async(t=[])=>{const e=new Date,s=kr(e,{weekStartsOn:0}),n=Nr(e,{weekStartsOn:0}),r=Sr({start:s,end:n});try{const[i,o]=await Promise.all([Tt.getEvents({start_date:B(s,"yyyy-MM-dd"),end_date:B(n,"yyyy-MM-dd")}),Promise.all(r.map(u=>Ie.getDiaryByDate(B(u,"yyyy-MM-dd")).catch(()=>null)))]),l=t.filter(u=>{const g=new Date(u.date);return g>=s&&g<=n}),c=l.filter(u=>u.completed).length,d=l.length>0?c/l.length*100:0,h=o.filter(u=>u&&u.mood).map(u=>({date:u.date,mood:u.mood||"üòê"})),m=r.map(u=>{const g=B(u,"yyyy-MM-dd"),f=(i==null?void 0:i.filter(y=>B(new Date(y.start_time),"yyyy-MM-dd")===g))||[],x=l.filter(y=>B(new Date(y.date),"yyyy-MM-dd")===g),b=o.some(y=>y&&y.date===g);return{date:g,events:f.length,todos:x.length,diary:b}});return{completionRate:Math.round(d),totalEvents:(i==null?void 0:i.length)||0,totalDiaries:o.filter(u=>u).length,moodTrend:h,activityData:m}}catch(i){return console.error("Failed to fetch weekly stats:",i),{completionRate:0,totalEvents:0,totalDiaries:0,moodTrend:[],activityData:[]}}},ky=async(t=[])=>{const e=new Date,s=Qn(e),n=Zn(e),r=Sr({start:s,end:n});try{const[i,o]=await Promise.all([Tt.getEvents({start_date:B(s,"yyyy-MM-dd"),end_date:B(n,"yyyy-MM-dd")}),Promise.all(r.map(u=>Ie.getDiaryByDate(B(u,"yyyy-MM-dd")).catch(()=>null)))]),l=t.filter(u=>{const g=new Date(u.date);return g>=s&&g<=n}),c=r.map(u=>{const g=B(u,"yyyy-MM-dd"),f=(i==null?void 0:i.filter(j=>B(new Date(j.start_time),"yyyy-MM-dd")===g))||[],x=l.filter(j=>B(new Date(j.date),"yyyy-MM-dd")===g),b=o.some(j=>j&&j.date===g);let y=0;return f.length>0&&(y+=1),x.length>0&&(y+=1),b&&(y+=1),x.filter(j=>j.completed).length>0&&(y+=1),{date:g,intensity:Math.min(y,4)}}),d=new Map;i==null||i.forEach(u=>{u.tags&&Array.isArray(u.tags)&&u.tags.forEach(g=>{const f=typeof g=="string"?g:g.name;d.set(f,(d.get(f)||0)+1)})});const h=Array.from(d.entries()).sort((u,g)=>g[1]-u[1]).slice(0,10).map(([u,g],f)=>({name:u,count:g,color:["#3B82F6","#8B5CF6","#10B981","#F59E0B","#EF4444","#6366F1","#EC4899","#14B8A6","#F97316","#84CC16"][f]||"#6B7280"})),m=((i==null?void 0:i.length)||0)+l.length+o.filter(u=>u).length;return{activityHeatmap:c,tagDistribution:h,totalActivities:m}}catch(i){return console.error("Failed to fetch monthly stats:",i),{activityHeatmap:[],tagDistribution:[],totalActivities:0}}},Ny=async(t=[])=>{try{const[e,s,n]=await Promise.all([jy(t),wy(t),ky(t)]);return{today:e,week:s,month:n}}catch(e){throw console.error("Failed to fetch dashboard data:",e),e}},Sy=t=>[{id:"add-event",label:"ÏùºÏ†ï Ï∂îÍ∞Ä",icon:"üìÖ",color:"bg-blue-500 hover:bg-blue-600",action:()=>{var e;(e=t==null?void 0:t.onAddEvent)==null||e.call(t)}},{id:"add-todo",label:"Ìï†Ïùº Ï∂îÍ∞Ä",icon:"‚úÖ",color:"bg-green-500 hover:bg-green-600",action:()=>{var e;(e=t==null?void 0:t.onAddTodo)==null||e.call(t)}},{id:"write-diary",label:"ÏùºÍ∏∞ ÏûëÏÑ±",icon:"üìù",color:"bg-purple-500 hover:bg-purple-600",action:()=>{var e;(e=t==null?void 0:t.onWriteDiary)==null||e.call(t)}},{id:"view-calendar",label:"Ï∫òÎ¶∞Îçî Î≥¥Í∏∞",icon:"üóìÔ∏è",color:"bg-orange-500 hover:bg-orange-600",action:()=>{window.location.href="/calendar"}}],Cy={lessThanXSeconds:{one:"1Ï¥à ÎØ∏Îßå",other:"{{count}}Ï¥à ÎØ∏Îßå"},xSeconds:{one:"1Ï¥à",other:"{{count}}Ï¥à"},halfAMinute:"30Ï¥à",lessThanXMinutes:{one:"1Î∂Ñ ÎØ∏Îßå",other:"{{count}}Î∂Ñ ÎØ∏Îßå"},xMinutes:{one:"1Î∂Ñ",other:"{{count}}Î∂Ñ"},aboutXHours:{one:"ÏïΩ 1ÏãúÍ∞Ñ",other:"ÏïΩ {{count}}ÏãúÍ∞Ñ"},xHours:{one:"1ÏãúÍ∞Ñ",other:"{{count}}ÏãúÍ∞Ñ"},xDays:{one:"1Ïùº",other:"{{count}}Ïùº"},aboutXWeeks:{one:"ÏïΩ 1Ï£º",other:"ÏïΩ {{count}}Ï£º"},xWeeks:{one:"1Ï£º",other:"{{count}}Ï£º"},aboutXMonths:{one:"ÏïΩ 1Í∞úÏõî",other:"ÏïΩ {{count}}Í∞úÏõî"},xMonths:{one:"1Í∞úÏõî",other:"{{count}}Í∞úÏõî"},aboutXYears:{one:"ÏïΩ 1ÎÖÑ",other:"ÏïΩ {{count}}ÎÖÑ"},xYears:{one:"1ÎÖÑ",other:"{{count}}ÎÖÑ"},overXYears:{one:"1ÎÖÑ Ïù¥ÏÉÅ",other:"{{count}}ÎÖÑ Ïù¥ÏÉÅ"},almostXYears:{one:"Í±∞Ïùò 1ÎÖÑ",other:"Í±∞Ïùò {{count}}ÎÖÑ"}},_y=(t,e,s)=>{let n;const r=Cy[t];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?n+" ÌõÑ":n+" Ï†Ñ":n},My={full:"yÎÖÑ MÏõî dÏùº EEEE",long:"yÎÖÑ MÏõî dÏùº",medium:"y.MM.dd",short:"y.MM.dd"},Ey={full:"a HÏãú mmÎ∂Ñ ssÏ¥à zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ty={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ay={date:Ei({formats:My,defaultWidth:"full"}),time:Ei({formats:Ey,defaultWidth:"full"}),dateTime:Ei({formats:Ty,defaultWidth:"full"})},Dy={lastWeek:"'ÏßÄÎÇú' eeee p",yesterday:"'Ïñ¥Ï†ú' p",today:"'Ïò§Îäò' p",tomorrow:"'ÎÇ¥Ïùº' p",nextWeek:"'Îã§Ïùå' eeee p",other:"P"},Py=(t,e,s,n)=>Dy[t],Ry={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["Í∏∞ÏõêÏ†Ñ","ÏÑúÍ∏∞"]},Ly={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1Î∂ÑÍ∏∞","2Î∂ÑÍ∏∞","3Î∂ÑÍ∏∞","4Î∂ÑÍ∏∞"]},Oy={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1Ïõî","2Ïõî","3Ïõî","4Ïõî","5Ïõî","6Ïõî","7Ïõî","8Ïõî","9Ïõî","10Ïõî","11Ïõî","12Ïõî"],wide:["1Ïõî","2Ïõî","3Ïõî","4Ïõî","5Ïõî","6Ïõî","7Ïõî","8Ïõî","9Ïõî","10Ïõî","11Ïõî","12Ïõî"]},Iy={narrow:["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"],short:["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"],abbreviated:["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"],wide:["ÏùºÏöîÏùº","ÏõîÏöîÏùº","ÌôîÏöîÏùº","ÏàòÏöîÏùº","Î™©ÏöîÏùº","Í∏àÏöîÏùº","ÌÜ†ÏöîÏùº"]},Fy={narrow:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"},abbreviated:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"},wide:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"}},By={narrow:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"},abbreviated:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"},wide:{am:"Ïò§Ï†Ñ",pm:"Ïò§ÌõÑ",midnight:"ÏûêÏ†ï",noon:"Ï†ïÏò§",morning:"ÏïÑÏπ®",afternoon:"Ïò§ÌõÑ",evening:"Ï†ÄÎÖÅ",night:"Î∞§"}},$y=(t,e)=>{const s=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(s);case"date":return s+"Ïùº";default:return s+"Î≤àÏß∏"}},Vy={ordinalNumber:$y,era:xn({values:Ry,defaultWidth:"wide"}),quarter:xn({values:Ly,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xn({values:Oy,defaultWidth:"wide"}),day:xn({values:Iy,defaultWidth:"wide"}),dayPeriod:xn({values:Fy,defaultWidth:"wide",formattingValues:By,defaultFormattingWidth:"wide"})},Hy=/^(\d+)(Ïùº|Î≤àÏß∏)?/i,zy=/\d+/i,Uy={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(Í∏∞ÏõêÏ†Ñ|ÏÑúÍ∏∞)/i},Wy={any:[/^(bc|Í∏∞ÏõêÏ†Ñ)/i,/^(ad|ÏÑúÍ∏∞)/i]},Yy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]ÏÇ¨?Î∂ÑÍ∏∞/i},Gy={any:[/1/i,/2/i,/3/i,/4/i]},Ky={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])Ïõî/i,wide:/^(1[012]|[123456789])Ïõî/i},qy={any:[/^1Ïõî?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Jy={narrow:/^[ÏùºÏõîÌôîÏàòÎ™©Í∏àÌÜ†]/,short:/^[ÏùºÏõîÌôîÏàòÎ™©Í∏àÌÜ†]/,abbreviated:/^[ÏùºÏõîÌôîÏàòÎ™©Í∏àÌÜ†]/,wide:/^[ÏùºÏõîÌôîÏàòÎ™©Í∏àÌÜ†]ÏöîÏùº/},Xy={any:[/^Ïùº/,/^Ïõî/,/^Ìôî/,/^Ïàò/,/^Î™©/,/^Í∏à/,/^ÌÜ†/]},Qy={any:/^(am|pm|Ïò§Ï†Ñ|Ïò§ÌõÑ|ÏûêÏ†ï|Ï†ïÏò§|ÏïÑÏπ®|Ï†ÄÎÖÅ|Î∞§)/i},Zy={any:{am:/^(am|Ïò§Ï†Ñ)/i,pm:/^(pm|Ïò§ÌõÑ)/i,midnight:/^ÏûêÏ†ï/i,noon:/^Ï†ïÏò§/i,morning:/^ÏïÑÏπ®/i,afternoon:/^Ïò§ÌõÑ/i,evening:/^Ï†ÄÎÖÅ/i,night:/^Î∞§/i}},ev={ordinalNumber:tp({matchPattern:Hy,parsePattern:zy,valueCallback:t=>parseInt(t,10)}),era:pn({matchPatterns:Uy,defaultMatchWidth:"wide",parsePatterns:Wy,defaultParseWidth:"any"}),quarter:pn({matchPatterns:Yy,defaultMatchWidth:"wide",parsePatterns:Gy,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pn({matchPatterns:Ky,defaultMatchWidth:"wide",parsePatterns:qy,defaultParseWidth:"any"}),day:pn({matchPatterns:Jy,defaultMatchWidth:"wide",parsePatterns:Xy,defaultParseWidth:"any"}),dayPeriod:pn({matchPatterns:Qy,defaultMatchWidth:"any",parsePatterns:Zy,defaultParseWidth:"any"})},je={code:"ko",formatDistance:_y,formatLong:Ay,formatRelative:Py,localize:Vy,match:ev,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const hm=v.forwardRef(tv);function sv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const nv=v.forwardRef(sv);function rv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const av=v.forwardRef(rv);function iv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ov=v.forwardRef(iv);function lv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Dl=v.forwardRef(lv);function cv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"}))}const dv=v.forwardRef(cv);function hv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ri=v.forwardRef(hv);function uv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const We=v.forwardRef(uv);function mv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Wt=v.forwardRef(mv);function gv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Aa=v.forwardRef(gv);function fv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ct=v.forwardRef(fv);function xv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hn=v.forwardRef(xv);function pv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const um=v.forwardRef(pv);function bv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const yv=v.forwardRef(bv);function vv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const jv=v.forwardRef(vv);function wv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const kv=v.forwardRef(wv);function Nv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Sv=v.forwardRef(Nv);function Cv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const In=v.forwardRef(Cv);function _v({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Mv=v.forwardRef(_v);function Ev({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const ya=v.forwardRef(Ev);function Tv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const mm=v.forwardRef(Tv);function Av({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const hd=v.forwardRef(Av);function Dv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const qs=v.forwardRef(Dv);function Pv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Rv=v.forwardRef(Pv);function Lv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ov=v.forwardRef(Lv);function Iv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Fv=v.forwardRef(Iv);function Bv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Pl=v.forwardRef(Bv);function $v({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Vv=v.forwardRef($v);function Hv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const zv=v.forwardRef(Hv);function Uv({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const gm=v.forwardRef(Uv),ud=(t,e,s="ÏãúÍ∞Ñ Ïò§Î•ò")=>{try{if(!t)return s;const n=typeof t=="string"?new Date(t):t;return A0(n)?B(n,e,{locale:je}):(console.warn("Invalid date value:",t),s)}catch(n){return console.error("Date formatting error:",n,"Input:",t),s}},Wv=t=>{try{if(!t)return!1;const e=typeof t=="string"?new Date(t):t;return A0(e)?e<new Date:!1}catch(e){return console.error("Date comparison error:",e,"Input:",t),!1}};function Yv({todayData:t,loading:e}){const s=new Date;if(e)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-1/3 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-2/3"})]})]})});const n=t.totalTodos>0?Math.round(t.completedTodos/t.totalTodos*100):0;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Ïò§ÎäòÏùò ÏöîÏïΩ"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:ud(s,"yyyyÎÖÑ MÏõî dÏùº EEEE","ÎÇ†Ïßú Ïò§Î•ò")})]}),a.jsx("div",{className:"text-2xl",children:"üìä"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800/50 rounded-lg",children:a.jsx(Wt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.events.length}),a.jsx("p",{className:"text-sm text-blue-600/70 dark:text-blue-400/70",children:"Ïò§Îäò ÏùºÏ†ï"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800/50 rounded-lg",children:a.jsx(Ct,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[t.completedTodos,"/",t.totalTodos]}),a.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-400/70",children:"ÏôÑÎ£åÎêú Ìï†Ïùº"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-800/50 rounded-lg",children:a.jsx(We,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.diary?"ÏûëÏÑ±Îê®":"ÎØ∏ÏûëÏÑ±"}),a.jsx("p",{className:"text-sm text-purple-600/70 dark:text-purple-400/70",children:"Ïò§Îäò ÏùºÍ∏∞"})]})]})]}),t.totalTodos>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ìï†Ïùº ÏôÑÎ£åÏú®"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Wt,{className:"h-5 w-5"}),"Ïò§Îäò ÏùºÏ†ï (",t.events.length,")"]}),t.events.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Wt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Ïò§Îäò ÏòàÏ†ïÎêú ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§"})]}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.events.map(r=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(hn,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r.title}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.all_day?"Ï¢ÖÏùº":ud(r.start_time,"HH:mm","--:--")})]}),!r.all_day&&Wv(r.start_time)&&a.jsx(jv,{className:"h-4 w-4 text-orange-500"})]},r.id))})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Ct,{className:"h-5 w-5"}),"Ïò§Îäò Ìï†Ïùº (",t.todos.length,")"]}),t.todos.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Ïò§Îäò ÏòàÏ†ïÎêú Ìï†ÏùºÏù¥ ÏóÜÏäµÎãàÎã§"})]}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.todos.map(r=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${r.completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-500"}`,children:r.completed&&a.jsx(Ct,{className:"h-3 w-3 text-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-medium truncate ${r.completed?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:r.title}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${r.priority==="high"?"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400":r.priority==="medium"?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:r.priority==="high"?"ÎÜíÏùå":r.priority==="medium"?"Î≥¥ÌÜµ":"ÎÇÆÏùå"})})]})]},r.id))})]}),a.jsx("div",{className:"mt-6 p-4 rounded-lg border-2 border-dashed border-purple-300 dark:border-purple-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(We,{className:"h-6 w-6 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.diary?"Ïò§Îäò ÏùºÍ∏∞Í∞Ä ÏûëÏÑ±ÎêòÏóàÏäµÎãàÎã§":"Ïò§Îäò ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.diary?`Í∏∞Î∂Ñ: ${t.diary.mood||"üòê"}`:"ÌïòÎ£®Î•º ÎßàÎ¨¥Î¶¨ÌïòÎ©∞ ÏÉùÍ∞ÅÏùÑ Ï†ïÎ¶¨Ìï¥Î≥¥ÏÑ∏Ïöî"})]})]})})]})}function Gv({weeklyData:t,loading:e}){if(e)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-1/3 mb-4"}),a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-600 rounded mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-2/3"})]})]})});const s=Math.max(...t.activityData.map(n=>n.events+n.todos+(n.diary?1:0)),1);return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Ï£ºÍ∞Ñ ÌÜµÍ≥Ñ"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÏßÄÎÇú 7ÏùºÍ∞ÑÏùò ÌôúÎèô ÏöîÏïΩ"})]}),a.jsx("div",{className:"text-2xl",children:"üìà"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[t.completionRate,"%"]}),a.jsx("div",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Ìï†Ïùº ÏôÑÎ£åÏú®"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.totalEvents}),a.jsx("div",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 mt-1",children:"Ï¥ù ÏùºÏ†ï"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.totalDiaries}),a.jsx("div",{className:"text-xs text-purple-600/70 dark:text-purple-400/70 mt-1",children:"ÏùºÍ∏∞ ÏûëÏÑ±"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl",children:t.moodTrend.length>0?t.moodTrend[t.moodTrend.length-1].mood:"üòê"}),a.jsx("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-400/70 mt-1",children:"ÏµúÍ∑º Í∏∞Î∂Ñ"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:[a.jsx(Aa,{className:"h-5 w-5"}),"ÏùºÎ≥Ñ ÌôúÎèôÎüâ"]}),a.jsx("div",{className:"space-y-3",children:t.activityData.map((n,r)=>{const i=n.events+n.todos+(n.diary?1:0),o=s>0?i/s*100:0,l=B(new Date(n.date),"E",{locale:je}),c=B(new Date(n.date),"d");return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-12 text-xs text-gray-500 dark:text-gray-400",children:[l," ",c]}),a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsxs("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-6 relative overflow-hidden",children:[o>0&&a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full transition-all duration-300",style:{width:`${o}%`}}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-start pl-2 gap-1",children:[n.events>0&&a.jsx(Wt,{className:"h-3 w-3 text-white"}),n.todos>0&&a.jsx(Ct,{className:"h-3 w-3 text-white"}),n.diary&&a.jsx(We,{className:"h-3 w-3 text-white"})]})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 w-8 text-right",children:i})]})]},n.date)})})]}),t.moodTrend.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:"üìä Í∏∞Î∂Ñ Ìä∏Î†åÎìú"}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:t.moodTrend.map((n,r)=>{const i=new Date(n.date),o=B(i,"E",{locale:je}),l=B(i,"d");return a.jsxs("div",{className:"flex-shrink-0 text-center p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"text-2xl mb-1",children:n.mood}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o," ",l]})]},n.date)})})]}),t.totalEvents===0&&t.totalDiaries===0&&t.completionRate===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Aa,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Ïù¥Î≤à Ï£º ÌôúÎèô Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"text-sm",children:"ÏùºÏ†ïÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî!"})]})]})}function Kv({monthlyData:t,loading:e}){const s=new Date,n=Qn(s),r=Zn(s),i=kr(n,{weekStartsOn:0}),o=Nr(r,{weekStartsOn:0}),l=Sr({start:i,end:o});if(e)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:Array.from({length:42}).map((m,u)=>a.jsx("div",{className:"aspect-square bg-gray-200 dark:bg-gray-600 rounded"},u))})]})});const c=m=>{switch(m){case 0:return"bg-gray-100 dark:bg-gray-700";case 1:return"bg-green-200 dark:bg-green-800/50";case 2:return"bg-green-300 dark:bg-green-700/70";case 3:return"bg-green-400 dark:bg-green-600/80";case 4:return"bg-green-500 dark:bg-green-500";default:return"bg-gray-100 dark:bg-gray-700"}},d=m=>{const u=B(m,"yyyy-MM-dd"),g=t.activityHeatmap.find(f=>f.date===u);return(g==null?void 0:g.intensity)||0},h=["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ÏõîÍ∞Ñ ÌôúÎèô ÌûàÌä∏Îßµ"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B(s,"yyyyÎÖÑ MÏõî",{locale:je})," ÌôúÎèôÎüâ ÏãúÍ∞ÅÌôî"]})]}),a.jsx("div",{className:"text-2xl",children:"üìÖ"})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:h.map(m=>a.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400 font-medium",children:m},m))}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-6",children:l.map(m=>{const u=d(m),g=m>=n&&m<=r,f=B(m,"yyyy-MM-dd")===B(s,"yyyy-MM-dd");return a.jsx("div",{className:`
                aspect-square flex items-center justify-center text-xs font-medium rounded-lg transition-all cursor-pointer
                ${g?c(u):"bg-gray-50 dark:bg-gray-800/50"}
                ${g?"text-gray-800 dark:text-gray-200":"text-gray-400 dark:text-gray-500"}
                ${f?"ring-2 ring-blue-500":""}
                hover:scale-105
              `,title:`${B(m,"MÏõî dÏùº",{locale:je})}: ÌôúÎèôÎüâ ${u}`,children:B(m,"d")},m.toISOString())})}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ï†ÅÏùå"}),a.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(m=>a.jsx("div",{className:`w-3 h-3 rounded-sm ${c(m)}`},m))}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÎßéÏùå"})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Ï¥ù ÌôúÎèô: ",t.totalActivities,"Í∞ú"]})]}),t.tagDistribution.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"üè∑Ô∏è Ïù∏Í∏∞ ÌÉúÍ∑∏"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.tagDistribution.slice(0,6).map(m=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:m.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m.count,"Ìöå ÏÇ¨Ïö©"]})]})]},m.name))})]}),t.totalActivities===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"text-4xl mb-3",children:"üìä"}),a.jsx("p",{children:"Ïù¥Î≤à Îã¨ ÌôúÎèô Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"text-sm",children:"ÏùºÏ†ïÍ≥º ÏùºÍ∏∞Î•º ÏûëÏÑ±ÌïòÏó¨ ÌôúÎèôÏùÑ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî!"})]})]})}function qv({actions:t,loading:e}){return e?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-1/3 mb-4"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((s,n)=>a.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-600 rounded-lg"},n))})]})}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Îπ†Î•∏ Ïï°ÏÖò"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÏûêÏ£º ÏÇ¨Ïö©ÌïòÎäî Í∏∞Îä•Îì§ÏùÑ Îπ†Î•¥Í≤å Ïã§ÌñâÌïòÏÑ∏Ïöî"})]}),a.jsx("div",{className:"text-2xl",children:"‚ö°"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(s=>a.jsxs("button",{onClick:s.action,className:`
              flex flex-col items-center justify-center p-4 rounded-lg text-white
              ${s.color} 
              transition-all duration-200 hover:scale-105 hover:shadow-lg
              focus:outline-none focus:ring-4 focus:ring-opacity-50
            `,children:[a.jsx("div",{className:"text-2xl mb-2",children:s.icon}),a.jsx("span",{className:"text-sm font-medium text-center",children:s.label})]},s.id))}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-blue-500 text-lg",children:"üí°"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"ÏÉùÏÇ∞ÏÑ± ÌåÅ"}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Îß§Ïùº ÏïÑÏπ® Ïò§Îäò Ìï† ÏùºÏùÑ Ï†ïÎ¶¨ÌïòÍ≥†, Ï†ÄÎÖÅÏóêÎäî ÌïòÎ£®Î•º ÎêòÎèåÏïÑÎ≥¥Î©∞ ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî."})]})]})})]})}const Jv=({tag:t,onDelete:e,onClick:s,size:n="medium",deletable:r=!1})=>{const i={small:"text-xs px-2 py-0.5",medium:"text-sm px-3 py-1",large:"text-base px-4 py-2"},o=l=>{l.stopPropagation(),e==null||e()};return a.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${i[n]}
        ${s?"cursor-pointer hover:opacity-80":""}
        transition-opacity
      `,style:{backgroundColor:`${t.color}20`,color:t.color,border:`1px solid ${t.color}40`},onClick:s,children:[a.jsx("span",{children:t.name}),r&&e&&a.jsx("button",{className:"ml-1 hover:opacity-60 focus:outline-none",onClick:o,"aria-label":`Remove ${t.name} tag`,children:a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},Xv=({selectedTags:t,onTagsChange:e,placeholder:s="ÌÉúÍ∑∏Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî",allowCreate:n=!0})=>{const[r,i]=v.useState([]),[o,l]=v.useState(!1),[c,d]=v.useState(""),[h,m]=v.useState(!1),[u,g]=v.useState(!1),[f,x]=v.useState(""),[b,y]=v.useState("#3B82F6"),j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#6B7280","#F97316"];v.useEffect(()=>{S()},[]);const S=async()=>{try{m(!0);const k=await dd.getTags();i(k)}catch(k){console.error("Failed to load tags:",k)}finally{m(!1)}},C=k=>{t.find(_=>_.id===k.id)||e([...t,k]),l(!1),d("")},w=k=>{e(t.filter(_=>_.id!==k))},M=async()=>{if(f.trim())try{g(!0);const k=await dd.createTag({name:f.trim(),color:b});i([...r,k]),C(k),x(""),y("#3B82F6")}catch(k){console.error("Failed to create tag:",k)}finally{g(!1)}},N=r.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())&&!t.find(_=>_.id===k.id));return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(k=>a.jsx(Jv,{tag:k,size:"small",deletable:!0,onDelete:()=>w(k.id)},k.id))}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>l(!o),children:a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:t.length>0?`${t.length}Í∞ú ÌÉúÍ∑∏ ÏÑ†ÌÉùÎê®`:s})}),o&&a.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg",children:[a.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:a.jsx("input",{type:"text",className:"w-full px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-900 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"ÌÉúÍ∑∏ Í≤ÄÏÉâ...",value:c,onChange:k=>d(k.target.value),onClick:k=>k.stopPropagation()})}),a.jsx("div",{className:"max-h-48 overflow-y-auto",children:h?a.jsx("div",{className:"p-3 text-center text-gray-500",children:"Î°úÎî© Ï§ë..."}):N.length>0?N.map(k=>a.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",onClick:()=>C(k),children:[a.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.color}}),a.jsx("span",{className:"text-sm",children:k.name})]},k.id)):a.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:c?"ÏùºÏπòÌïòÎäî ÌÉúÍ∑∏Í∞Ä ÏóÜÏäµÎãàÎã§":"ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÌÉúÍ∑∏Í∞Ä ÏóÜÏäµÎãàÎã§"})}),n&&a.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"text",className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-900 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"ÏÉà ÌÉúÍ∑∏ Ïù¥Î¶Ñ",value:f,onChange:k=>x(k.target.value),onClick:k=>k.stopPropagation()}),a.jsx("div",{className:"flex gap-1",children:j.map(k=>a.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 ${b===k?"border-gray-800 dark:border-gray-200":"border-transparent"}`,style:{backgroundColor:k},onClick:()=>y(k)},k))})]}),a.jsx("button",{type:"button",className:"w-full px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",onClick:M,disabled:!f.trim()||u,children:u?"ÏÉùÏÑ± Ï§ë...":"ÏÉà ÌÉúÍ∑∏ ÎßåÎì§Í∏∞"})]})]})]})]})},fm=({isOpen:t,onClose:e,onSave:s,event:n,initialDate:r})=>{const{addTodo:i}=lt(),[o,l]=v.useState("event"),[c,d]=v.useState({title:"",description:"",start_time:r?B(r,"yyyy-MM-dd'T'HH:mm"):B(new Date,"yyyy-MM-dd'T'HH:mm"),end_time:r?B(new Date(r.getTime()+60*60*1e3),"yyyy-MM-dd'T'HH:mm"):B(new Date(Date.now()+60*60*1e3),"yyyy-MM-dd'T'HH:mm"),all_day:!1,location:"",type:"personal",color:"#3b82f6",reminder_minutes:15,tags:[]}),[h,m]=v.useState([]),[u,g]=v.useState({text:"",priority:"medium",date:r?B(r,"yyyy-MM-dd"):B(new Date,"yyyy-MM-dd")});v.useEffect(()=>{n?(d(n),m(n.tags||[]),l("event")):r&&(d(y=>({...y,start_time:B(r,"yyyy-MM-dd'T'HH:mm"),end_time:B(new Date(r.getTime()+60*60*1e3),"yyyy-MM-dd'T'HH:mm")})),g(y=>({...y,date:B(r,"yyyy-MM-dd")})))},[n,r]);const f=()=>{if(!u.text.trim()){alert("Ìï†Ïùº ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");return}try{i({text:u.text.trim(),completed:!1,priority:u.priority,date:u.date}),e()}catch(y){console.error("Failed to save todo:",y),alert("Ìï†Ïùº Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}},x=async y=>{if(y.preventDefault(),o==="todo"){f();return}if(!c.title||!c.start_time||!c.end_time){alert("Ï†úÎ™©Í≥º ÏãúÍ∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");return}try{const j={title:c.title,description:c.description,start_time:c.start_time?`${c.start_time}:00`:c.start_time,end_time:c.end_time?`${c.end_time}:00`:c.end_time,all_day:c.all_day,location:c.location,type:c.type,color:c.color,reminder_minutes:c.reminder_minutes===void 0?null:c.reminder_minutes};console.log("Sending API data:",j);let S;n!=null&&n.id?(console.log("Updating event with ID:",n.id),S=await Tt.updateEvent(n.id,j),S.tags=h):(console.log("Creating new event..."),S=await Tt.createEvent(j),S.tags=h),console.log("Event saved successfully:",S),s(S),e()}catch(j){console.error("Failed to save event - Full error:",j),j.response?(console.error("Response status:",j.response.status),console.error("Response data:",j.response.data)):j.request?console.error("Request was made but no response:",j.request):console.error("Error message:",j.message),alert(`ÏùºÏ†ï Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ${j.message||"Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò"}`)}},b=async()=>{if(n!=null&&n.id&&window.confirm("Ïù¥ ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{await Tt.deleteEvent(n.id),e(),window.location.reload()}catch(y){console.error("Failed to delete event:",y),alert("ÏùºÏ†ï ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto border border-border",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-foreground",children:n?"ÏùºÏ†ï ÏàòÏ†ï":"ÏÉà ÏûëÏÑ±"}),!n&&a.jsxs("div",{className:"flex mb-6 bg-muted rounded-lg p-1",children:[a.jsx("button",{type:"button",onClick:()=>l("event"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${o==="event"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"üìÖ ÏùºÏ†ï"}),a.jsx("button",{type:"button",onClick:()=>l("todo"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${o==="todo"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"‚úÖ Ìï†Ïùº"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o==="todo"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Ìï†Ïùº ÎÇ¥Ïö©*"}),a.jsx("input",{type:"text",value:u.text,onChange:y=>g({...u,text:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",placeholder:"Ìï†ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Ïö∞ÏÑ†ÏàúÏúÑ"}),a.jsx("div",{className:"flex space-x-2",children:[{value:"high",label:"ÎÜíÏùå",icon:"üî¥"},{value:"medium",label:"Î≥¥ÌÜµ",icon:"üü°"},{value:"low",label:"ÎÇÆÏùå",icon:"üü¢"}].map(y=>a.jsxs("button",{type:"button",onClick:()=>g({...u,priority:y.value}),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium border transition-colors ${u.priority===y.value?"border-primary-500 bg-primary-500/10 text-primary-600":"border-border hover:border-primary-300"}`,children:[a.jsx("span",{className:"mr-1",children:y.icon}),y.label]},y.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÎÇ†Ïßú"}),a.jsx("input",{type:"date",value:u.date,onChange:y=>g({...u,date:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",required:!0})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Ï†úÎ™©*"}),a.jsx("input",{type:"text",value:c.title,onChange:y=>d({...c,title:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÏÑ§Î™Ö"}),a.jsx("textarea",{value:c.description||"",onChange:y=>d({...c,description:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",rows:3})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:c.all_day,onChange:y=>d({...c,all_day:y.target.checked}),className:"mr-2"}),a.jsx("label",{className:"text-sm text-foreground",children:"Ï¢ÖÏùº"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÏãúÏûë*"}),a.jsx("input",{type:"datetime-local",value:c.start_time,onChange:y=>d({...c,start_time:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Ï¢ÖÎ£å*"}),a.jsx("input",{type:"datetime-local",value:c.end_time,onChange:y=>d({...c,end_time:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÏúÑÏπò"}),a.jsx("input",{type:"text",value:c.location||"",onChange:y=>d({...c,location:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Ïú†Ìòï"}),a.jsxs("select",{value:c.type,onChange:y=>d({...c,type:y.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",children:[a.jsx("option",{value:"personal",children:"Í∞úÏù∏"}),a.jsx("option",{value:"work",children:"ÏóÖÎ¨¥"}),a.jsx("option",{value:"holiday",children:"Ìú¥Ïùº"}),a.jsx("option",{value:"other",children:"Í∏∞ÌÉÄ"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÏÉâÏÉÅ"}),a.jsx("input",{type:"color",value:c.color||"#3b82f6",onChange:y=>d({...c,color:y.target.value}),className:"w-full h-10 border border-border rounded-md bg-background"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÌÉúÍ∑∏"}),a.jsx(Xv,{selectedTags:h,onTagsChange:m,placeholder:"ÌÉúÍ∑∏Î•º ÏÑ†ÌÉùÌïòÍ±∞ÎÇò ÏÉàÎ°ú ÎßåÎì§Í∏∞",allowCreate:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"ÏïåÎ¶º (Î∂Ñ)"}),a.jsxs("select",{value:c.reminder_minutes,onChange:y=>d({...c,reminder_minutes:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-border rounded-md focus:ring-2 focus:ring-primary-500 bg-background text-foreground",children:[a.jsx("option",{value:"0",children:"ÏóÜÏùå"}),a.jsx("option",{value:"5",children:"5Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:"10",children:"10Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:"15",children:"15Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:"30",children:"30Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:"60",children:"1ÏãúÍ∞Ñ Ï†Ñ"}),a.jsx("option",{value:"1440",children:"1Ïùº Ï†Ñ"})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsx("div",{children:(n==null?void 0:n.id)&&a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-red-600 hover:bg-red-500/10 rounded-md",children:"ÏÇ≠Ï†ú"})}),a.jsxs("div",{className:"space-x-2",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-foreground hover:bg-muted rounded-md",children:"Ï∑®ÏÜå"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600",children:n?"ÏàòÏ†ï":o==="todo"?"Ìï†Ïùº Ï†ÄÏû•":"ÏùºÏ†ï Ï†ÄÏû•"})]})]})]})]})}):null};function Qv({isOpen:t,onClose:e,children:s,className:n=""}){return v.useEffect(()=>{const r=i=>{i.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[t,e]),t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:e,children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsx("div",{className:`
          relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl 
          max-w-lg w-full mx-4 max-h-[90vh] overflow-auto
          transform transition-all duration-200 scale-100
          ${n}
        `,onClick:r=>r.stopPropagation(),children:s})]}):null}const md=[{emoji:"üòä",label:"Í∏∞ÏÅ®",traditional:"Ìù¨(Âñú)",color:"wuxing-fire",element:"Ìôî(ÁÅ´)"},{emoji:"üò¢",label:"Ïä¨Ìîî",traditional:"Ïï†(ÂìÄ)",color:"wuxing-metal",element:"Í∏à(Èáë)"},{emoji:"üò†",label:"Î∂ÑÎÖ∏",traditional:"ÎÖ∏(ÊÄí)",color:"wuxing-wood",element:"Î™©(Êú®)"},{emoji:"üò∞",label:"ÎëêÎ†§ÏõÄ",traditional:"Í≥µ(ÊÅê)",color:"wuxing-water",element:"Ïàò(Ê∞¥)"},{emoji:"ü§î",label:"ÏÉùÍ∞Å",traditional:"ÏÇ¨(ÊÄù)",color:"wuxing-earth",element:"ÌÜ†(Âúü)"},{emoji:"üòå",label:"ÌèâÏò®",traditional:"Ï†ï(Èùú)",color:"yinyang-yin",element:"Ïùå(Èô∞)"},{emoji:"üåü",label:"ÌôúÍ∏∞",traditional:"Ïñë(ÈôΩ)",color:"yinyang-yang",element:"Ïñë(ÈôΩ)"},{emoji:"üòê",label:"Îã¥Îã¥",traditional:"Î¨¥(ÁÑ°)",color:"wuxing-metal-light",element:"Ï§ëÏö©"}];function Zv({isOpen:t,onClose:e,date:s,onSave:n}){const[r,i]=v.useState(s),[o,l]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState(!1),[u,g]=v.useState(null),[f,x]=v.useState(null),[b,y]=v.useState(null),[j,S]=v.useState(!1);v.useEffect(()=>{t&&s&&C()},[s,t]);const C=async()=>{var N;m(!0),y(null);try{const k=B(s,"yyyy-MM-dd"),_=await Ie.getDiaryByDate(k);g(_),l(_.content),d(_.mood||"")}catch(k){((N=k.response)==null?void 0:N.status)===404?(g(null),l(""),d("")):(console.error("Failed to fetch diary:",k),y("ÏùºÍ∏∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§."))}finally{m(!1)}},w=async()=>{if(o.trim()){m(!0),y(null);try{const k={date:B(s,"yyyy-MM-dd"),content:o.trim(),mood:c||"üòê",weather:void 0,tags:[]};let _;u!=null&&u.id?_=await Ie.updateDiary(u.id,k):_=await Ie.createDiary(k),n&&n(_),alert(u?"ÏùºÍ∏∞Í∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.":"ÏùºÍ∏∞Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§."),e()}catch(N){console.error("Failed to save diary:",N),y("ÏùºÍ∏∞ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")}finally{m(!1)}}},M=()=>{o!==((u==null?void 0:u.content)||"")||c!==((u==null?void 0:u.mood)||"")?window.confirm("ÏûëÏÑ± Ï§ëÏù∏ ÎÇ¥Ïö©Ïù¥ ÏûàÏäµÎãàÎã§. Ï†ïÎßê Îã´ÏúºÏãúÍ≤†ÏäµÎãàÍπå?")&&e():e()};return a.jsx(Qv,{isOpen:t,onClose:M,className:"max-w-2xl",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:["üìù ",B(s,"yyyyÎÖÑ MÏõî dÏùº EEEE",{locale:je})," ÏùºÍ∏∞"]}),a.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-xl",children:"‚úï"})]}),b&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["‚ö†Ô∏è ",b]})}),h&&!u&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"üìñ ÏùºÍ∏∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üé≠"}),"Ïò§ÎäòÏùò ÎßàÏùåÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî",a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Ïò§Ìñâ Í∞êÏ†ïÎ°† Í∏∞Î∞ò)"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:md.map(({emoji:N,label:k,traditional:_,color:E,element:T})=>a.jsxs("button",{onClick:()=>d(N),className:`
                  group relative flex flex-col items-center p-4 rounded-xl border-2 transition-all duration-300 hover:scale-105
                  ${c===N?`border-${E} bg-gradient-to-br from-${E}/10 to-${E}/20 shadow-lg`:"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 bg-white dark:bg-gray-800"}
                `,style:{borderColor:c===N?`hsl(var(--${E.replace("wuxing-","").replace("yinyang-","")}))`:void 0},children:[a.jsxs("div",{className:"relative mb-2",children:[a.jsx("span",{className:"text-2xl transition-transform group-hover:scale-110",children:N}),c===N&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-orange-400 to-pink-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white",children:"‚úì"})})]}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:k}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:_}),a.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:T}),c===N&&a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-transparent via-white/20 to-transparent opacity-50 pointer-events-none"})]},N))}),c&&a.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(()=>{const N=md.find(k=>k.emoji===c);return a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[a.jsx("span",{className:"font-semibold",children:N==null?void 0:N.traditional})," - ",N==null?void 0:N.element," Í∏∞Ïö¥Ïùò Í∞êÏ†ïÏûÖÎãàÎã§.",(N==null?void 0:N.element)==="Ìôî(ÁÅ´)"&&" Î∞ùÍ≥† ÌôúÎ∞úÌïú ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Í∏à(Èáë)"&&" Ï∞®Î∂ÑÌïòÍ≥† Ï†ïÏ†úÎêú ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Î™©(Êú®)"&&" ÏÑ±Ïû•ÌïòÍ≥† Î∞úÏ†ÑÌïòÎ†§Îäî ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Ïàò(Ê∞¥)"&&" Ïú†Ïó∞ÌïòÍ≥† ÍπäÏù¥ ÏûàÎäî ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="ÌÜ†(Âúü)"&&" ÏïàÏ†ïÎêòÍ≥† Ïã†Ï§ëÌïú ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Ïùå(Èô∞)"&&" Í≥†ÏöîÌïòÍ≥† ÎÇ¥Ìñ•Ï†ÅÏù∏ ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Ïñë(ÈôΩ)"&&" ÌôúÎ∞úÌïòÍ≥† Ïô∏Ìñ•Ï†ÅÏù∏ ÏóêÎÑàÏßÄÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§.",(N==null?void 0:N.element)==="Ï§ëÏö©"&&" Í∑†ÌòïÏû°Ìûå Ï§ëÎèÑÏùò ÎßàÏùåÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§."]})})()})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Ïò§Îäò ÌïòÎ£®Îäî Ïñ¥Îñ†ÏÖ®ÎÇòÏöî?"}),a.jsx("textarea",{value:o,onChange:N=>l(N.target.value),placeholder:"Ïò§Îäò ÏûàÏóàÎçò Ïùº, ÎäêÎÇÄ Ï†ê, Í∞êÏÇ¨Ìïú Ïùº Îì±ÏùÑ ÏûêÏú†Î°≠Í≤å Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî...",rows:8,className:"w-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg resize-none bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[o.length," / 1000Ïûê"]}),a.jsx("span",{className:"text-xs text-gray-400",children:"Tab ÌÇ§Î°ú Îì§Ïó¨Ïì∞Í∏∞ Í∞ÄÎä•"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:M,disabled:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Ï∑®ÏÜå"}),a.jsx("button",{onClick:w,disabled:!o.trim()||h,className:`
              px-6 py-2 rounded-lg text-white font-medium transition-colors
              ${o.trim()&&!h?"bg-purple-600 hover:bg-purple-700":"bg-gray-400 cursor-not-allowed"}
            `,children:h?"Ï†ÄÏû• Ï§ë...":u?"ÏàòÏ†ïÌïòÍ∏∞":"Ï†ÄÏû•ÌïòÍ∏∞"})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["üí° ",a.jsx("strong",{children:"ÌåÅ:"})," ÏùºÍ∏∞Îäî ÏûêÎèôÏúºÎ°ú Ï†ÄÏû•ÎêòÏßÄ ÏïäÏäµÎãàÎã§. ÏûëÏÑ± ÏôÑÎ£å ÌõÑ Î∞òÎìúÏãú Ï†ÄÏû• Î≤ÑÌäºÏùÑ ÎàåÎü¨Ï£ºÏÑ∏Ïöî."]})})]})})}function e2({userId:t}){const[e,s]=v.useState(null),[n,r]=v.useState([]),[i,o]=v.useState(!0);v.useEffect(()=>{l(),c()},[t]);const l=async()=>{try{s({totalCoursesEnrolled:5,completedCourses:2,inProgressCourses:3,totalLessonsCompleted:24,totalStudyTime:14400,averageScore:87,streak:7,certificates:2}),o(!1)}catch(m){console.error("ÌïôÏäµ ÌÜµÍ≥Ñ Î°úÎî© Ïã§Ìå®:",m),o(!1)}},c=()=>{r([{week:"1Ï£º",lessonsCompleted:2,studyTime:1800},{week:"2Ï£º",lessonsCompleted:4,studyTime:2400},{week:"3Ï£º",lessonsCompleted:6,studyTime:3200},{week:"4Ï£º",lessonsCompleted:5,studyTime:2800},{week:"5Ï£º",lessonsCompleted:7,studyTime:4200}])},d=m=>{const u=Math.floor(m/3600),g=Math.floor(m%3600/60);return u>0?`${u}ÏãúÍ∞Ñ ${g}Î∂Ñ`:`${g}Î∂Ñ`},h=Math.max(...n.map(m=>m.lessonsCompleted));return i?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})]})}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:a.jsx(We,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.completedCourses}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÏôÑÎ£åÌïú Í∞ïÏ¢å"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:a.jsx(hn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Math.floor(e.totalStudyTime/3600)}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ï¥ù ÌïôÏäµÏãúÍ∞Ñ"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg",children:a.jsx(qs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.averageScore}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÌèâÍ∑† Ï†êÏàò"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:a.jsx(Wt,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.streak}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ïó∞ÏÜç ÌïôÏäµÏùº"})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ï£ºÍ∞Ñ ÌïôÏäµ ÏßÑÎèÑ"}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Aa,{className:"h-4 w-4 mr-1"}),"ÏµúÍ∑º 5Ï£º"]})]}),a.jsx("div",{className:"space-y-4",children:n.map((m,u)=>a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-8 text-sm text-gray-600 dark:text-gray-400",children:m.week}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m.lessonsCompleted,"Í∞ú Î†àÏä®"]}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:d(m.studyTime)})]}),a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${m.lessonsCompleted/h*100}%`}})})]})]},u))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Í∞ïÏ¢å ÏßÑÌñâ ÌòÑÌô©"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÏôÑÎ£å"}),a.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[e.completedCourses,"Í∞ú"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÏßÑÌñâÏ§ë"}),a.jsxs("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:[e.inProgressCourses,"Í∞ú"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ï†ÑÏ≤¥ ÏßÑÌñâÎ•†"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(e.completedCourses/e.totalCoursesEnrolled*100),"%"]})]}),a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full",style:{width:`${e.completedCourses/e.totalCoursesEnrolled*100}%`}})})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"ÏÑ±Ï∑® ÌòÑÌô©"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Fv,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["ÏàòÎ£åÏ¶ù ",e.certificates,"Í∞ú"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Í∞ïÏ¢å ÏôÑÏ£º Ïù∏Ï¶ù"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((m,u)=>a.jsx(qs,{className:`h-5 w-5 ${u<Math.floor(e.averageScore/20)?"text-yellow-500 fill-current":"text-gray-300 dark:text-gray-600"}`},u))}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["ÌèâÍ∑† ",e.averageScore,"Ï†ê"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÌÄ¥Ï¶à ÏÑ±Ï†Å"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["üî• ",e.streak,"Ïùº Ïó∞ÏÜç ÌïôÏäµ Ï§ë!"]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Í≥ÑÏÜçÌï¥ÏÑú Íæ∏Ï§ÄÌûà ÌïôÏäµÌï¥Î≥¥ÏÑ∏Ïöî"})]})]})]})]})]}):null}function t2({title:t,titleId:e,...s},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Da=v.forwardRef(t2);function s2({course:t,progress:e,showEnrollButton:s=!0,onEnroll:n}){const r=ze(),[i,o]=v.useState(!1),l={beginner:"Ï¥àÍ∏â",intermediate:"Ï§ëÍ∏â",advanced:"Í≥†Í∏â",expert:"Ï†ÑÎ¨∏Í∞Ä"},c={basic:"Í∏∞Ï¥à",fortune:"Ïö¥ÏÑ∏",compatibility:"Í∂ÅÌï©",professional:"Ï†ÑÎ¨∏Í∞Ä",special:"ÌäπÍ∞ï"},d=x=>x===0?"Î¨¥Î£å":new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(x),h=x=>{const b=Math.floor(x/60),y=x%60;return b>0?`${b}ÏãúÍ∞Ñ ${y}Î∂Ñ`:`${y}Î∂Ñ`},m=async()=>{if(n){o(!0);try{await n(t.id)}catch(x){console.error("ÏàòÍ∞ïÏã†Ï≤≠ Ïã§Ìå®:",x)}finally{o(!1)}}},u=()=>{r(`/learning/${t.id}`)},g=()=>{r(`/learning/${t.id}`)},f=()=>e!=null&&e.isEnrolled?e.status==="completed"?a.jsxs("button",{onClick:g,className:"w-full px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[a.jsx(Da,{className:"h-4 w-4 mr-1"}),"Îã§Ïãú Î≥¥Í∏∞"]}):e.progress>0?a.jsxs("button",{onClick:u,className:"w-full px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[a.jsx(ya,{className:"h-4 w-4 mr-1"}),"Ïù¥Ïñ¥ÏÑú Î≥¥Í∏∞"]}):a.jsxs("button",{onClick:g,className:"w-full px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center",children:[a.jsx(ya,{className:"h-4 w-4 mr-1"}),"ÏãúÏûëÌïòÍ∏∞"]}):a.jsx("button",{onClick:m,disabled:i||t.status!=="published",className:"w-full px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"ÏàòÍ∞ïÏã†Ï≤≠ Ï§ë...":t.price===0?"Î¨¥Î£å ÏàòÍ∞ïÌïòÍ∏∞":`${d(t.price)} Í≤∞Ï†ú`});return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden group hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-purple-400 to-blue-500 overflow-hidden",children:[t.thumbnail?a.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full text-white",children:a.jsx(We,{className:"h-16 w-16 opacity-50"})}),a.jsxs("div",{className:"absolute top-3 left-3",children:[(e==null?void 0:e.status)==="completed"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[a.jsx(Da,{className:"h-3 w-3 mr-1"}),"ÏôÑÎ£å"]}),(e==null?void 0:e.isEnrolled)&&e.status!=="completed"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),"ÏàòÍ∞ïÏ§ë"]}),t.status!=="published"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:[a.jsx(Sv,{className:"h-3 w-3 mr-1"}),"Ï§ÄÎπÑÏ§ë"]})]}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white/90 text-gray-900",children:d(t.price)})}),(e==null?void 0:e.isEnrolled)&&e.status!=="completed"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50",children:a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-white text-xs mb-1",children:[a.jsx("span",{children:"ÏßÑÎèÑÏú®"}),a.jsxs("span",{children:[e.progress,"%"]})]}),a.jsx("div",{className:"bg-white/20 rounded-full h-1",children:a.jsx("div",{className:"bg-white h-1 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})]})})]}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:c[t.category]}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",children:l[t.level]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:t.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.description}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Vv,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.instructor_name})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(hn,{className:"h-3 w-3 mr-1"}),h(t.duration)]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(We,{className:"h-3 w-3 mr-1"}),t.lessons_count,"Í∞ú Í∞ïÏùò"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qs,{className:"h-3 w-3 mr-1 text-yellow-500"}),a.jsx("span",{children:t.rating.toFixed(1)})]}),a.jsxs("span",{children:["(",t.enrollment_count,")"]})]})]}),s&&f(),(e==null?void 0:e.isEnrolled)&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.completedLessons,"/",e.totalLessons," Í∞ïÏùò ÏôÑÎ£å",e.status==="completed"&&a.jsx("span",{className:"ml-2 text-green-600 dark:text-green-400",children:"üéâ ÏàòÎ£å ÏôÑÎ£å"})]})})]})]})}function n2(){const{todos:t,addTodo:e}=lt(),[s,n]=v.useState(null),[r,i]=v.useState(!0),[o,l]=v.useState(null),[c,d]=v.useState(!1),[h,m]=v.useState("overview"),[u,g]=v.useState([]),[f,x]=v.useState(!1),[b,y]=v.useState(!1),[j,S]=v.useState(!1),C=Sy({onAddEvent:()=>x(!0),onAddTodo:()=>S(!0),onWriteDiary:()=>y(!0)}),w=async(k=!1)=>{k?d(!0):i(!0),l(null);try{const _=await Ny(t);n(_)}catch(_){console.error("Failed to load dashboard data:",_),l("ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{i(!1),d(!1)}};v.useEffect(()=>{w(),M()},[t]);const M=async()=>{try{g([{id:"1",title:"ÏÇ¨Ï£º Í∏∞Ï¥à ÏûÖÎ¨∏ Í≥ºÏ†ï",description:"ÏÇ¨Ï£ºÏùò Í∏∞Î≥∏ Í∞úÎÖêÎ∂ÄÌÑ∞ Ïã§Ï†Ñ Ìï¥ÏÑùÍπåÏßÄ",level:"beginner",category:"basic",status:"published",instructor_id:"1",instructor_name:"ÍπÄÏÇ¨Ï£º ÏÑ†ÏÉùÎãò",price:0,rating:4.8,enrollment_count:1234,duration:240,lessons_count:12,created_at:"2024-01-01"},{id:"2",title:"Í≥†Í∏â ÏÇ¨Ï£º Ìï¥ÏÑùÎ≤ï",description:"Ï†ÑÎ¨∏Í∞Ä ÏàòÏ§ÄÏùò ÏÇ¨Ï£º Î∂ÑÏÑù Í∏∞Î≤ï",level:"advanced",category:"professional",status:"published",instructor_id:"2",instructor_name:"Ïù¥Ïö¥ÏÑ∏ ÏÑ†ÏÉùÎãò",price:99e3,rating:4.9,enrollment_count:567,duration:480,lessons_count:24,created_at:"2024-02-01"}])}catch(k){console.error("ÏàòÍ∞ï Í∞ïÏ¢å Î°úÎî© Ïã§Ìå®:",k)}},N=()=>{w(!0)};return r&&!s?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-48 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32"})]}),a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-10 w-24 bg-gray-200 dark:bg-gray-600 rounded"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-600 rounded-xl animate-pulse"}),a.jsx("div",{className:"h-80 bg-gray-200 dark:bg-gray-600 rounded-xl animate-pulse"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-600 rounded-xl animate-pulse"}),a.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-600 rounded-xl animate-pulse"})]})]})]})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üòµ"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:o}),a.jsx("button",{onClick:()=>w(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Îã§Ïãú ÏãúÎèÑ"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:h==="overview"?"üìä ÎåÄÏãúÎ≥¥Îìú":"üéì ÌïôÏäµ ÌòÑÌô©"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:h==="overview"?"ÌïúÎààÏóê Î≥¥Îäî ÎÇòÏùò ÌôúÎèô ÌòÑÌô©":"ÌïôÏäµ ÏßÑÎèÑÏôÄ ÏÑ±Ï∑®Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-1 border border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:()=>m("overview"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${h==="overview"?"bg-purple-600 text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Í∞úÏöî"}),a.jsx("button",{onClick:()=>m("learning"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${h==="learning"?"bg-purple-600 text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"ÌïôÏäµ"})]}),a.jsxs("button",{onClick:N,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[a.jsx(ov,{className:`h-4 w-4 ${c?"animate-spin":""}`}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:c?"ÏÉàÎ°úÍ≥†Ïπ® Ï§ë...":"ÏÉàÎ°úÍ≥†Ïπ®"})]})]})]}),h==="overview"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s&&a.jsx(Yv,{todayData:s.today,loading:r}),s&&a.jsx(Gv,{weeklyData:s.week,loading:r})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(qv,{actions:C,loading:r}),s&&a.jsx(Kv,{monthlyData:s.month,loading:r})]})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(e2,{userId:"user-1"}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"ÏàòÍ∞ï Ï§ëÏù∏ Í∞ïÏ¢å"}),u.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üìö"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"ÏàòÍ∞ï Ï§ëÏù∏ Í∞ïÏ¢åÍ∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"ÏÉàÎ°úÏö¥ Í∞ïÏ¢åÎ•º ÏàòÍ∞ïÌï¥Î≥¥ÏÑ∏Ïöî"}),a.jsx("button",{onClick:()=>window.location.href="/saju",className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Í∞ïÏ¢å ÎëòÎü¨Î≥¥Í∏∞"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(k=>a.jsx(s2,{course:k,progress:{courseId:k.id,enrollmentId:`enrollment-${k.id}`,progress:k.id==="1"?25:60,completedLessons:k.id==="1"?3:14,totalLessons:k.lessons_count,isEnrolled:!0,status:(k.id==="1","enrolled")},showEnrollButton:!1},k.id))})]})]}),s&&a.jsx("div",{className:"mt-8 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-3xl",children:"üéØ"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ïò§ÎäòÏùò Ïù∏ÏÇ¨Ïù¥Ìä∏"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[s.today.totalTodos===0&&a.jsx("p",{children:"‚Ä¢ Ïò§Îäò Ìï†ÏùºÏùÑ Ï∂îÍ∞ÄÌïòÏó¨ ÌïòÎ£®Î•º Í≥ÑÌöçÌï¥Î≥¥ÏÑ∏Ïöî"}),s.today.diary===null&&a.jsx("p",{children:"‚Ä¢ ÌïòÎ£®Î•º ÎßàÎ¨¥Î¶¨ÌïòÎ©∞ ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî"}),s.week.completionRate>80&&a.jsxs("p",{children:["‚Ä¢ Ïù¥Î≤à Ï£º Ìï†Ïùº ÏôÑÎ£åÏú®Ïù¥ ",s.week.completionRate,"%ÏûÖÎãàÎã§. Ï†ïÎßê ÏûòÌïòÍ≥† Í≥ÑÏãúÎÑ§Ïöî! üéâ"]}),s.week.completionRate<50&&s.week.completionRate>0&&a.jsx("p",{children:"‚Ä¢ Ìï†Ïùº ÏôÑÎ£åÏú®Ïù¥ ÎÇÆÏäµÎãàÎã§. ÏûëÏùÄ Î™©ÌëúÎ∂ÄÌÑ∞ Ï∞®Í∑ºÏ∞®Í∑º ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî"}),s.month.totalActivities===0&&a.jsx("p",{children:"‚Ä¢ Ïù¥Î≤à Îã¨Ïùò Ï≤´ ÌôúÎèôÏùÑ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî!"})]})]})]})})]}),f&&a.jsx(fm,{onClose:()=>x(!1),onSave:k=>{console.log("ÏÉà Ïù¥Î≤§Ìä∏ ÏÉùÏÑ±:",k),x(!1),w(!0)}}),b&&a.jsx(Zv,{date:new Date,onClose:()=>y(!1),onSave:()=>{y(!1),w(!0)}}),j&&(()=>{const k=prompt("ÏÉàÎ°úÏö¥ Ìï†ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:");return k&&(e({text:k,completed:!1,priority:"medium",date:new Date().toISOString().split("T")[0]}),w(!0)),S(!1),null})()]})}function r2({stats:t}){const e=r=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(r),s=r=>new Intl.NumberFormat("ko-KR").format(r),n=[{title:"Ï†ÑÏ≤¥ Í∞ïÏ¢å",value:s(t.totalCourses),icon:We,color:"blue",bgColor:"bg-blue-50 dark:bg-blue-900/20",iconColor:"text-blue-600 dark:text-blue-400",textColor:"text-blue-600 dark:text-blue-400",description:"Í∞úÏÑ§Îêú Í∞ïÏ¢å Ïàò"},{title:"Ï†ÑÏ≤¥ ÌïôÏÉù",value:s(t.totalStudents),icon:Pl,color:"green",bgColor:"bg-green-50 dark:bg-green-900/20",iconColor:"text-green-600 dark:text-green-400",textColor:"text-green-600 dark:text-green-400",description:"Îì±Î°ùÎêú ÌïôÏÉù Ïàò"},{title:"ÏàòÍ∞ïÏã†Ï≤≠",value:s(t.totalEnrollments),icon:hm,color:"purple",bgColor:"bg-purple-50 dark:bg-purple-900/20",iconColor:"text-purple-600 dark:text-purple-400",textColor:"text-purple-600 dark:text-purple-400",description:"Ï¥ù ÏàòÍ∞ïÏã†Ï≤≠ Í±¥Ïàò",subStats:[{label:"ÏßÑÌñâÏ§ë",value:t.activeEnrollments},{label:"ÏôÑÎ£å",value:t.completedEnrollments}]},{title:"Ï¥ù ÏàòÏùµ",value:e(t.totalRevenue),icon:um,color:"emerald",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",iconColor:"text-emerald-600 dark:text-emerald-400",textColor:"text-emerald-600 dark:text-emerald-400",description:"Ï†ÑÏ≤¥ Îß§Ï∂ú ÌòÑÌô©"},{title:"ÌèâÍ∑† ÌèâÏ†ê",value:t.averageRating.toFixed(1),icon:qs,color:"yellow",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",iconColor:"text-yellow-600 dark:text-yellow-400",textColor:"text-yellow-600 dark:text-yellow-400",description:"Í∞ïÏ¢å ÌèâÍ∑† ÎßåÏ°±ÎèÑ",suffix:"/5.0"},{title:"ÏôÑÎ£åÏú®",value:`${t.completionRate}%`,icon:Ct,color:"indigo",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",iconColor:"text-indigo-600 dark:text-indigo-400",textColor:"text-indigo-600 dark:text-indigo-400",description:"ÏàòÍ∞ï ÏôÑÎ£åÏú®"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>a.jsxs("div",{className:`${r.bgColor} rounded-xl p-6 border border-opacity-20`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 ${r.bgColor} rounded-lg`,children:a.jsx(r.icon,{className:`h-6 w-6 ${r.iconColor}`})}),r.color==="green"&&t.totalEnrollments>0&&a.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[a.jsx(Dl,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{className:"text-xs font-medium",children:["+",Math.round(t.activeEnrollments/t.totalEnrollments*100),"%"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r.title}),a.jsxs("div",{className:"flex items-baseline space-x-2",children:[a.jsx("p",{className:`text-2xl font-bold ${r.textColor}`,children:r.value}),r.suffix&&a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.suffix})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.description}),r.subStats&&a.jsx("div",{className:"flex space-x-4 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:r.subStats.map((o,l)=>a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.label}),a.jsx("p",{className:`text-sm font-semibold ${r.textColor}`,children:s(o.value)})]},l))})]})]},i))})}function a2({courses:t}){const[e,s]=v.useState(""),[n,r]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState("all"),d={beginner:"Ï¥àÍ∏â",intermediate:"Ï§ëÍ∏â",advanced:"Í≥†Í∏â",expert:"Ï†ÑÎ¨∏Í∞Ä"},h={basic:"Í∏∞Ï¥à",fortune:"Ïö¥ÏÑ∏",compatibility:"Í∂ÅÌï©",professional:"Ï†ÑÎ¨∏Í∞Ä",special:"ÌäπÍ∞ï"},m={draft:"Ï¥àÏïà",published:"Í≥µÍ∞ú",archived:"Î≥¥Í¥ÄÎê®",coming_soon:"Ï∂úÏãú ÏòàÏ†ï"},u={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",published:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",archived:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",coming_soon:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},g=t.filter(b=>{const y=b.title.toLowerCase().includes(e.toLowerCase()),j=n==="all"||b.status===n,S=i==="all"||b.category===i,C=l==="all"||b.level===l;return y&&j&&S&&C}),f=b=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(b),x=b=>new Date(b).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Í∞ïÏ¢å Í¥ÄÎ¶¨"}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Ï¥ù ",g.length,"Í∞úÏùò Í∞ïÏ¢å"]})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(mm,{className:"h-4 w-4"}),"ÏÉà Í∞ïÏ¢å Ï∂îÍ∞Ä"]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Í∞ïÏ¢åÎ™Ö Í≤ÄÏÉâ...",value:e,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:n,onChange:b=>r(b.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"Î™®Îì† ÏÉÅÌÉú"}),a.jsx("option",{value:"draft",children:"Ï¥àÏïà"}),a.jsx("option",{value:"published",children:"Í≥µÍ∞ú"}),a.jsx("option",{value:"archived",children:"Î≥¥Í¥ÄÎê®"}),a.jsx("option",{value:"coming_soon",children:"Ï∂úÏãú ÏòàÏ†ï"})]}),a.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨"}),a.jsx("option",{value:"basic",children:"Í∏∞Ï¥à"}),a.jsx("option",{value:"fortune",children:"Ïö¥ÏÑ∏"}),a.jsx("option",{value:"compatibility",children:"Í∂ÅÌï©"}),a.jsx("option",{value:"professional",children:"Ï†ÑÎ¨∏Í∞Ä"}),a.jsx("option",{value:"special",children:"ÌäπÍ∞ï"})]}),a.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"Î™®Îì† Î†àÎ≤®"}),a.jsx("option",{value:"beginner",children:"Ï¥àÍ∏â"}),a.jsx("option",{value:"intermediate",children:"Ï§ëÍ∏â"}),a.jsx("option",{value:"advanced",children:"Í≥†Í∏â"}),a.jsx("option",{value:"expert",children:"Ï†ÑÎ¨∏Í∞Ä"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:g.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(We,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Í∞ïÏ¢åÍ∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"ÏÉàÎ°úÏö¥ Í∞ïÏ¢åÎ•º Ï∂îÍ∞ÄÌïòÍ±∞ÎÇò Í≤ÄÏÉâ Ï°∞Í±¥ÏùÑ Î≥ÄÍ≤ΩÌï¥Î≥¥ÏÑ∏Ïöî"}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ÏÉà Í∞ïÏ¢å Ï∂îÍ∞Ä"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Í∞ïÏ¢å Ï†ïÎ≥¥"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ÏÉÅÌÉú"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Í∞ÄÍ≤©"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ÌÜµÍ≥Ñ"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ÏÉùÏÑ±Ïùº"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ÏûëÏóÖ"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:g.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(We,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:b.title}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:h[b.category]}),a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",children:d[b.level]})]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u[b.status]}`,children:m[b.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:b.price===0?"Î¨¥Î£å":f(b.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Pl,{className:"h-4 w-4 mr-1"}),b.enrollment_count]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(qs,{className:"h-4 w-4 mr-1"}),b.rating.toFixed(1)]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:x(b.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:a.jsx(kv,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400",children:a.jsx(Mv,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:a.jsx(Ov,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]})}function i2({stats:t}){const e=parseFloat(t.completionRate),s=(i,o=0)=>{const l=i*360/100,c=o+l,d=50+40*Math.cos(Math.PI*o/180),h=50+40*Math.sin(Math.PI*o/180),m=50+40*Math.cos(Math.PI*c/180),u=50+40*Math.sin(Math.PI*c/180),g=l>180?1:0;return i===100?"M 50 10 A 40 40 0 1 1 49.99 10 Z":`M 50 50 L ${d} ${h} A 40 40 0 ${g} 1 ${m} ${u} Z`},n=t.totalEnrollments>0?t.activeEnrollments/t.totalEnrollments*100:0,r=t.totalEnrollments>0?t.completedEnrollments/t.totalEnrollments*100:0;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ÏàòÍ∞ïÏã†Ï≤≠ ÌòÑÌô©"}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Ï†ÑÏ≤¥ ",t.totalEnrollments.toLocaleString(),"Í±¥"]})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("svg",{viewBox:"0 0 100 100",className:"w-32 h-32 transform -rotate-90",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-gray-200 dark:text-gray-700"}),r>0&&a.jsx("path",{d:s(r,0),fill:"currentColor",className:"text-green-500"}),n>0&&a.jsx("path",{d:s(n,r*360/100),fill:"currentColor",className:"text-blue-500"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[e.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÏôÑÎ£åÏú®"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"ÏôÑÎ£å"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.completedEnrollments.toLocaleString(),"Í±¥ (",r.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"ÏßÑÌñâÏ§ë"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.activeEnrollments.toLocaleString(),"Í±¥ (",n.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Í∏∞ÌÉÄ"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(t.totalEnrollments-t.activeEnrollments-t.completedEnrollments).toLocaleString(),"Í±¥"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.totalStudents.toLocaleString()}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ï¥ù ÌïôÏÉù Ïàò"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[t.averageRating.toFixed(1),"/5.0"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÌèâÍ∑† ÎßåÏ°±ÎèÑ"})]})]})]})}function o2({totalRevenue:t}){const e=r=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(r),s=[{month:"1Ïõî",revenue:t*.08},{month:"2Ïõî",revenue:t*.06},{month:"3Ïõî",revenue:t*.12},{month:"4Ïõî",revenue:t*.09},{month:"5Ïõî",revenue:t*.15},{month:"6Ïõî",revenue:t*.11},{month:"7Ïõî",revenue:t*.13},{month:"8Ïõî",revenue:t*.1},{month:"9Ïõî",revenue:t*.16}],n=Math.max(...s.map(r=>r.revenue));return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ÏõîÎ≥Ñ Îß§Ï∂ú ÌòÑÌô©"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"2024ÎÖÑ ÎàÑÏ†Å Îß§Ï∂ú"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[a.jsx(Dl,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"+12.5%"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(um,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:e(t)})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Ï†ÑÏ≤¥ Îß§Ï∂ú Ìï©Í≥Ñ"})]}),a.jsx("div",{className:"space-y-3",children:s.map((r,i)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 text-xs text-gray-500 dark:text-gray-400 text-right",children:r.month}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-6 relative overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${r.revenue/n*100}%`},children:a.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"})})})}),a.jsx("div",{className:"w-20 text-xs text-gray-600 dark:text-gray-300 text-right",children:e(r.revenue)})]},i))}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:e(s[s.length-1].revenue)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ïù¥Î≤à Îã¨"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:e(t/s.length)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ïõî ÌèâÍ∑†"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:"+12.5%"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ï†ÑÏõî ÎåÄÎπÑ"})]})]})]})}function l2(){const[t,e]=v.useState(null),[s,n]=v.useState([]),[r,i]=v.useState(!0),[o,l]=v.useState(null),[c,d]=v.useState("overview"),h=async()=>{try{const g=await fetch("/api/academy/stats/overview");if(!g.ok)throw new Error("Failed to fetch academy stats");const f=await g.json();if(f.success)e(f.data);else throw new Error(f.error||"Failed to load stats")}catch(g){console.error("Failed to load academy stats:",g),l("ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}},m=async()=>{try{const g=await fetch("/api/academy/courses?limit=10&sort_by=created_at&sort_order=desc");if(!g.ok)throw new Error("Failed to fetch courses");const f=await g.json();if(f.success)n(f.data.courses);else throw new Error(f.error||"Failed to load courses")}catch(g){console.error("Failed to load courses:",g),l("Í∞ïÏ¢å Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}};v.useEffect(()=>{(async()=>{i(!0),l(null);try{await Promise.all([h(),m()])}catch(f){console.error("Failed to load dashboard data:",f)}finally{i(!1)}})()},[]);const u=async()=>{await Promise.all([h(),m()])};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"animate-pulse mb-8",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-64 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-48"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((g,f)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},f))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm animate-pulse",children:a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-600 rounded"})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm animate-pulse",children:a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-600 rounded"})})]})]})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"‚ùå"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ÏÉàÎ°úÍ≥†Ïπ®"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[a.jsx(hm,{className:"h-8 w-8 text-blue-600"}),"ÏïÑÏπ¥Îç∞ÎØ∏ Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú"]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò ÍµêÏú° ÌîåÎû´Ìèº Í¥ÄÎ¶¨ Î∞è ÌòÑÌô©"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:u,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"ÏÉàÎ°úÍ≥†Ïπ®"}),a.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(mm,{className:"h-4 w-4"}),"ÏÉà Í∞ïÏ¢å"]})]})]}),a.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-8",children:[{key:"overview",label:"Í∞úÏöî",icon:Aa},{key:"courses",label:"Í∞ïÏ¢å Í¥ÄÎ¶¨",icon:We},{key:"enrollments",label:"ÏàòÍ∞ï ÌòÑÌô©",icon:Pl},{key:"analytics",label:"Î∂ÑÏÑù",icon:Dl}].map(({key:g,label:f,icon:x})=>a.jsxs("button",{onClick:()=>d(g),className:`flex items-center gap-2 px-6 py-3 border-b-2 transition-colors ${c===g?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(x,{className:"h-4 w-4"}),f]},g))}),c==="overview"&&a.jsxs("div",{className:"space-y-8",children:[t&&a.jsx(r2,{stats:t}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t&&a.jsx(i2,{stats:t}),t&&a.jsx(o2,{totalRevenue:t.totalRevenue})]})]}),c==="courses"&&a.jsx(a2,{courses:s,onRefresh:u}),c==="enrollments"&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"ÏàòÍ∞ï ÌòÑÌô© Í¥ÄÎ¶¨"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"ÏàòÍ∞ïÏÉù Í¥ÄÎ¶¨ Í∏∞Îä•Ïù¥ Í≥ß Ï∂îÍ∞ÄÎê©ÎãàÎã§."})]}),c==="analytics"&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"ÏÉÅÏÑ∏ Î∂ÑÏÑù"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"ÏÉÅÏÑ∏ Î∂ÑÏÑù ÎåÄÏãúÎ≥¥ÎìúÍ∞Ä Í≥ß Ï∂îÍ∞ÄÎê©ÎãàÎã§."})]})]})})}const Rl=({viewMode:t,currentDate:e})=>{const[s,n]=v.useState({diaries:[],diaryDates:new Set,loading:!1,error:null}),r=v.useCallback(()=>{let c,d;switch(t){case"year":c=new Date(e.getFullYear(),0,1),d=new Date(e.getFullYear(),11,31);break;case"month":c=Qn(e),d=Zn(e);break;case"week":c=kr(e,{weekStartsOn:0}),d=Nr(e,{weekStartsOn:0});break;case"day":c=e,d=e;break;default:c=Qn(e),d=Zn(e)}return{startDate:B(c,"yyyy-MM-dd"),endDate:B(d,"yyyy-MM-dd")}},[t,e]),i=v.useCallback(async()=>{n(c=>({...c,loading:!0,error:null}));try{const{startDate:c,endDate:d}=r(),h=await Ie.getDiariesForDateRange(c,d),m=new Set;h.forEach(u=>{u.date&&(u.content&&u.content.trim()||u.images&&u.images.length>0)&&m.add(u.date)}),n({diaries:h,diaryDates:m,loading:!1,error:null})}catch(c){console.error("Failed to load diaries:",c),n(d=>({...d,loading:!1,error:"Failed to load diary entries"}))}},[r]),o=v.useCallback(c=>{const d=typeof c=="string"?c:B(c,"yyyy-MM-dd");return s.diaryDates.has(d)},[s.diaryDates]),l=v.useCallback(c=>{const d=typeof c=="string"?c:B(c,"yyyy-MM-dd");return s.diaries.find(h=>h.date===d)},[s.diaries]);return v.useEffect(()=>{i()},[i]),{diaries:s.diaries,diaryDates:s.diaryDates,loading:s.loading,error:s.error,hasDiary:o,getDiaryForDate:l,reloadDiaries:i}},gd={reflection:["Ïò§Îäò ÌïòÎ£® Í∞ÄÏû• Í∞êÏÇ¨ÌñàÎçò ÏàúÍ∞ÑÏùÄ Ïñ∏Ï†úÏòÄÎÇòÏöî?","ÎßàÏùå ÍπäÏùÄ Í≥≥Ïùò ÏßÑÏßú Í∏∞Î∂ÑÏùÑ ÏÜîÏßÅÌïòÍ≤å Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇòÏóêÍ≤å Í∞ÄÏû• ÏÜåÏ§ëÌñàÎçò Í≤ÉÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?","ÌïòÎ£®Î•º ÎèåÏïÑÎ≥¥Î©∞, ÎÇòÎäî Ïñ¥Îñ§ ÏÇ¨ÎûåÏù¥ÏóàÎäîÏßÄ ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî.","Ïò§ÎäòÏùò ÎÇòÏóêÍ≤å Ï†ÑÌïòÍ≥† Ïã∂ÏùÄ Ìïú ÎßàÎîîÍ∞Ä ÏûàÎã§Î©¥?","ÎßàÏùåÏÜç ÍπäÏùÄ Í≥≥Ïùò Î™©ÏÜåÎ¶¨Ïóê Í∑Ä Í∏∞Ïö∏Ïó¨Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇòÎ•º Í∞ÄÏû• ÌñâÎ≥µÌïòÍ≤å ÎßåÎì† ÏàúÍ∞ÑÏùÑ Í∏∞ÏñµÌï¥Î≥¥ÏÑ∏Ïöî.","ÏßÄÍ∏à Ïù¥ ÏàúÍ∞Ñ ÎÇ¥ ÎßàÏùåÏùÄ Ïñ¥Îñ§ ÏÉâÍπîÏù∏Í∞ÄÏöî?","Ïò§Îäò ÌïòÎ£® ÎÇòÎäî ÎàÑÍµ¨Î•º ÏúÑÌï¥ ÏÇ¥ÏïòÎÇòÏöî?","ÎßàÏùåÏù¥ Í∞ÄÏû• ÌèâÌôîÎ°úÏõ†Îçò ÏãúÍ∞ÑÏùÑ Îñ†Ïò¨Î†§Î≥¥ÏÑ∏Ïöî.","Ïò§ÎäòÏùò ÎÇòÏóêÍ≤å Ïπ≠Ï∞¨Ìï¥Ï£ºÍ≥† Ïã∂ÏùÄ Ï†êÏù¥ ÏûàÎã§Î©¥?","ÌïòÎ£® Ï¢ÖÏùº Í∞ÄÏä¥ ÌïúÌé∏Ïóê Î®∏Î¨ºÎ†ÄÎçò ÏÉùÍ∞ÅÏùÑ Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇòÎäî Ïñ¥Îñ§ ÎßàÏùåÏúºÎ°ú ÏÇ¨ÎûåÎì§ÏùÑ ÎßåÎÇ¨ÎÇòÏöî?","ÏßÄÍ∏à Ïù¥ ÏàúÍ∞Ñ ÎÇ¥Í∞Ä Í∞ÄÏû• Í∑∏Î¶¨Ïö¥ Í≤ÉÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?","Ïò§ÎäòÏùò Í≤ΩÌóò Ï§ë ÎßàÏùåÏóê Í∞ÄÏû• ÍπäÏù¥ ÏÉàÍ≤®ÎëêÍ≥† Ïã∂ÏùÄ Í≤ÉÏùÄ?"],emotion:["ÎïåÎ°úÎäî Ïä¨ÌîîÎèÑ ÏÜåÏ§ëÌïú Í∞êÏ†ïÏûÖÎãàÎã§. ÏûàÎäî Í∑∏ÎåÄÎ°ú Î∞õÏïÑÎì§Ïó¨Î≥¥ÏÑ∏Ïöî.","ÏõÉÏóàÎçò ÏàúÍ∞ÑÎì§ÏùÑ Í∏∞ÏñµÌï¥Î≥¥ÏÑ∏Ïöî. Í∑∏ Îî∞ÎúªÌï®ÏùÑ Í∏ÄÎ°ú ÎÇ®Í≤®Î≥¥ÏÑ∏Ïöî.","Í∏∞ÏÅ®Ïù¥Îì† Ïä¨ÌîîÏù¥Îì†, ÏßÄÍ∏à Ïù¥ Í∞êÏ†ïÎèÑ ÏÜåÏ§ëÌïú ÎÇòÏùò ÏùºÎ∂ÄÏûÖÎãàÎã§.","ÎßàÏùåÏù¥ Î¨¥Í±∞Ïö∏ ÎïåÏùºÏàòÎ°ù, ÏûëÏùÄ ÌñâÎ≥µÏùÑ Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.","Í∞êÏ†ïÏùÑ ÏñµÎàÑÎ•¥ÏßÄ ÎßêÍ≥†, Ï¢ÖÏù¥ ÏúÑÏóê ÏûêÏú†Î°≠Í≤å ÌíÄÏñ¥ÎÜìÏúºÏÑ∏Ïöî.","Ïò§ÎäòÏùò Í∞êÏ†ïÎì§Ïù¥ ÎÇ¥ÏùºÏùò ÎÇòÎ•º Îçî Îã®Îã®ÌïòÍ≤å ÎßåÎì§Ïñ¥Ï§Ñ Í±∞ÏòàÏöî.","ÎààÎ¨ºÏù¥ ÎÇòÎçîÎùºÎèÑ Í¥úÏ∞ÆÏïÑÏöî. Í∑∏Í≤ÉÎèÑ ÎßàÏùåÏùÑ Ï†ïÌôîÌïòÎäî Î∞©Î≤ïÏûÖÎãàÎã§.","ÌñâÎ≥µÌñàÎçò ÏàúÍ∞ÑÏùÑ Í∏ÄÎ°ú Ï†ÅÏúºÎ©¥ÏÑú Í∑∏ Í∏∞Î∂ÑÏùÑ Îã§Ïãú ÎäêÍª¥Î≥¥ÏÑ∏Ïöî.","ÎßàÏùåÏÜç Í∞êÏ†ïÎì§ÏùÑ ÏÉâÍπîÎ°ú ÌëúÌòÑÌïúÎã§Î©¥ Ïñ¥Îñ§ ÏÉâÏùºÍπåÏöî?","Ïò§Îäò ÎäêÎÇÄ Î™®Îì† Í∞êÏ†ïÎì§ÏóêÍ≤å Í≥†ÎßàÏõÄÏùÑ Ï†ÑÌï¥Î≥¥ÏÑ∏Ïöî.","Í∞êÏ†ïÏùò ÌååÎèÑÍ∞Ä ÏßÄÎÇòÍ∞ÄÎäî Í≤ÉÏùÑ ÏßÄÏºúÎ≥¥Î©∞ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî.","ÎÇ¥ ÎßàÏùåÏùò ÎÇ†Ïî®Îäî ÏßÄÍ∏à Ïñ¥Îñ§Í∞ÄÏöî? ÎßëÏùå? ÌùêÎ¶º? ÎπÑ?","Í∞êÏ†ïÎèÑ Í≥ÑÏ†àÏ≤òÎüº Î≥ÄÌïúÎã§Îäî Í±∏ Í∏∞ÏñµÌïòÏÑ∏Ïöî.","Ïò§ÎäòÏùò Í∞êÏ†ïÏùÑ Ìïú Ï§ÑÎ°ú ÏöîÏïΩÌïúÎã§Î©¥?","ÎßàÏùåÏù¥ ÏãúÌÇ§Îäî ÎåÄÎ°ú ÏûêÏú†Î°≠Í≤å Ïç®Î≥¥ÏÑ∏Ïöî."],relationship:["Ïò§Îäò ÎßåÎÇú ÏÇ¨ÎûåÎì§ Ï§ë ÎàÑÍµ¨ÏóêÍ≤å Í≥†ÎßàÏõÄÏùÑ ÎäêÍºàÎÇòÏöî?","Í∞ÄÏ°±Ïù¥ÎÇò ÏπúÍµ¨ÏóêÍ≤å ÌïòÍ≥† Ïã∂ÏóàÎçò ÎßêÏùÑ Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎàÑÍµ∞Í∞ÄÏóêÍ≤å Îî∞ÎúªÌï®ÏùÑ Ï†ÑÌñàÎçò ÏàúÍ∞ÑÏù¥ ÏûàÎÇòÏöî?","ÏÜåÏ§ëÌïú ÏÇ¨ÎûåÍ≥ºÏùò ÎåÄÌôî Ï§ë Í∏∞ÏñµÏóê ÎÇ®Îäî ÎßêÏù¥ ÏûàÎã§Î©¥?","Ïò§Îäò ÎàÑÍµ∞Í∞ÄÏùò ÎØ∏ÏÜåÍ∞Ä ÎÇòÎ•º ÌñâÎ≥µÌïòÍ≤å ÎßåÎì§ÏóàÎÇòÏöî?","ÎßàÏùåÏùÑ ÎÇòÎàÑÍ≥† Ïã∂ÏùÄ ÏÇ¨ÎûåÏù¥ ÏßÄÍ∏à ÏÉùÍ∞ÅÎÇòÏãúÎÇòÏöî?","Ïò§Îäò Î∞õÏùÄ ÏûëÏùÄ ÏπúÏ†àÏù¥ÎÇò Î∞∞Î†§Î•º Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî.","ÎàÑÍµ∞Í∞ÄÏóêÍ≤å ÎØ∏ÏïàÌïú ÎßàÏùåÏù¥ ÏûàÎã§Î©¥ ÏÜîÏßÅÌïòÍ≤å Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇ¥Í∞Ä ÎàÑÍµ∞Í∞ÄÏóêÍ≤å ÎèÑÏõÄÏù¥ ÎêòÏóàÎçò ÏàúÍ∞ÑÏù¥ ÏûàÎÇòÏöî?","Í∞ÄÏû• Í∑∏Î¶¨Ïö¥ ÏÇ¨ÎûåÏóêÍ≤å Ìé∏ÏßÄÎ•º Ïì¥Îã§Î©¥?","Ïò§ÎäòÏùò ÎßåÎÇ®Îì§Ïù¥ ÎÇ¥Í≤å Ï§Ä ÏùòÎØ∏Î•º ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî.","ÌòºÏûêÏòÄÏßÄÎßå Ïô∏Î°≠ÏßÄ ÏïäÏïòÎçò ÏàúÍ∞Ñ, Ìï®ÍªòÏòÄÏßÄÎßå Ïô∏Î°úÏõ†Îçò ÏàúÍ∞ÑÏùÄ?","Ïò§Îäò ÎàÑÍµ∞Í∞ÄÏùò ÎßàÏùåÏùÑ Ïù¥Ìï¥Ìï† Ïàò ÏûàÏóàÎçò ÏàúÍ∞ÑÏù¥ ÏûàÎÇòÏöî?","ÎÇ¥Í∞Ä ÏÇ¨ÎûëÌïòÎäî ÏÇ¨ÎûåÎì§Ïùò ÏñºÍµ¥ÏùÑ Îñ†Ïò¨Î¶¨Î©∞ Ïç®Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÏÉàÎ°úÏö¥ Ïù∏Ïó∞Ïù¥ÎÇò ÍπäÏñ¥ÏßÑ Í¥ÄÍ≥ÑÍ∞Ä ÏûàÏóàÎÇòÏöî?"],growth:["Ïò§Îäò ÏÉàÎ°≠Í≤å Î∞∞Ïö¥ Í≤ÉÏù¥ÎÇò Íπ®Îã¨ÏùÄ Ï†êÏù¥ ÏûàÎã§Î©¥ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî.","Ïñ¥Ï†úÎ≥¥Îã§ Ï°∞Í∏àÏù¥ÎùºÎèÑ ÎÇòÏïÑÏßÑ Î™®ÏäµÏùÑ Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇòÏùò ÌïúÍ≥ÑÎ•º Îõ∞Ïñ¥ÎÑòÏúºÎ†§ ÎÖ∏Î†•ÌñàÎçò ÏàúÍ∞ÑÏù¥ ÏûàÎÇòÏöî?","Ïã§ÏàòÎÇò Ïã§Ìå®ÏóêÏÑúÎèÑ Î∞∞Ïö∏ Ï†êÏùÑ Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.","ÎØ∏ÎûòÏùò ÎÇòÏóêÍ≤å ÏßÄÍ∏àÏùò Í≤ΩÌóòÏù¥ Ïñ¥Îñ§ ÎèÑÏõÄÏù¥ Îê†ÍπåÏöî?","Ïò§ÎäòÏùò ÎèÑÏ†ÑÏù¥ ÎÇ¥ÏùºÏùò ÏÑ±Ïû•ÏúºÎ°ú Ïù¥Ïñ¥Ïßà Í±∞ÏòàÏöî.","ÏûëÏùÄ Î≥ÄÌôîÎùºÎèÑ Í∑∏Í≤ÉÏù¥ ÏãúÏûëÏù¥ÎùºÎäî Í±∏ Í∏∞ÏñµÌïòÏÑ∏Ïöî.","Ïò§Îäò ÎÇ¥Í∞Ä Ïö©Í∏∞Î•º ÎÉàÎçò ÏàúÍ∞ÑÏùÑ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî.","Ïñ¥Î†§Ïö¥ ÏÉÅÌô©ÏóêÏÑúÎèÑ Ìè¨Í∏∞ÌïòÏßÄ ÏïäÏùÄ ÎÇòÎ•º Ïπ≠Ï∞¨Ìï¥Ï£ºÏÑ∏Ïöî.","Ïò§ÎäòÏùò Í≤ΩÌóòÏù¥ ÎÇòÎ•º Îçî ÏßÄÌòúÎ°≠Í≤å ÎßåÎì§ÏóàÎÇòÏöî?","ÏÉàÎ°úÏö¥ ÏãúÍ∞ÅÏúºÎ°ú Î∞îÎùºÎ≥∏ Í≤ÉÎì§Ïù¥ ÏûàÎã§Î©¥?","Ïò§Îäò ÎÇ¥Í∞Ä Ìïú ÏÑ†ÌÉùÎì§ÏùÑ ÎèåÏïÑÎ≥¥Î©∞ Î∞∞Ïö¥ Ï†êÏùÄ?","ÌûòÎì§ÏóàÏßÄÎßå ÎÅùÍπåÏßÄ Ìï¥ÎÇ∏ ÏùºÏù¥ ÏûàÎÇòÏöî?","Ïò§ÎäòÏùò ÎÇòÎ•º Ïñ¥Ï†úÏùò ÎÇòÏôÄ ÎπÑÍµêÌï¥Î≥¥ÏÑ∏Ïöî.","ÏÑ±Ïû•ÌïòÍ≥† ÏûàÎäî ÎÇò ÏûêÏã†ÏùÑ ÎØøÏñ¥Î≥¥ÏÑ∏Ïöî."],gratitude:["Ïò§Îäò Í∞ÄÏû• Í∞êÏÇ¨Ìïú ÏÑ∏ Í∞ÄÏßÄÎ•º Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","ÏûëÏùÄ ÏùºÏÉÅ ÏÜçÏóêÏÑú Ï∞æÏùÄ ÌñâÎ≥µÏùÑ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî.","ÎÇòÎ•º ÏúÑÌï¥ ÌûòÏç®Ï§Ä ÏÇ¨ÎûåÎì§ÏùÑ Îñ†Ïò¨Î¶¨Î©∞ Í∞êÏÇ¨ Ïù∏ÏÇ¨Î•º Ïç®Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇ¥Í∞Ä ÎàÑÎ¶¥ Ïàò ÏûàÏóàÎçò Í≤ÉÎì§Ïóê Í∞êÏÇ¨Ìï¥Î≥¥ÏÑ∏Ïöî.","Í±¥Í∞ïÌïú ÌïòÎ£®Î•º Î≥¥ÎÇº Ïàò ÏûàÏñ¥ÏÑú Í∞êÏÇ¨ÌïòÎã§Îäî ÎßàÏùåÏùÑ Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî.","Îî∞ÎúªÌïú Ïû†ÏûêÎ¶¨, ÎßõÏûàÎäî ÏùåÏãù... ÎãπÏó∞Ìïú Í≤ÉÎì§Ïóê Í∞êÏÇ¨Ìï¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÎÇòÎ•º ÏõÉÍ≤å ÎßåÎì† Í≤ÉÎì§ÏùÑ ÎÇòÏó¥Ìï¥Î≥¥ÏÑ∏Ïöî.","ÏÇ¨Í≥ÑÏ†àÏùò Î≥ÄÌôî, ÏûêÏó∞Ïùò ÏïÑÎ¶ÑÎã§ÏõÄÏóê Í∞êÏÇ¨Ìïú ÎßàÏùåÏùÑ Ïç®Î≥¥ÏÑ∏Ïöî.","Í∞ÄÏ°±, ÏπúÍµ¨Îì§Ïùò Ï°¥Ïû¨Ïóê ÎåÄÌïú Í∞êÏÇ¨Ìï®ÏùÑ ÌëúÌòÑÌï¥Î≥¥ÏÑ∏Ïöî.","Ïò§Îäò ÌïòÎ£® Î¨¥ÏÇ¨Ìûà Î≥¥ÎÇº Ïàò ÏûàÏñ¥ÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.","ÎÇ¥Í∞Ä Í∞ÄÏßÑ ÏûëÏùÄ Ïû¨Îä•Ïù¥ÎÇò Îä•Î†•Ïóê Í∞êÏÇ¨Ìï¥Î≥¥ÏÑ∏Ïöî.","Ïñ¥Î†§ÏõÄ ÏÜçÏóêÏÑúÎèÑ ÎÇòÎ•º ÏßÄÏºúÏ§Ä Í≤ÉÎì§ÏùÑ ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî.","Ïò§ÎäòÏùò Î™®Îì† ÏàúÍ∞ÑÎì§Ïù¥ ÏÑ†Î¨ºÏù¥ÏóàÎã§Í≥† ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî.","ÎÇòÎ•º ÏÇ¨ÎûëÌï¥Ï£ºÎäî ÏÇ¨ÎûåÎì§Ïù¥ ÏûàÏñ¥ÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.","ÏßÄÍ∏à Ïù¥ ÏàúÍ∞Ñ, Í∏ÄÏùÑ Ïì∏ Ïàò ÏûàÏñ¥ÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§."]};function c2(t){const e=t.getFullYear(),s=t.getMonth()+1,n=t.getDate();return e*1e4+s*100+n}function fd(t){const e=Math.sin(t)*1e4;return e-Math.floor(e)}function xd(t){const e=c2(t),s=Object.keys(gd),n=Math.floor(fd(e)*s.length),r=s[n],i=gd[r],o=Math.floor(fd(e+1)*i.length);return{advice:i[o],category:r}}function pd(t){return{reflection:"ü§î",emotion:"üíù",relationship:"üë•",growth:"üå±",gratitude:"üôè"}[t]}function zr(t){return{reflection:"#8B5CF6",emotion:"#EC4899",relationship:"#3B82F6",growth:"#10B981",gratitude:"#F59E0B"}[t]}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),bd=t=>{const e=h2(t);return e.charAt(0).toUpperCase()+e.slice(1)},xm=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),u2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...m2,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:xm("lucide",r),...!i&&!u2(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>v.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const s=v.forwardRef(({className:n,...r},i)=>v.createElement(g2,{ref:i,iconNode:e,className:xm(`lucide-${d2(bd(t))}`,`lucide-${t}`,n),...r}));return s.displayName=bd(t),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],x2=Ye("activity",f2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],b2=Ye("briefcase",p2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],v2=Ye("camera",y2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],w2=Ye("check",j2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],N2=Ye("chevron-left",k2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C2=Ye("chevron-right",S2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M2=Ye("info",_2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T2=Ye("plus",E2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],D2=Ye("search",A2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yd=Ye("sparkles",P2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L2=Ye("trash-2",R2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],I2=Ye("users",O2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pm=Ye("x",F2);function B2({images:t,currentIndex:e,isOpen:s,onClose:n,onNext:r,onPrev:i}){const[o,l]=v.useState(e),[c,d]=v.useState(!0);v.useEffect(()=>{l(e)},[e]),v.useEffect(()=>{if(!s)return;const g=f=>{f.key==="Escape"?n():f.key==="ArrowLeft"?m():f.key==="ArrowRight"&&h()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s,o,t.length]);const h=()=>{if(t.length<=1)return;const g=(o+1)%t.length;l(g),d(!0),r==null||r()},m=()=>{if(t.length<=1)return;const g=(o-1+t.length)%t.length;l(g),d(!0),i==null||i()},u=()=>{d(!1)};return!s||!t||t.length===0?null:a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center",onClick:n,children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[a.jsxs("div",{className:"text-white text-sm font-medium",children:[o+1," / ",t.length]}),a.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm","aria-label":"Îã´Í∏∞",children:a.jsx(pm,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:g=>g.stopPropagation(),children:[c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"})}),a.jsx("img",{src:t[o],alt:`Ïù¥ÎØ∏ÏßÄ ${o+1}`,className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl",onLoad:u,style:{display:c?"none":"block"}}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:g=>{g.stopPropagation(),m()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-all backdrop-blur-sm group","aria-label":"Ïù¥Ï†Ñ Ïù¥ÎØ∏ÏßÄ",children:a.jsx(N2,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})}),a.jsx("button",{onClick:g=>{g.stopPropagation(),h()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-all backdrop-blur-sm group","aria-label":"Îã§Ïùå Ïù¥ÎØ∏ÏßÄ",children:a.jsx(C2,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})})]})]}),t.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/50 to-transparent",children:a.jsx("div",{className:"flex items-center justify-center gap-2 overflow-x-auto max-w-full",children:t.map((g,f)=>a.jsx("button",{onClick:x=>{x.stopPropagation(),l(f),d(!0)},className:`
                  relative w-16 h-16 rounded-lg overflow-hidden border-2 transition-all flex-shrink-0
                  ${f===o?"border-white scale-110 shadow-xl":"border-white/30 hover:border-white/60 hover:scale-105"}
                `,children:a.jsx("img",{src:g,alt:`Ïç∏ÎÑ§Ïùº ${f+1}`,className:"w-full h-full object-cover"})},f))})}),a.jsxs("div",{className:"absolute bottom-4 left-4 text-white/60 text-xs",children:[a.jsx("div",{children:"ESC: Îã´Í∏∞"}),a.jsx("div",{children:"‚Üê ‚Üí: Ïù¥ÎØ∏ÏßÄ Ïù¥Îèô"})]})]})}const vd=[{emoji:"üòä",label:"Í∏∞Î∂Ñ Ï¢ãÏùå"},{emoji:"üòê",label:"Î≥¥ÌÜµ"},{emoji:"üò¢",label:"Ïä¨Ìîî"},{emoji:"üò†",label:"ÌôîÎÇ®"},{emoji:"üò¥",label:"ÌîºÍ≥§Ìï®"},{emoji:"ü§î",label:"Í≥†ÎØº"},{emoji:"üòç",label:"ÏÑ§Î†ò"},{emoji:"üò±",label:"ÎÜÄÎûå"}];function hi({isOpen:t,onClose:e,date:s,onSave:n}){const[r,i]=v.useState(s),[o,l]=v.useState(""),[c,d]=v.useState("üòä"),[h,m]=v.useState(!1),[u,g]=v.useState(null),[f,x]=v.useState(null),[b,y]=v.useState(!1),[j,S]=v.useState(0),[C,w]=v.useState([]),[M,N]=v.useState(!1),[k,_]=v.useState(!1),[E,T]=v.useState(0);console.log("üìî DiaryBookModal Î†åÎçîÎßÅ:",{isOpen:t,date:B(s,"yyyy-MM-dd"),currentDate:B(r,"yyyy-MM-dd"),content:`${o.slice(0,50)}...`,contentLength:o.length});const R=xd(r),P=xd($r(r)),O=$r(r);v.useEffect(()=>{t&&(i(s),D(s))},[t,s]),v.useEffect(()=>{t&&r&&D(r)},[r]),v.useEffect(()=>{if(!o.trim()||!u)return;const V=setTimeout(()=>{(o!==(u==null?void 0:u.content)||c!==(u==null?void 0:u.mood)||JSON.stringify(C)!==JSON.stringify((u==null?void 0:u.images)||[]))&&F()},3e3);return()=>clearTimeout(V)},[o,c,C]),v.useEffect(()=>{S(o.length)},[o]),v.useEffect(()=>{var V,W;if(u){console.log("‚úÖ todayEntry Î≥ÄÍ≤Ω Í∞êÏßÄ:",{date:u.date,hasImages:!!u.images,imageCount:((V=u.images)==null?void 0:V.length)||0,images:u.images});const Z=JSON.stringify(C),U=JSON.stringify(u.images||[]);Z!==U&&(console.log("üîÑ Ïù¥ÎØ∏ÏßÄ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏:",{Í∏∞Ï°¥:C.length,ÏÉàÎ°úÏö¥:((W=u.images)==null?void 0:W.length)||0}),w(u.images||[]))}else console.log("üìù ÏÉà ÏùºÍ∏∞ ÏûëÏÑ± Î™®Îìú - Ïù¥ÎØ∏ÏßÄ Ï¥àÍ∏∞Ìôî"),C.length>0&&w([])},[u]);const D=async V=>{var W,Z,U,fe,X;m(!0);try{const le=B(V,"yyyy-MM-dd"),Y=B($r(V,1),"yyyy-MM-dd");try{const te=await Ie.getDiaryByDate(le);console.log("üìñ ÏùºÍ∏∞ Î°úÎìú ÏÑ±Í≥µ:",{date:le,hasContent:!!te.content,hasImages:!!te.images,imageCount:((W=te.images)==null?void 0:W.length)||0,imagesFirstChar:((U=(Z=te.images)==null?void 0:Z[0])==null?void 0:U.substring(0,30))||"none"}),g(te),l(te.content||""),d(te.mood||"üòä"),w(te.images||[])}catch(te){((fe=te.response)==null?void 0:fe.status)===404&&(console.log("üìÑ ÏùºÍ∏∞ ÏóÜÏùå - ÏÉà ÏùºÍ∏∞ Î™®Îìú"),g(null))}try{const te=await Ie.getDiaryByDate(Y);x(te)}catch(te){((X=te.response)==null?void 0:X.status)===404&&x(null)}}catch(le){console.error("Failed to load diaries:",le)}finally{m(!1)}},F=async()=>{if(o.trim()){y(!0);try{const W={date:B(r,"yyyy-MM-dd"),content:o.trim(),mood:c,weather:void 0,images:C.length>0?C:void 0,tags:[]};if(u!=null&&u.id)await Ie.updateDiary(u.id,W);else{const Z=await Ie.createDiary(W);g(Z)}}catch(V){console.error("Auto save failed:",V)}finally{y(!1)}}},L=async()=>{var V,W,Z,U,fe;if(o.trim()){m(!0);try{const X=B(r,"yyyy-MM-dd");let le;if(C.length>0){le=[];for(const ht of C){const Le=ht.length*3/4/1048576;console.log(`Ïù¥ÎØ∏ÏßÄ ÌÅ¨Í∏∞: ${Le.toFixed(2)}MB`),Le>1&&console.warn(`Ïù¥ÎØ∏ÏßÄÍ∞Ä 1MBÎ•º Ï¥àÍ≥ºÌï©ÎãàÎã§. ÌòÑÏû¨: ${Le.toFixed(2)}MB`),le.push(ht)}}const Y={date:X,content:o.trim(),mood:c,weather:void 0,images:le,tags:[]};console.log("Ï†ÄÏû•Ìï† ÏùºÍ∏∞ Îç∞Ïù¥ÌÑ∞:",{date:X,contentLength:o.length,mood:c,imageCount:(le==null?void 0:le.length)||0,totalDataSize:`${JSON.stringify(Y).length/1024}KB`});let te;u!=null&&u.id?(console.log("Í∏∞Ï°¥ ÏùºÍ∏∞ ÏóÖÎç∞Ïù¥Ìä∏:",u.id),te=await Ie.updateDiary(u.id,Y)):(console.log("ÏÉà ÏùºÍ∏∞ ÏÉùÏÑ±"),te=await Ie.createDiary(Y)),console.log("Ï†ÄÏû• ÏÑ±Í≥µ:",te),g(te),n&&n(te),alert("ÏùºÍ∏∞Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!")}catch(X){console.error("ÏùºÍ∏∞ Ï†ÄÏû• Ïã§Ìå® ÏÉÅÏÑ∏ Ï†ïÎ≥¥:"),console.error("Error object:",X),console.error("Error message:",X==null?void 0:X.message),console.error("Error response:",X==null?void 0:X.response),console.error("Error status:",(V=X==null?void 0:X.response)==null?void 0:V.status),console.error("Error data:",(W=X==null?void 0:X.response)==null?void 0:W.data);let le="ÏùºÍ∏∞ Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.";((Z=X==null?void 0:X.response)==null?void 0:Z.status)===413?le="Ïù¥ÎØ∏ÏßÄ ÌÅ¨Í∏∞Í∞Ä ÎÑàÎ¨¥ ÌÅΩÎãàÎã§. Îçî ÏûëÏùÄ Ïù¥ÎØ∏ÏßÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.":((U=X==null?void 0:X.response)==null?void 0:U.status)===500?le="ÏÑúÎ≤Ñ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.":((fe=X==null?void 0:X.response)==null?void 0:fe.status)===404?le="Îã§Ïù¥Ïñ¥Î¶¨ ÏÑúÎπÑÏä§Ïóê Ïó∞Í≤∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§.":X!=null&&X.message&&(le=`Ï†ÄÏû• Ïã§Ìå®: ${X.message}`),alert(le)}finally{m(!1)}}},I=()=>{i($r(r))},H=()=>{i(sp(r,1))},G=V=>{V.key==="ArrowLeft"&&V.ctrlKey?I():V.key==="ArrowRight"&&V.ctrlKey?H():V.key==="Escape"?e():V.key==="s"&&V.ctrlKey&&(V.preventDefault(),L())},Q=async V=>new Promise(W=>{const Z=document.createElement("canvas"),U=Z.getContext("2d"),fe=new Image;fe.onload=()=>{let{width:X,height:le}=fe;const Y=V.size/(1024*1024);let te=1920,ht=1920,Le=.85;Y>20?(te=1200,ht=1200,Le=.7):Y>10?(te=1600,ht=1600,Le=.75):Y>5&&(te=1920,ht=1920,Le=.8);const Mi=Math.min(te/X,ht/le);Mi<1&&(X=Math.floor(X*Mi),le=Math.floor(le*Mi)),Z.width=X,Z.height=le,U.imageSmoothingEnabled=!0,U.imageSmoothingQuality="high",U.drawImage(fe,0,0,X,le);const Br=document.createElement("canvas");Br.width=Br.height=1,Br.getContext("2d").fillRect(0,0,1,1);const Wc=Br.toDataURL("image/webp").startsWith("data:image/webp");let fn;if(Wc?fn=Z.toDataURL("image/webp",Le):fn=Z.toDataURL("image/jpeg",Le),fn.length*3/4/(1024*1024)>2&&Le>.5){const Yx=Math.max(.5,Le*.8);fn=Z.toDataURL(Wc?"image/webp":"image/jpeg",Yx)}W(fn)},fe.src=URL.createObjectURL(V)}),z=async V=>{const W=V.target.files;if(!(!W||W.length===0)){if(C.length+W.length>3){alert("ÏµúÎåÄ 3Ïû•ÍπåÏßÄ ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§");return}N(!0);try{const Z=[];for(const U of Array.from(W)){if(!U.type.startsWith("image/")){alert("Ïù¥ÎØ∏ÏßÄ ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§");continue}if(U.size>50*1024*1024){alert("ÌååÏùº ÌÅ¨Í∏∞Îäî 50MB Ïù¥ÌïòÎßå Í∞ÄÎä•Ìï©ÎãàÎã§");continue}const fe=await Q(U),X=fe.length*3/4,le=X/(1024*1024),Y=((1-X/U.size)*100).toFixed(1),te=fe.startsWith("data:image/webp")?"WebP":"JPEG";console.log(`‚úÖ Ïù¥ÎØ∏ÏßÄ ÏïïÏ∂ï ÏôÑÎ£å: ${U.name}`),console.log(`üìê Ìè¨Îß∑: ${te} | ÏõêÎ≥∏: ${(U.size/(1024*1024)).toFixed(2)}MB ‚Üí ÏïïÏ∂ï: ${le.toFixed(2)}MB`),console.log(`üìà ÏïïÏ∂ïÎ•†: ${Y}% Í∞êÏÜå`),Z.push(fe)}w(U=>[...U,...Z])}catch(Z){console.error("Image upload failed:",Z),alert("Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§")}finally{N(!1),V.target.value=""}}},J=V=>{w(W=>W.filter((Z,U)=>U!==V))};return t?a.jsxs("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,onKeyDown:G,tabIndex:-1,children:[a.jsxs("div",{className:"diary-book-container relative max-w-6xl w-full max-h-[90vh] overflow-hidden",onClick:V=>V.stopPropagation(),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900/20 to-gray-700/40 dark:from-slate-900/40 dark:to-slate-700/60 rounded-2xl transform rotate-1 scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800/30 to-gray-600/50 dark:from-slate-800/50 dark:to-slate-600/70 rounded-2xl transform -rotate-1 scale-102"}),a.jsxs("div",{className:"relative bg-gradient-to-b from-amber-50 to-amber-100 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-2xl border-2 border-amber-200 dark:border-slate-700 p-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"text-sm font-medium text-amber-700 dark:text-gray-400",children:B(r,"yyyyÎÖÑ MÏõî",{locale:je})}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h1",{className:"text-2xl font-light text-amber-800 dark:text-gray-200 tracking-wide",style:{fontFamily:"Georgia, serif"},children:"ÌïòÎ£®Ïùò Ïó¨Î∞±"}),a.jsx("div",{className:"w-20 h-0.5 bg-gradient-to-r from-amber-400 to-amber-600 dark:from-purple-500 dark:to-indigo-500 mx-auto mt-2 rounded-full"})]}),a.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:"‚úï"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 min-h-[500px]",children:[a.jsxs("div",{className:"diary-page relative",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-red-300 dark:bg-slate-600 rounded-full"}),a.jsxs("div",{className:"pl-6",children:[a.jsxs("div",{className:"border-b-2 border-dashed border-amber-300 dark:border-slate-600 pb-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-amber-700 dark:text-gray-300",children:B(O,"MÏõî dÏùº",{locale:je})}),a.jsx("p",{className:"text-sm text-amber-600 dark:text-gray-400",children:B(O,"EEEE",{locale:je})})]}),(f==null?void 0:f.mood)&&a.jsx("span",{className:"text-2xl",children:f.mood})]}),a.jsx("div",{className:"mt-3 p-2 bg-amber-100/50 dark:bg-slate-700/30 rounded-lg border border-amber-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"text-amber-600 dark:text-gray-400",children:pd(P.category)}),a.jsx("span",{className:"text-amber-700 dark:text-gray-300 leading-relaxed",children:P.advice})]})})]}),a.jsx("div",{className:"diary-content",children:f?a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap text-sm",style:{fontFamily:"Georgia, serif"},children:f.content}),a.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[f.content.length,"Ïûê"]})]}):a.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-500 italic py-8",children:[a.jsx("p",{className:"text-sm",children:"Ïñ¥Ï†úÏùò ÏùºÍ∏∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("span",{className:"text-2xl",children:"üìù"})]})})]})]}),a.jsx("div",{className:"hidden lg:block absolute left-1/2 top-16 bottom-16 w-px bg-gradient-to-b from-amber-300 via-amber-400 to-amber-300 dark:from-transparent dark:via-slate-500 dark:to-transparent"}),a.jsxs("div",{className:"diary-page relative",children:[a.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-red-300 dark:bg-slate-600 rounded-full"}),a.jsxs("div",{className:"pr-6",children:[a.jsxs("div",{className:"border-b-2 border-dashed border-amber-300 dark:border-slate-600 pb-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-amber-700 dark:text-gray-300",children:B(r,"MÏõî dÏùº",{locale:je})}),a.jsx("p",{className:"text-sm text-amber-600 dark:text-gray-400",children:B(r,"EEEE",{locale:je})})]}),a.jsx("div",{className:"flex gap-1",children:vd.slice(0,4).map(({emoji:V})=>{var W;return a.jsx("button",{onClick:()=>d(V),className:`text-xl p-1 rounded transition-all hover:scale-110 ${c===V?"bg-amber-200 dark:bg-slate-700 shadow-sm":"hover:bg-amber-100 dark:hover:bg-slate-800"}`,title:(W=vd.find(Z=>Z.emoji===V))==null?void 0:W.label,children:V},V)})})]}),a.jsx("div",{className:"mt-3 p-3 rounded-lg border-2 border-dashed shadow-sm",style:{backgroundColor:`${zr(R.category)}15`,borderColor:`${zr(R.category)}40`},children:a.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[a.jsx("span",{className:"text-base mt-1",style:{color:zr(R.category)},children:pd(R.category)}),a.jsx("span",{className:"leading-relaxed font-medium",style:{color:zr(R.category)},children:R.advice})]})})]}),a.jsxs("div",{className:"diary-content",children:[a.jsx("textarea",{value:o,onChange:V=>{const W=V.target.value;console.log("üìù Content Î≥ÄÍ≤Ω:",{Í∏∏Ïù¥:W.length,trimÍ∏∏Ïù¥:W.trim().length,ÎÇ¥Ïö©:W}),l(W)},placeholder:"Ïò§Îäò ÌïòÎ£®Îäî Ïñ¥Îï†ÎÇòÏöî? ÎßàÏùåÏÜç Ïù¥ÏïºÍ∏∞Î•º ÏûêÏú†Î°≠Í≤å Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî...",className:"w-full h-64 p-0 border-none bg-transparent resize-none focus:outline-none text-gray-700 dark:text-gray-300 placeholder-amber-400 dark:placeholder-gray-500 leading-relaxed",style:{fontFamily:"Georgia, serif",fontSize:"14px",lineHeight:"24px",background:`repeating-linear-gradient(
                        transparent,
                        transparent 23px,
                        rgba(251, 191, 36, 0.2) 23px,
                        rgba(251, 191, 36, 0.2) 24px
                      )`}}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 
                                       bg-slate-100 dark:bg-slate-700 
                                       hover:bg-slate-200 dark:hover:bg-slate-600 
                                       rounded-lg cursor-pointer transition-colors w-fit
                                       ${M?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(v2,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:M?"ÏïïÏ∂ï Ï§ë...":"ÏÇ¨ÏßÑ Ï∂îÍ∞Ä"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:z,disabled:M})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÏµúÎåÄ 3Ïû• ‚Ä¢ ÏûêÎèô WebP ÏïïÏ∂ï ‚Ä¢ 50MB Ïù¥Ìïò"})]}),C.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:C.map((V,W)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:V,className:"w-full h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",alt:`ÏóÖÎ°úÎìúÎêú Ïù¥ÎØ∏ÏßÄ ${W+1}`,onClick:()=>{T(W),_(!0)}}),a.jsx("button",{onClick:()=>J(W),className:`absolute top-1 right-1 
                                         bg-red-500 hover:bg-red-600 text-white 
                                         rounded-full w-5 h-5 flex items-center justify-center
                                         opacity-0 group-hover:opacity-100 
                                         transition-opacity text-xs font-bold`,children:a.jsx(pm,{className:"w-3 h-3"})})]},W))}),M&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-500"}),a.jsx("span",{children:"Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ï§ë..."})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{children:[j,"Ïûê"]}),b&&a.jsx("span",{className:"text-blue-500 animate-pulse",children:"ÏûêÎèô Ï†ÄÏû• Ï§ë..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-500",children:"‚ú®"}),a.jsx("span",{children:"ÏùºÍ∏∞Ïû•"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-amber-200 dark:border-slate-700",children:[a.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 text-amber-700 dark:text-gray-300 hover:bg-amber-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-lg",children:"‚óÄ"}),a.jsx("span",{className:"text-sm font-medium",children:"Ïñ¥Ï†ú"})]}),a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[!Bs(r)&&a.jsx("button",{onClick:()=>i(new Date),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium transition-colors",children:"Ïò§Îäò"}),a.jsx("div",{className:"text-xs text-amber-600 dark:text-gray-500",children:"Ctrl + ‚Üê ‚Üí Î°ú ÌéòÏù¥ÏßÄ Ïù¥Îèô"})]}),a.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 text-amber-700 dark:text-gray-300 hover:bg-amber-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[a.jsx("span",{className:"text-sm font-medium",children:"ÎÇ¥Ïùº"}),a.jsx("span",{className:"text-lg",children:"‚ñ∂"})]})]}),a.jsx("div",{className:"flex justify-end items-center mt-4",children:a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:()=>{console.log("üíæ Ï†ÄÏû• Î≤ÑÌäº ÌÅ¥Î¶≠:",{contentÍ∏∏Ïù¥:o.length,trimÍ∏∏Ïù¥:o.trim().length,isLoading:h,Ï°∞Í±¥:o.trim()&&!h}),L()},disabled:!o.trim()||h,className:`
                  px-6 py-2 rounded-lg font-medium transition-colors
                  ${o.trim()&&!h?"bg-amber-500 hover:bg-amber-600 text-white shadow-sm":"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed"}
                `,children:h?"Ï†ÄÏû• Ï§ë...":`Ï†ÄÏû•ÌïòÍ∏∞ ${o.length>0?`(${o.length}Ïûê)`:""}`})})})]})]}),a.jsx(B2,{images:C,currentIndex:E,isOpen:k,onClose:()=>_(!1)})]}):null}function Ll({isOpen:t,onClose:e,todo:s}){const{updateTodo:n}=lt(),[r,i]=v.useState(""),[o,l]=v.useState("medium"),[c,d]=v.useState(!1),[h,m]=v.useState("");v.useEffect(()=>{s&&(i(s.text),l(s.priority),d(s.hasTime||!1),m(s.startTime||""))},[s]);const u=g=>{g.preventDefault(),!(!s||!r.trim())&&(n(s.id,{text:r.trim(),priority:o,hasTime:c,startTime:c?h:void 0}),e())};return!t||!s?null:a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ìï†Ïùº ÏàòÏ†ï"}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ìï†Ïùº ÎÇ¥Ïö©"}),a.jsx("input",{type:"text",value:r,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700",placeholder:"Ìï†ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ïö∞ÏÑ†ÏàúÏúÑ"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>l("high"),className:`flex-1 py-2 px-3 rounded-md ${o==="high"?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"üî¥ ÎÜíÏùå"}),a.jsx("button",{type:"button",onClick:()=>l("medium"),className:`flex-1 py-2 px-3 rounded-md ${o==="medium"?"bg-yellow-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"üü° Î≥¥ÌÜµ"}),a.jsx("button",{type:"button",onClick:()=>l("low"),className:`flex-1 py-2 px-3 rounded-md ${o==="low"?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"üü¢ ÎÇÆÏùå"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:g=>d(g.target.checked),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"ÏãúÍ∞Ñ ÏßÄÏ†ï"})]}),c&&a.jsx("input",{type:"time",value:h,onChange:g=>m(g.target.value),className:"mt-2 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"ÏàòÏ†ï"}),a.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2 px-4 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Ï∑®ÏÜå"})]})]})]})]})})}function $2({pattern:t="clouds",opacity:e=.1,className:s=""}){const n={clouds:"M10,20 Q15,10 20,20 Q25,10 30,20 Q35,10 40,20",waves:"M0,15 Q5,5 10,15 Q15,25 20,15 Q25,5 30,15 Q35,25 40,15",mountains:"M0,25 L5,15 L10,20 L15,10 L20,20 L25,15 L30,25 L35,10 L40,25",bamboo:"M10,5 L10,25 M15,8 L15,25 M20,5 L20,25"};return a.jsx("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${s}`,children:a.jsxs("svg",{className:"w-full h-full",style:{opacity:e},viewBox:"0 0 40 30",preserveAspectRatio:"xMidYMid slice",children:[a.jsx("defs",{children:a.jsx("pattern",{id:t,x:"0",y:"0",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:n[t],fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"text-gray-400 dark:text-gray-600"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:`url(#${t})`})]})})}var se={KOREAN_LUNAR_MIN_VALUE:10000101,KOREAN_LUNAR_MAX_VALUE:20501118,KOREAN_SOLAR_MIN_VALUE:10000213,KOREAN_SOLAR_MAX_VALUE:20501231,KOREAN_LUNAR_BASE_YEAR:1e3,SOLAR_LUNAR_DAY_DIFF:43,LUNAR_SMALL_MONTH_DAY:29,LUNAR_BIG_MONTH_DAY:30,SOLAR_SMALL_YEAR_DAY:365,SOLAR_BIG_YEAR_DAY:366,SOLAR_DAYS:[31,28,31,30,31,30,31,31,30,31,30,31,29],KOREAN_CHEONGAN:[44049,51012,48337,51221,47924,44592,44221,49888,51076,44228].map(function(t){return String.fromCharCode(t)}),KOREAN_GANJI:[51088,52629,51064,47896,51652,49324,50724,48120,49888,50976,49696,54644].map(function(t){return String.fromCharCode(t)}),KOREAN_GAPJA_UNIT:[45380,50900,51068].map(function(t){return String.fromCharCode(t)}),CHINESE_CHEONGAN:[30002,20057,19993,19969,25098,24049,24218,36763,22764,30328].map(function(t){return String.fromCharCode(t)}),CHINESE_GANJI:[23376,19985,23493,21359,36784,24051,21320,26410,30003,37193,25100,20133].map(function(t){return String.fromCharCode(t)}),CHINESE_GAPJA_UNIT:[24180,26376,26085].map(function(t){return String.fromCharCode(t)}),INTERCALATION_STR:[50980,38287].map(function(t){return String.fromCharCode(t)}),KOREAN_LUNAR_DATA:[2194016855,2197734699,2193886506,2194017621,3271595437,2193884522,2194016621,2197837021,3267626157,2193885773,2197827149,2193885990,3271600982,2194016981,2193883994,2197842298,3267758427,2193884315,2197834395,2193885771,3271674533,2193884842,2194016981,2197852893,3267625653,2194016599,2197705902,2194017431,3267626571,2197759306,2194017705,2197857974,3267757677,2193883758,2197907758,2193885486,3267628182,2197835157,2193886538,2197867881,3267627864,2194148715,2197918315,2193883741,3267627307,2197838507,2193885845,2193886026,3271696043,2193883861,2197927258,2194015419,3267625563,2197845303,2193884459,2193884821,3271571285,2193884842,2198063797,2193883765,3267626166,2197850718,2193885782,2193886502,3271581350,2194017621,2193884586,2197822826,3267758445,2197861551,2193884317,2193885773,3271589165,2193885862,2194017109,2197833173,3267625818,2194016605,2197885299,2193884251,3271596623,2193884747,2193885861,2197842793,3267757749,2193883866,2197826230,2194016567,3271476375,2194017431,2193884747,2197718698,3267759525,2193884596,2198030957,2193883822,3267628641,2197826862,2193886358,2197855565,2193886538,2194017637,2197906837,2194015581,3267625581,2197826141,2193885483,2197858967,3267627669,2193886026,2197850970,2194016981,3267757403,2197832375,2193884247,2193884459,3271564587,2193884821,2197853997,2193884586,3267758773,2197837037,2193884342,2194016855,3271504974,2193886502,2197929618,2194017621,3267626410,2197850554,2194016621,2193884334,3271576221,2193885773,2193886501,2197827365,3267627860,2198056297,2193883866,2194016605,3271648411,2193884315,2193885771,2197834571,3267626661,2197863251,2193884852,2194016950,3271657814,2194016663,2193884311,2197833367,3267626315,2197735077,2194017701,2193884588,3271797429,2193883758,2193885486,2197843118,3267628182,2193886538,2197827402,2194017621,3271603563,2194015579,2193883741,2197846333,3267627303,2193885845,2197904661,2193886026,3267758933,2197885653,2194015451,2197721694,3267758679,2193884459,2197842603,2193884821,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714222,2193886502,3267759763,2197837525,2193884586,2194016693,3271566701,2193884334,2197924429,2193885773,3267628326,2197843301,2193886034,2194017642,3271567066,2194016605,2197931165,2193884315,3267627595,2197850795,2193884837,2193886036,3271576500,2194016950,2194016603,2197824823,3267626135,2197853775,2193884491,2193884837,3271653061,2193884588,2194016950,2197895278,3267627310,2197867671,2193886358,2193886538,3271593386,2194017109,2193884522,2197969627,3267625565,2193885486,2197826859,2193885845,3271597389,2193885994,2194017109,2197845365,3267626202,2194016859,2197833047,2193884459,3271674515,2193884819,2193884842,2197850842,3267758821,2193884342,2197834414,2194016855,3267626279,2197759270,2194017875,2197857995,3267626410,2194015661,2197906605,2193884334,3267627598,2197835085,2193886502,2197863763,3267627858,2194017130,2197919082,2194015575,3267626141,2197903899,2193885771,2193885861,3271564965,2193886034,2197863258,2194016950,3267758427,2197841079,2193884311,2193884747,3271571275,2193884837,2197862067,2193884588,3267758774,2197914285,2193884318,2193885773,3271581003,2193885989,2193886034,2197892690,3267758938,2197858654,2194016603,2193884315,3271584343,2193885771,2193885861,2197834661,3267626708,2197867222,2194016950,2194016567,2197849247,2193884311,2193884747,2197706442,3267759525,2193884586,2197822828,2194016878,3271604527,2193885486,2193886358,2197847381,3267628362,2194017621,2197894485,2193884522,3267758701,2197822045,2193885483,2197850715,3267627669,2193885994,2197904170,2194016981,3267626202,2197822650,2194016855,2197853487,3267626279,2193884819,2197845683,2193884842,3267758773,2197828981,2193884342,2197867111,3267627566,2193886486,2197851798,2193886538,3267759530,2197837290,2194015597,2193884334,3271632989,2193885741,2197859607,2193885861,3267627858,2197847412,2194016986,2194015581,3271570747,2193884251,2193885739,2197887531,3267627685,2197855061,2193884850,2194016982,3271644470,2194016567,2193884247,2197830231,3267626283,2197727910,2194017685,2193884586,3271654060,2194016878,2193884462,2197830830,3267627606,2197863723,2193886506,2194017621,3271595437,2193884522,2194016877,2197837149,3267626283,2193885837,2197827157,2193885994,3271600982,2194016981,2193884378,2197842554,3267758679,2193884443,2197899799,2193884755,3271673513,2193884586,2194016949,2197852861,3267625654,2194016823,2197706030,2193886486,2194017867,2197698386,2194017706,2197927348,3267757421,2193883822,2197846589,2193885741,3267628309,2197835157,2193886034,2197867369,3267758810,2194015581,2197918299,2193884251,3267627563,2197838507,2193885845,2193886034,3271564970,2194016950,2197865819,2194015415,3267626071,2197845303,2193884459,2193884821,3271640725,2193884586,2197867189,2194016878,3267626158,2197850718,2193885782,2193886506,3271585450,2194017621,2193884522,2197891418,3267758429,2197861551,2193884315,2193885773,3271589165,2193885994,2194017109,2197833173,3267625690,2194016603,2197885271,2193884315,3271596623,2193884747,2193884841,2197842666,3267757749,2193883830,2197826222,2194016567,3271537814,2193886358,2194017867,2197714610,3267759530,2194015661,2197828461,2193883758,3267627310,2197826861,2193886357,2197855565,3267627850,2194017129,2197906778,2194015579,3267625565,2197826139,2193885483,2197858967,3267626645,2193885002,2197850970,2194016950,3267757371,2197832375,2193883735,2193884459,3271564587,2193884821,2197853869,2193884586,3267758773,2197837037,2193884334,2194016855,3271504974,2193886506,2197929364,2194017109,2193884522,2197846394,2194016605,2193884334,3271576219,2193885773,2193886501,2197887658,3267758933,2197853549,2193883866,2194016603,3271578807,2193884311,2193885771,2197834571,3267626665,2197867221,2194015669,2193883830,3271592286,2194016559,2193884311,2197702294,3267628362,2197868197,2194017641,2194015597,3271664309,2193883758,2193885486,2197843117,3267628181,2193886538,2197827402,2194017113,3271607661,2194015579,2193883741,2197846331,3267627307,2193885845,2197904149,2193884874,3267758805,2197885622,2194015419,2197852767,3267625559,2193884459,2197711530,2194017941,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714221,2193886502,3267759509,2197837269,2193884522,2194016621,3271566685,2193884334,2197858895,2193885773,3267628325,2197843305,2194017109,2193883994,3271568058,2194016603,2197931163,2193884311,3267627595,2197850923,2193884837,2193884884,3271772853,2193883830,2194016567,2197824815,3267626135,2197722702,2193886538,2194017957,3271648937,2194015597,2193883830,2197895262,3267627310,2197863575,2193885845,2193886538,3271593386,2194017101,2194015595,2197832411,3267625565,2193885485,2197826859,2193885845,3271596877,2193884842,2194016981,2197841269,3267757243,2193883739,2197894231,2193884459,3271539348,2194017941,2193884842,2197850842,3267758517,2193884342,2197834414,2194016847,3267495206,2197892390,2194017621,2197923241,3267626346,2194016621,2197906589,2193884318,3267627597,2197835085,2193886501,2197863763,3267627860,2194017114,2197915994,2194016603,3267626139,2197834391,2193885771,2193885861,3271564965,2193884884,2197994203,2193883830,3267758391,2197841071,2193884311,2193884747,3271440202,2194017701,2197862069,2194015597,3267625646,2197846334,2193885486,2193886358,3271646485,2193886538,2194017701,2197894485,3267626346,2197846650,2194016861,2193885485,3271584427,2193885845,2193886026,2197834666,3267758805,2193884506,2197891258,2194016859,3271587127,2193884459,2193884819,2197903125,3267626666,2194016981,2197829045,2193884342,3271592542,2193885774,2193886502,2197843622,3267628370,2194017706,2197898858,2194015597,3267626158,2197830301,2193885773,2197847339,3267627813,2193886546,2197904724,2194017114,3267757405,2197828955,2193884315,2197845591,2193885771,2193885861,2197842789,2193884882,3267758810,2197833142,2194016567,2193884311,3271571095,2193884749,2197714602,2194017701,3267626410,2197838572,2194016942,2193885486,3271572782,2193886358,2197916997,2193886538,3267759445,2197906837,2193884522,2194016877,3271574877,2193884461,2193885845,2197896341,3267627850,2197912394,2194016981,2193884506,3271645754,2194016859,2193884459,2197899799,3267626643,2197853867,2193884842,2194016949,3271582965,2193884342,2194016855,2197701934,3267628310,2194017939,2197698386,2194017706,3271652778,2194015597,2193884334,2197903901,3267627565,2193886485,2197835173,2193886034,3271597418,2194016986,2194015581,2197906075,3267626075,2193885739,2197838635,2193885845,3267627858,2197891762,2194016982,2197910870,3267757367,2193884247,2197837399,2193884459,3267626645,2197829525,2193884586,2197858998,3267758701,2193884334,2197842542,2193885782,3267628330,2197839530,2194017621,2193884586,3271572330,2194016877,2197845181,2193884331,3267627661,2197839189,2193885994,2194017109,3271574997,2193884378,2194016605,2197824855,3267626139,2197842583,2193884747,2193884841,2197834666,2194015925,2193883834,2197826230,3267758391,2197710126,2193886486,2194017867,3271448274,2194017705,2194015669,2197828461,3267625646,2193885742,2197827117,2193886357,3271585109,2193886034,2194017129,2197833178,3267757405,2193883741,2197830235,2193885739,3271654027,2193885845,2193886026,2197904170,3267758805,2194015579,2197832375,2193883735,3271595311,2193884459,2193884821,2197841621,3267626410,2194016949,2197833069,2193884334,3267758679,2197763158,2193886506,2197913226,3267759445,2193884586,2197838554,2194016605,3267626158,2197834411,2193885773,2197851435,3267627817,2194017109,2197845365,2193883866,3267758429,2197837015,2193884315,2193885771,3271637579,2193884841,2197850841,2194015925,3267625654,2197903670,2194016567,2193884311,3271444118,2193886794,2197860006,2194017705,3267757485,2197906093,2193883822,2193885486,3271580845,2193886357,2193886538,2197896522,3267758953,2197845370,2194015579,2193883741,3271579995,2193885483,2193885845,2197835157,3267627850,2194017109,2197825237,2194015579,3271582327,2193883735,2193884459,2197707434,3267759765,2193884842,2197830570,2194016949,2197849277,2193884334,2194016855,2197706061,3267628326,2194017685,2197898837,2193884522,3267758509,2197824861,2193884334,2197842523,3267627597,2193886501,2197839273,2194017109,3267626346,2197826266,2194016605,2197845179,3267626139,2193885771,2197838667,2193884841,3267627732,2197965749,2193883830,2194016603,3271566647,2193884311,2197710422,2193886794,3267759781,2197903017,2194015669,2193883830,3271637166,2193885486,2197912717,2193886357,3267628362,2197908874,2194017129,2194015597,3271639643,2193883741,2193885485,2197826859,3267627669,2197847381,2193886026,2194017109,3271644501,2194015451,2193883739,2197895255,3267626283,2197850779,2193884821,2193884842,3271584490,2194016949,2193884342,2197834414,3267758679,2193884455,2197698342,2194017685,3271587509,2193884522,2194016685,2197837021,3267626158,2193885774,2197835085,2193886501,3271593305,2193886036,2194017642,2197907802,3267758427,2193884315,2197834395,2193885771,3271600935,2193884837,2193884884,2197973877,3267625654,2194016603,2197836983,2193884311,3267626571,2197698378,2194017957,2197849817,3267757485,2193883830,2197838190,2193885486,3267628182,2197835413,2193886538,2194017701,3271567189,2193884524,2197977787,2193883741,3267627309,2197839019,2193885845,2193886026,3271637834,2194017109,2197853533,2193884346,3267758683,2197837143,2193884459,2193885845,3271576469,2193884842,2194016981,2197825205,3267626166,2197842542,2194016855,2193884455,3271448230,2194017683,2193884586,2197830506,3267758445,2197861551,2193884334,2193885773,3271650573,2193886501,2193886546,2197839316,3267758954,2194016621,2197824859,2193884315,3271588439,2193885771,2193885989,2197904165,3267626708,2194016986,2197895350]},bm=function(){function t(){this.solarCalendar={year:0,month:0,day:0},this.lunarCalendar={year:0,month:0,day:0,intercalation:!1},this.gapjaYearInx=[0,0,0],this.gapjaMonthInx=[0,0,1],this.gapjaDayInx=[0,0,2]}return t.prototype.getLunarData=function(e){return se.KOREAN_LUNAR_DATA[e-se.KOREAN_LUNAR_BASE_YEAR]},t.prototype.getLunarIntercalationMonth=function(e){return e>>12&15},t.prototype.getLunarDays=function(e){var s=this.getLunarData(e);return s>>17&511},t.prototype.getLunarDays2=function(e,s,n){var r=0,i=this.getLunarData(e);return n&&this.getLunarIntercalationMonth(i)==s?r=(i>>16&1)>0?se.LUNAR_BIG_MONTH_DAY:se.LUNAR_SMALL_MONTH_DAY:r=(i>>12-s&1)>0?se.LUNAR_BIG_MONTH_DAY:se.LUNAR_SMALL_MONTH_DAY,r},t.prototype.getLunarDaysBeforeBaseYear=function(e){for(var s=0,n=se.KOREAN_LUNAR_BASE_YEAR;n<e+1;n++)s+=this.getLunarDays(n);return s},t.prototype.getLunarDaysBeforeBaseMonth=function(e,s,n){var r=0;if(e>=se.KOREAN_LUNAR_BASE_YEAR&&s>0){for(var i=1;i<s+1;i++)r+=this.getLunarDays2(e,i,!1);if(n){var o=this.getLunarIntercalationMonth(this.getLunarData(e));o>0&&o<s+1&&(r+=this.getLunarDays2(e,o,!0))}}return r},t.prototype.getLunarAbsDays=function(e,s,n,r){var i=0;return i=this.getLunarDaysBeforeBaseYear(e-1)+this.getLunarDaysBeforeBaseMonth(e,s-1,!0)+n,r&&this.getLunarIntercalationMonth(this.getLunarData(e))==s&&(i+=this.getLunarDays2(e,s,!1)),i},t.prototype.isSolarIntercalationYear=function(e){return(e>>30&1)>0},t.prototype.getSolarDays=function(e){var s=0,n=this.getLunarData(e);return s=this.isSolarIntercalationYear(n)?se.SOLAR_BIG_YEAR_DAY:se.SOLAR_SMALL_YEAR_DAY,s},t.prototype.getSolarDays2=function(e,s){var n=0,r=this.getLunarData(e);return s==2&&this.isSolarIntercalationYear(r)?n=se.SOLAR_DAYS[12]:n=se.SOLAR_DAYS[s-1],n},t.prototype.getSolarDayBeforeBaseYear=function(e){for(var s=0,n=se.KOREAN_LUNAR_BASE_YEAR;n<e+1;n++)s+=this.getSolarDays(n);return s},t.prototype.getSolarDaysBeforeBaseMonth=function(e,s){for(var n=0,r=1;r<s+1;r++)n+=this.getSolarDays2(e,r);return n},t.prototype.getSolarAbsDays=function(e,s,n){var r=0;return r=this.getSolarDayBeforeBaseYear(e-1)+this.getSolarDaysBeforeBaseMonth(e,s-1)+n,r-=se.SOLAR_LUNAR_DAY_DIFF,r},t.prototype.setSolarDateByLunarDate=function(e,s,n,r){var i=this.getLunarAbsDays(e,s,n,r),o=0,l=0,c=0;o=i<this.getSolarAbsDays(e+1,1,1)?e:e+1;for(var d=12;d>0;d--){var h=this.getSolarAbsDays(o,d,1);if(i>=h){l=d,c=i-h+1;break}}this.solarCalendar={year:o,month:l,day:c}},t.prototype.setLunarDateBySolarDate=function(e,s,n){var r=this.getSolarAbsDays(e,s,n),i=0,o=0,l=0,c=!1;i=r>=this.getLunarAbsDays(e,1,1,!1)?e:e-1;for(var d=12;d>0;d--){var h=this.getLunarAbsDays(i,d,1,!1);if(r>=h){o=d,this.getLunarIntercalationMonth(this.getLunarData(i))==d&&(c=r>=this.getLunarAbsDays(i,d,1,!0)),l=r-this.getLunarAbsDays(i,o,1,c)+1;break}}this.lunarCalendar={year:i,month:o,day:l,intercalation:c}},t.prototype.checkValidDate=function(e,s,n,r,i){var o=!1,l=n*1e4+r*100+i;if((e?se.KOREAN_LUNAR_MIN_VALUE:se.KOREAN_SOLAR_MIN_VALUE)<=l&&(e?se.KOREAN_LUNAR_MAX_VALUE:se.KOREAN_SOLAR_MAX_VALUE)>=l&&r>0&&r<13&&i>0){var c=e?this.getLunarDays2(n,r,s):this.getSolarDays2(n,r);if(!e&&n==1582&&r==10){if(i>4&&i<15)return!1;c+=10}i<=c&&(o=!0)}return o},t.prototype.setLunarDate=function(e,s,n,r){var i=!1;return this.checkValidDate(!0,r,e,s,n)&&(this.lunarCalendar={year:e,month:s,day:n,intercalation:r&&this.getLunarIntercalationMonth(this.getLunarData(e))==s},this.setSolarDateByLunarDate(e,s,n,r),i=!0),i},t.prototype.setSolarDate=function(e,s,n){var r=!1;return this.checkValidDate(!1,!1,e,s,n)&&(this.solarCalendar={year:e,month:s,day:n},this.setLunarDateBySolarDate(e,s,n),r=!0),r},t.prototype.setGapJa=function(){var e=this.getLunarAbsDays(this.lunarCalendar.year,this.lunarCalendar.month,this.lunarCalendar.day,!!this.lunarCalendar.intercalation);if(e>0){this.gapjaYearInx[0]=(this.lunarCalendar.year+6-se.KOREAN_LUNAR_BASE_YEAR)%se.KOREAN_CHEONGAN.length,this.gapjaYearInx[1]=(this.lunarCalendar.year+0-se.KOREAN_LUNAR_BASE_YEAR)%se.KOREAN_GANJI.length;var s=this.lunarCalendar.month;s+=12*(this.lunarCalendar.year-se.KOREAN_LUNAR_BASE_YEAR),this.gapjaMonthInx[0]=(s+3)%se.KOREAN_CHEONGAN.length,this.gapjaMonthInx[1]=(s+1)%se.KOREAN_GANJI.length,this.gapjaDayInx[0]=(e+4)%se.KOREAN_CHEONGAN.length,this.gapjaDayInx[1]=(e+2)%se.KOREAN_GANJI.length}},t.prototype.getGapJaIndex=function(){return this.setGapJa(),{cheongan:{year:this.gapjaYearInx[0],month:this.gapjaMonthInx[0],day:this.gapjaDayInx[0]},ganji:{year:this.gapjaYearInx[1],month:this.gapjaMonthInx[1],day:this.gapjaDayInx[1]}}},t.prototype.getGapja=function(e){var s=this.getGapJaIndex(),n=e?se.CHINESE_CHEONGAN:se.KOREAN_CHEONGAN,r=e?se.CHINESE_GANJI:se.KOREAN_GANJI,i=e?se.CHINESE_GAPJA_UNIT:se.KOREAN_GAPJA_UNIT,o=e?"".concat(se.INTERCALATION_STR[1]).concat(se.CHINESE_GAPJA_UNIT[1]):"".concat(se.INTERCALATION_STR[0]).concat(se.KOREAN_GAPJA_UNIT[1]);return{year:"".concat(n[s.cheongan.year]).concat(r[s.ganji.year]).concat(i[this.gapjaYearInx[2]]),month:"".concat(n[s.cheongan.month]).concat(r[s.ganji.month]).concat(i[this.gapjaMonthInx[2]]),day:"".concat(n[s.cheongan.day]).concat(r[s.ganji.day]).concat(i[this.gapjaDayInx[2]]),intercalation:this.lunarCalendar.intercalation?o:""}},t.prototype.getKoreanGapja=function(){return this.getGapja()},t.prototype.getChineseGapja=function(){return this.getGapja(!0)},t.prototype.getLunarCalendar=function(){return this.lunarCalendar},t.prototype.getSolarCalendar=function(){return this.solarCalendar},t}();const ym=t=>{var e;try{const s=new bm;s.setSolarDate(t.getFullYear(),t.getMonth()+1,t.getDate());const n=s.getLunarYear();return{year:typeof n=="object"&&(n==null?void 0:n.year)||t.getFullYear(),month:typeof n=="object"&&(n==null?void 0:n.month)||t.getMonth()+1,day:typeof n=="object"&&(n==null?void 0:n.day)||t.getDate(),isLeapMonth:typeof n=="object"&&(n==null?void 0:n.leapMonth)||!1,zodiac:typeof n=="object"&&(n==null?void 0:n.zodiac)||"",chineseYear:typeof n=="object"&&((e=n==null?void 0:n.GanJi)==null?void 0:e.year)||""}}catch(s){return console.error("Error converting solar to lunar:",s),{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),isLeapMonth:!1,zodiac:"",chineseYear:""}}},V2=(t,e,s,n=!1)=>{try{const r=new bm;r.setLunarDate(t,e,s,n);const i=r.getSolarYear();return new Date(typeof i=="object"&&(i==null?void 0:i.year)||t,(typeof i=="object"&&(i==null?void 0:i.month)||e)-1,typeof i=="object"&&(i==null?void 0:i.day)||s)}catch(r){return console.error("Error converting lunar to solar:",r),new Date(t,e-1,s)}},H2=(t,e=!1)=>{const s=ym(t);return e?`Ïùå ${s.year}.${s.month}.${s.day}${s.isLeapMonth?"(Ïú§)":""}`:`Ïùå ${s.month}.${s.day}${s.isLeapMonth?"(Ïú§)":""}`},z2={ÏûÖÏ∂ò:{month:2,day:4},Ïö∞Ïàò:{month:2,day:19},Í≤ΩÏπ©:{month:3,day:6},Ï∂òÎ∂Ñ:{month:3,day:21},Ï≤≠Î™Ö:{month:4,day:5},Í≥°Ïö∞:{month:4,day:20},ÏûÖÌïò:{month:5,day:6},ÏÜåÎßå:{month:5,day:21},ÎßùÏ¢Ö:{month:6,day:6},ÌïòÏßÄ:{month:6,day:21},ÏÜåÏÑú:{month:7,day:7},ÎåÄÏÑú:{month:7,day:23},ÏûÖÏ∂î:{month:8,day:8},Ï≤òÏÑú:{month:8,day:23},Î∞±Î°ú:{month:9,day:8},Ï∂îÎ∂Ñ:{month:9,day:23},ÌïúÎ°ú:{month:10,day:8},ÏÉÅÍ∞ï:{month:10,day:23},ÏûÖÎèô:{month:11,day:8},ÏÜåÏÑ§:{month:11,day:22},ÎåÄÏÑ§:{month:12,day:7},ÎèôÏßÄ:{month:12,day:22},ÏÜåÌïú:{month:1,day:6},ÎåÄÌïú:{month:1,day:20}},U2=t=>{const e=t.getMonth()+1,s=t.getDate();for(const[n,r]of Object.entries(z2))if(r.month===e&&Math.abs(r.day-s)<=2)return n;return null},jd=t=>{const e=U2(t);if(e)return e;const s=ym(t);return s.month===1&&s.day===1?"ÏÑ§ÎÇ†":s.month===1&&s.day===15?"Ï†ïÏõîÎåÄÎ≥¥Î¶Ñ":s.month===5&&s.day===5?"Îã®Ïò§":s.month===7&&s.day===7?"Ïπ†ÏÑù":s.month===7&&s.day===15?"Î∞±Ï§ë":s.month===8&&s.day===15?"Ï∂îÏÑù":s.month===9&&s.day===9?"Ï§ëÏñëÏ†à":null},W2=["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"];function wd({events:t,onCreateEvent:e,onDateClick:s,onEditEvent:n,onDeleteEvent:r,highlightedEventId:i}){const{currentDate:o,getTodosForDate:l,deleteTodo:c}=lt(),[d,h]=v.useState(null),[m,u]=v.useState(!1),[g,f]=v.useState(new Date),[x,b]=v.useState(null),{diaryDates:y}=Rl({viewMode:"month",currentDate:o}),j=v.useMemo(()=>{const _=Qn(o),E=Zn(o),T=kr(_,{weekStartsOn:0}),R=Nr(E,{weekStartsOn:0});return Sr({start:T,end:R})},[o]),S=_=>t.filter(E=>{const T=new Date(E.start_time);return It(T,_)}).slice(0,3),C=v.useMemo(()=>{const _=new Map;return j.forEach(E=>{const T=B(E,"yyyy-MM-dd");_.set(T,l(E))}),_},[j,l]),w=_=>{switch(_){case"high":return"üî¥";case"medium":return"üü°";case"low":return"üü¢";default:return"‚ö™"}},M=(_,E)=>{s?s(_,E):e(_)},N=(_,E)=>{E.stopPropagation(),n(_)},k=_=>{f(_),u(!0)};return a.jsxs("div",{className:"h-full flex flex-col bg-background",children:[a.jsxs("div",{className:"relative grid grid-cols-7 border-b border-border bg-gradient-to-r from-hanbok-white via-white to-hanbok-white",children:[a.jsx($2,{pattern:"clouds",opacity:.05}),W2.map((_,E)=>a.jsxs("div",{className:`
              relative px-2 py-4 text-center font-bold tracking-wider
              ${E===0?"text-hanbok-red":E===6?"text-hanbok-blue":"text-gray-700 dark:text-gray-300"}
              ${E===0||E===6?"text-base":"text-sm"}
              transition-colors duration-200 hover:bg-white/50
            `,children:[a.jsx("span",{className:"relative z-10",children:_}),(E===0||E===6)&&a.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-current opacity-30 rounded"})]},_))]}),a.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-6 gap-px bg-border",children:j.map(_=>{const E=np(_),T=rp(_,o),R=Bs(_),P=S(_),O=B(_,"yyyy-MM-dd"),D=C.get(O)||[],F=D.filter(I=>!I.completed),L=D.filter(I=>I.completed);return a.jsxs("div",{onClick:I=>M(_,I),onMouseEnter:()=>h(_),onMouseLeave:()=>h(null),className:`
                relative p-2 cursor-pointer transition-all duration-200 group
                bg-background hover:bg-gradient-to-br hover:from-hanbok-white hover:to-white
                ${T?"":"bg-muted/30"}
                ${R?"bg-gradient-to-br from-hanbok-yellow/20 to-yinyang-yang/10 shadow-inner border-2 border-yinyang-yang/30":""}
                ${E===0?"hover:from-hanbok-red/5 hover:to-red-50":""}
                ${E===6?"hover:from-hanbok-blue/5 hover:to-blue-50":""}
                min-h-[120px] border border-gray-100 dark:border-gray-800
              `,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:`
                        font-bold transition-all duration-200
                        ${R?"bg-gradient-to-br from-yinyang-yang to-hanbok-yellow text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg text-sm":"text-base"}
                        ${T?"":"text-muted-foreground opacity-50"}
                        ${E===0?"text-hanbok-red":""}
                        ${E===6?"text-hanbok-blue":""}
                        group-hover:scale-110
                      `,children:B(_,"d")}),R&&a.jsx("span",{className:"text-xs animate-pulse",children:"‚ú®"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-medium",children:["Ïùå ",H2(_,!1)]}),jd(_)&&a.jsx("span",{className:"text-[9px] text-hanbok-red font-bold bg-hanbok-red/10 px-1 py-0.5 rounded mt-0.5 truncate",children:jd(_)})]})]}),T&&a.jsxs("div",{className:"flex items-center gap-1",children:[y.has(B(_,"yyyy-MM-dd"))&&a.jsx("button",{onClick:I=>{I.stopPropagation(),k(_)},className:"p-1 rounded text-xs transition-all hover:scale-110 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",title:"ÏùºÍ∏∞ Î≥¥Í∏∞/ÏàòÏ†ï",children:"üìñ"}),D.length>0&&a.jsxs(a.Fragment,{children:[F.filter(I=>I.priority==="high").length>0&&a.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:F.filter(I=>I.priority==="high").length}),F.filter(I=>I.priority==="medium").length>0&&a.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-yellow-500 rounded-full",children:F.filter(I=>I.priority==="medium").length}),F.filter(I=>I.priority==="low").length>0&&a.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-green-500 rounded-full",children:F.filter(I=>I.priority==="low").length}),L.length>0&&a.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold text-gray-500 bg-gray-200 rounded-full",children:"‚úì"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[P.map(I=>a.jsxs("div",{className:`text-xs p-1 rounded cursor-pointer hover:opacity-80 group flex items-center ${i===I.id?"ring-2 ring-primary animate-pulse":""}`,style:{backgroundColor:`${I.color||"#3b82f6"}20`,color:I.color||"#3b82f6",borderLeft:`2px solid ${I.color||"#3b82f6"}`},onClick:H=>N(I,H),children:[a.jsxs("span",{className:"flex-1 truncate",children:[I.all_day&&a.jsx("span",{className:"font-semibold",children:"Ï¢ÖÏùº "}),!I.all_day&&B(new Date(I.start_time),"HH:mm")," ",I.title]}),r&&a.jsx("button",{onClick:H=>{H.stopPropagation(),confirm(`"${I.title}" ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&(r==null||r(I.id))},className:"opacity-50 hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity ml-1 text-lg font-bold",title:"ÏùºÏ†ï ÏÇ≠Ï†ú",children:"√ó"})]},I.id)),t.filter(I=>I.id&&It(new Date(I.start_time),_)).length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["+",t.filter(I=>I.id&&It(new Date(I.start_time),_)).length-3,"Í∞ú ÎçîÎ≥¥Í∏∞"]})]}),d&&It(d,_)&&D.length>0&&a.jsxs("div",{className:"absolute z-50 top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3",children:[a.jsxs("div",{className:"text-sm font-semibold mb-2 text-gray-800 dark:text-gray-200",children:["Ìï†Ïùº Î™©Î°ù (",D.length,"Í∞ú)"]}),a.jsxs("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:[D.slice(0,5).map(I=>a.jsxs("div",{className:"flex items-start gap-2 text-xs group",children:[a.jsx("span",{children:w(I.priority)}),a.jsx("span",{className:`flex-1 cursor-pointer hover:underline ${I.completed?"line-through text-gray-500":"text-gray-700 dark:text-gray-300"}`,onClick:H=>{H.stopPropagation(),b(I)},children:I.text}),a.jsx("button",{onClick:H=>{H.stopPropagation(),b(I)},className:"opacity-0 group-hover:opacity-100 text-blue-500 hover:text-blue-700 transition-opacity text-xs",title:"Ìï†Ïùº ÏàòÏ†ï",children:"‚úèÔ∏è"}),a.jsx("button",{onClick:H=>{H.stopPropagation(),c(I.id)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity",title:"Ìï†Ïùº ÏÇ≠Ï†ú",children:"√ó"})]},I.id)),D.length>5&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["+",D.length-5,"Í∞ú ÎçîÎ≥¥Í∏∞"]})]})]})]},_.toISOString())})}),a.jsx(hi,{isOpen:m,onClose:()=>u(!1),date:g,onSave:()=>u(!1)}),a.jsx(Ll,{isOpen:!!x,onClose:()=>b(null),todo:x})]})}function Y2({date:t,hour:e,onClose:s,onAddEvent:n,onAddTodo:r}){const[i,o]=v.useState("event"),[l,c]=v.useState(""),[d,h]=v.useState(""),[m,u]=v.useState(e?`${e.toString().padStart(2,"0")}:00`:"09:00"),[g,f]=v.useState(e?`${(e+1).toString().padStart(2,"0")}:00`:"10:00"),[x,b]=v.useState("medium"),[y,j]=v.useState(!!e),S=C=>{if(C.preventDefault(),!!l.trim()){if(i==="event"){const w=new Date(t),[M,N]=m.split(":").map(Number);w.setHours(M,N,0,0);const k=new Date(t),[_,E]=g.split(":").map(Number);k.setHours(_,E,0,0),n({title:l.trim(),description:d.trim()||void 0,start_time:w.toISOString(),end_time:k.toISOString(),all_day:!1,location:void 0,color:"#3b82f6"})}else{const w={text:l.trim(),description:d.trim()||void 0,completed:!1,priority:x,date:B(t,"yyyy-MM-dd"),hasTime:y,startTime:y?m:void 0,endTime:y?g:void 0};r(w)}s()}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[B(t,"MÏõî dÏùº")," Ìï≠Î™© Ï∂îÍ∞Ä"]}),a.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:a.jsx(gm,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:S,className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Ï∂îÍ∞ÄÌï† Ìï≠Î™©"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"itemType",value:"event",checked:i==="event",onChange:C=>o(C.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm",children:"üìÖ ÏùºÏ†ï"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"itemType",value:"todo",checked:i==="todo",onChange:C=>o(C.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm",children:"‚úÖ Ìï†Ïùº"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:i==="event"?"ÏùºÏ†ï Ï†úÎ™©":"Ìï†Ïùº ÎÇ¥Ïö©"}),a.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:i==="event"?"ÏùºÏ†ï Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî":"Ìï†ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"ÏÑ§Î™Ö (ÏÑ†ÌÉùÏÇ¨Ìï≠)"}),a.jsx("textarea",{value:d,onChange:C=>h(C.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white resize-none",placeholder:"Ï∂îÍ∞Ä ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"})]}),i==="todo"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Ïö∞ÏÑ†ÏàúÏúÑ"}),a.jsxs("select",{value:x,onChange:C=>b(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"high",children:"üî¥ ÎÜíÏùå"}),a.jsx("option",{value:"medium",children:"üü° Î≥¥ÌÜµ"}),a.jsx("option",{value:"low",children:"üü¢ ÎÇÆÏùå"})]})]}),a.jsxs("div",{children:[i==="todo"&&a.jsx("div",{className:"mb-3",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:C=>j(C.target.checked),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ÏãúÍ∞Ñ ÏßÄÏ†ï"})]})}),(i==="event"||y)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"ÏãúÏûë ÏãúÍ∞Ñ"}),a.jsx("input",{type:"time",value:m,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:i==="event"?"Ï¢ÖÎ£å ÏãúÍ∞Ñ":"Ï¢ÖÎ£å ÏãúÍ∞Ñ (ÏÑ†ÌÉù)"}),a.jsx("input",{type:"time",value:g,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:i==="event"})]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Ï∑®ÏÜå"}),a.jsx("button",{type:"submit",disabled:!l.trim(),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i==="event"?"ÏùºÏ†ï Ï∂îÍ∞Ä":"Ìï†Ïùº Ï∂îÍ∞Ä"})]})]})]})})}const Ur={event:{background:"#3b82f620",border:"#3b82f6",text:"#3b82f6"},todo:{high:{background:"#ef444420",border:"#ef4444",text:"#ef4444"},medium:{background:"#f59e0b20",border:"#f59e0b",text:"#f59e0b"},low:{background:"#10b98120",border:"#10b981",text:"#10b981"}}},kd=Array.from({length:11},(t,e)=>e+9);function G2({events:t,onCreateEvent:e,onDateClick:s,onEditEvent:n,onDeleteEvent:r,highlightedEventId:i}){const{currentDate:o,getTodosForDate:l,addTodo:c,deleteTodo:d,toggleTodo:h}=lt(),[m,u]=v.useState(!1),[g,f]=v.useState(new Date),[x,b]=v.useState(),[y,j]=v.useState(!1),[S,C]=v.useState(new Date),[w,M]=v.useState(null),{diaryDates:N}=Rl({viewMode:"week",currentDate:o}),k=v.useMemo(()=>{const L=kr(o,{weekStartsOn:0}),I=Nr(o,{weekStartsOn:0});return Sr({start:L,end:I})},[o]),_=L=>{switch(L){case"high":return"üî¥";case"medium":return"üü°";case"low":return"üü¢";default:return""}},E=L=>{C(L),j(!0)},T=(L,I)=>!t||t.length===0?[]:t.filter(H=>{if(!H.start_time)return!1;try{const G=new Date(H.start_time);if(isNaN(G.getTime()))return!1;const Q=So(G);return It(G,L)&&Q===I}catch(G){return console.warn("Invalid event date:",H.start_time,G),!1}}),R=(L,I)=>l(L).filter(G=>{if(!G.hasTime||!G.startTime)return!1;try{const[Q]=G.startTime.split(":").map(Number);return Q===I}catch(Q){return console.warn("Invalid todo time:",G.startTime,Q),!1}}),P=L=>l(L).filter(H=>!H.hasTime||!H.startTime),O=new Date().getHours(),D=new Date().getMinutes(),F=(O*60+D)/(24*60)*100;return a.jsxs("div",{className:"h-full flex flex-col bg-background",children:[a.jsxs("div",{className:"grid grid-cols-8 border-b border-border bg-muted sticky top-0 z-10",children:[a.jsx("div",{className:"p-3 text-center text-sm font-semibold text-muted-foreground",children:"ÏãúÍ∞Ñ"}),k.map(L=>{const I=L.getDay(),H=Bs(L);return a.jsxs("div",{className:`
                p-3 text-center border-l border-border
                ${H?"bg-primary/10":""}
              `,children:[a.jsx("div",{className:`text-xs font-medium ${I===0?"text-red-600":I===6?"text-blue-600":"text-muted-foreground"}`,children:B(L,"EEE",{locale:je})}),a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("div",{className:`text-lg font-semibold ${H?"text-primary":"text-foreground"}`,children:B(L,"d")}),N.has(B(L,"yyyy-MM-dd"))&&a.jsx("button",{onClick:()=>E(L),className:"p-1 rounded-full text-xs transition-all hover:scale-110 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",title:"ÏùºÍ∏∞ Î≥¥Í∏∞/ÏàòÏ†ï",children:"üìñ"})]})]},L.toISOString())})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("div",{className:"relative",children:[k.some(L=>Bs(L))&&a.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${F}%`},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16"}),a.jsx("div",{className:"flex-1 h-0.5 bg-red-500"}),a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full -ml-1"})]})}),a.jsxs("div",{className:"grid grid-cols-8",children:[a.jsx("div",{className:"border-r border-border",children:kd.map(L=>a.jsx("div",{className:"h-16 px-2 py-1 text-xs text-muted-foreground text-right",children:B(new Date().setHours(L,0,0,0),"HH:mm")},L))}),k.map(L=>{const I=Bs(L);return a.jsx("div",{className:"border-r border-border",children:kd.map(H=>{const G=T(L,H),Q=R(L,H);return a.jsxs("div",{className:`
                          h-16 border-b border-border/50 p-1 cursor-pointer
                          hover:bg-muted/50 transition-colors
                          ${I&&O===H?"bg-primary/10":""}
                        `,onClick:z=>{s?s(L,z):(f(new Date(L)),b(H),u(!0))},children:[G.map(z=>{if(!z.id||!z.start_time||!z.title)return null;try{const J=new Date(z.start_time);return isNaN(J.getTime())?null:a.jsxs("div",{className:"text-xs p-1 mb-1 rounded truncate cursor-pointer hover:opacity-80 group flex items-center justify-between",style:{backgroundColor:Ur.event.background,color:Ur.event.text,borderLeft:`2px solid ${Ur.event.border}`},onClick:V=>{V.stopPropagation(),n(z)},children:[a.jsxs("span",{className:"truncate",children:[B(J,"HH:mm")," ",z.title]}),r&&a.jsx("button",{onClick:V=>{V.stopPropagation(),confirm(`"${z.title}" ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&r(z.id)},className:"opacity-60 hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity ml-1 flex-shrink-0 text-sm font-bold",title:"ÏùºÏ†ï ÏÇ≠Ï†ú",children:"√ó"})]},z.id)}catch(J){return console.warn("Error rendering event:",z,J),null}}),Q.map(z=>{const J=Ur.todo[z.priority];return a.jsxs("div",{className:"text-xs p-1 mb-1 rounded truncate cursor-pointer hover:opacity-80 flex items-center space-x-1",style:{backgroundColor:J.background,color:J.text,borderLeft:`2px solid ${J.border}`},onClick:V=>{V.stopPropagation()},children:[a.jsx("button",{onClick:V=>{V.stopPropagation(),h(z.id)},className:`
                                w-2 h-2 rounded-full border flex items-center justify-center text-xs
                                ${z.completed?"bg-green-500 border-green-500 text-white":"border-orange-400"}
                              `,children:z.completed&&"‚úì"}),a.jsx("span",{className:"text-xs",children:_(z.priority)}),a.jsxs("span",{className:`flex-1 ${z.completed?"line-through opacity-60":""}`,children:[z.startTime," ",z.text]})]},z.id)})]},`${L.toISOString()}-${H}`)})},L.toISOString())})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-8 gap-px bg-border",children:[a.jsx("div",{className:"bg-muted p-3 text-center text-sm font-semibold text-muted-foreground",children:"Ìï†Ïùº"}),k.map(L=>{const I=P(L),H=Bs(L);return a.jsxs("div",{className:`
                    bg-background p-3 min-h-[120px]
                    ${H?"bg-primary/5":""}
                  `,children:[N.has(B(L,"yyyy-MM-dd"))&&a.jsx("div",{className:"mb-2 flex items-center",children:a.jsxs("button",{onClick:()=>E(L),className:"p-1 rounded text-xs transition-all hover:scale-105 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",title:"ÏùºÍ∏∞ Î≥¥Í∏∞/ÏàòÏ†ï",children:["üìñ ",a.jsx("span",{className:"ml-1 text-xs",children:"ÏùºÍ∏∞"})]})}),a.jsx("div",{className:"space-y-1 mb-2",children:I.map(G=>a.jsxs("div",{className:"flex items-center space-x-1 group",children:[a.jsx("button",{onClick:()=>h(G.id),className:`
                            w-3 h-3 rounded-full border flex items-center justify-center text-xs
                            ${G.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600"}
                          `,children:G.completed&&"‚úì"}),a.jsx("span",{className:"text-xs",children:_(G.priority)}),a.jsx("span",{className:`
                            flex-1 text-xs truncate cursor-pointer hover:underline
                            ${G.completed?"line-through text-gray-500":"text-gray-800 dark:text-gray-200"}
                          `,onClick:()=>M(G),children:G.text}),a.jsx("button",{onClick:()=>M(G),className:"opacity-0 group-hover:opacity-100 text-blue-500 hover:text-blue-700 text-xs",title:"ÏàòÏ†ï",children:"‚úèÔ∏è"}),a.jsx("button",{onClick:()=>d(G.id),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 text-xs",children:"√ó"})]},G.id))})]},`todos-${L.toISOString()}`)})]})]})}),m&&a.jsx(Y2,{date:g,hour:x,onClose:()=>u(!1),onAddEvent:L=>{e(new Date(L.start_time)),u(!1)},onAddTodo:L=>{c(L),u(!1)}}),a.jsx(hi,{isOpen:y,onClose:()=>j(!1),date:S,onSave:()=>j(!1)}),a.jsx(Ll,{isOpen:!!w,onClose:()=>M(null),todo:w})]})}const K2={};function q2(t,e){let s;try{s=t()}catch{return}return{getItem:r=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>s.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>s.removeItem(r)}}const tr=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(n){return tr(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return tr(n)(s)}}}},J2=(t,e)=>(s,n,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},n,r);const h=tr(i.serialize),m=()=>{const b=i.partialize({...n()});let y;const j=h({state:b,version:i.version}).then(S=>d.setItem(i.name,S)).catch(S=>{y=S});if(y)throw y;return j},u=r.setState;r.setState=(b,y)=>{u(b,y),m()};const g=t((...b)=>{s(...b),m()},n,r);let f;const x=()=>{var b;if(!d)return;o=!1,l.forEach(j=>j(n()));const y=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return tr(d.getItem.bind(d))(i.name).then(j=>{if(j)return i.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate)return i.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var S;return f=i.merge(j,(S=n())!=null?S:g),s(f,!0),m()}).then(()=>{y==null||y(f,void 0),o=!0,c.forEach(j=>j(f))}).catch(j=>{y==null||y(void 0,j)})};return r.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(d=b.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},x(),f||g},X2=(t,e)=>(s,n,r)=>{let i={storage:q2(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...x)},n,r);const h=()=>{const x=i.partialize({...n()});return d.setItem(i.name,{state:x,version:i.version})},m=r.setState;r.setState=(x,b)=>{m(x,b),h()};const u=t((...x)=>{s(...x),h()},n,r);r.getInitialState=()=>u;let g;const f=()=>{var x,b;if(!d)return;o=!1,l.forEach(j=>{var S;return j((S=n())!=null?S:u)});const y=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(x=n())!=null?x:u))||void 0;return tr(d.getItem.bind(d))(i.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate)return[!0,i.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var S;const[C,w]=j;if(g=i.merge(w,(S=n())!=null?S:u),s(g,!0),C)return h()}).then(()=>{y==null||y(g,void 0),g=n(),o=!0,c.forEach(j=>j(g))}).catch(j=>{y==null||y(void 0,j)})};return r.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||f(),g||u},Q2=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((K2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),J2(t,e)):X2(t,e),vm=Q2,sr=_l()(vm(t=>({birthInfo:null,setBirthInfo:e=>t({birthInfo:e}),clearBirthInfo:()=>t({birthInfo:null})}),{name:"saju-settings"})),jm=["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"],wm={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÏßÑ:"ÌÜ†",Ïà†:"ÌÜ†",Ï∂ï:"ÌÜ†",ÎØ∏:"ÌÜ†",Ïú†:"Í∏à",Ïûê:"Ïàò",Ìï¥:"Ïàò"},Wr={ÏÉù:{Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"},Í∑π:{Î™©:"ÌÜ†",Ìôî:"Í∏à",ÌÜ†:"Ïàò",Í∏à:"Î™©",Ïàò:"Ìôî"}},yn={excellent:{level:"excellent",label:"ÎåÄÍ∏∏",color:"#10b981",icon:"üåü"},good:{level:"good",label:"Í∏∏Ìï®",color:"#22c55e",icon:"‚ú®"},normal:{level:"normal",label:"Î≥¥ÌÜµ",color:"#f59e0b",icon:"‚≠ê"},caution:{level:"caution",label:"Ï£ºÏùò",color:"#f97316",icon:"‚ö†Ô∏è"},bad:{level:"bad",label:"ÌùâÌï®",color:"#ef4444",icon:"üö®"}},Nd=["#4f46e5","#059669","#dc2626","#7c3aed","#ea580c","#0891b2"],Sd=[1,3,5,7,9,11,13,17,19,21,23,29];function Z2(t){const e=new Date(1900,0,1),r=(Math.floor((t.getTime()-e.getTime())/(1e3*60*60*24))+36)%60%10;return jm[r]}function km(t){return t>=85?yn.excellent:t>=70?yn.good:t>=50?yn.normal:t>=30?yn.caution:yn.bad}function e1(t,e){return t===e?75:Wr.ÏÉù[t]===e?85:Wr.ÏÉù[e]===t?90:Wr.Í∑π[t]===e?45:Wr.Í∑π[e]===t?35:60}function t1(t){const e=(t.year-4)%10,s=jm[e];return wm[s]||"Î™©"}function s1(t,e,s){const n=km(t),i={excellent:["Ïò§ÎäòÏùÄ Î™®Îì† ÏùºÏù¥ ÏàúÏ°∞Î°≠Í≤å ÌíÄÎ¶¨Îäî ÎåÄÍ∏∏Ìïú ÎÇ†ÏûÖÎãàÎã§. ÏÉàÎ°úÏö¥ ÎèÑÏ†ÑÏùÑ ÏãúÏûëÌïòÍ∏∞Ïóê Ï¢ãÏäµÎãàÎã§.","ÌñâÏö¥Ïùò Í∏∞Ïö¥Ïù¥ Í∞ÄÎìùÌïú ÌïòÎ£®ÏûÖÎãàÎã§. Ï§ëÏöîÌïú Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¨Í∏∞Ïóê ÏµúÏ†ÅÏùò ÏãúÍ∏∞ÏûÖÎãàÎã§.","Í∏çÏ†ïÏ†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä Ï∂©ÎßåÌïú ÎÇ†ÏûÖÎãàÎã§. Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§Í≥ºÏùò Í¥ÄÍ≥ÑÎèÑ ÎçîÏö± Ï¢ãÏïÑÏßà Í≤ÉÏûÖÎãàÎã§."],good:["Ï†ÑÎ∞òÏ†ÅÏúºÎ°ú Ï¢ãÏùÄ ÌùêÎ¶ÑÏùÑ ÌÉÄÎäî ÌïòÎ£®ÏûÖÎãàÎã§. Í≥ÑÌöçÌñàÎçò ÏùºÎì§ÏùÑ Ï∂îÏßÑÌï¥Î≥¥ÏÑ∏Ïöî.","Ïö¥ÏÑ∏Í∞Ä ÏÉÅÏäπÌïòÎäî ÏãúÍ∏∞ÏûÖÎãàÎã§. Ï†ÅÍ∑πÏ†ÅÏù∏ ÏûêÏÑ∏Î°ú ÏûÑÌïòÎ©¥ Ï¢ãÏùÄ Í≤∞Í≥ºÍ∞Ä ÏûàÏùÑ Í≤ÉÏûÖÎãàÎã§.","ÏïàÏ†ïÏ†ÅÏù¥Í≥† ÌèâÌôîÎ°úÏö¥ ÌïòÎ£®Í∞Ä Îê† Í≤ÉÏûÖÎãàÎã§. Ï∞®Î∂ÑÌïú ÎßàÏùåÏúºÎ°ú ÏùºÏùÑ Ï≤òÎ¶¨ÌïòÏÑ∏Ïöî."],normal:["Î¨¥ÎÇúÌïú ÌïòÎ£®Í∞Ä ÏòàÏÉÅÎê©ÎãàÎã§. ÌèâÏÜåÎ≥¥Îã§ Ïã†Ï§ëÌïòÍ≤å ÌñâÎèôÌïòÎäî Í≤ÉÏù¥ Ï¢ãÍ≤†ÏäµÎãàÎã§.","ÌÅ∞ Î≥ÄÌôîÎ≥¥Îã§Îäî ÌòÑÏû¨ ÏÉÅÌô©ÏùÑ Ïú†ÏßÄÌïòÎäî Í≤ÉÏù¥ Î∞îÎûåÏßÅÌïú ÏãúÍ∏∞ÏûÖÎãàÎã§.","Ï°∞Í∏âÌï¥ÌïòÏßÄ ÎßêÍ≥† Ï∞®Í∑ºÏ∞®Í∑º ÏßÑÌñâÌïòÎ©¥ Ï¢ãÏùÄ Í≤∞Í≥ºÎ•º ÏñªÏùÑ Ïàò ÏûàÏäµÎãàÎã§."],caution:["Ï°∞Ïã¨Ïä§ÎüΩÍ≤å ÌñâÎèôÌïòÎäî Í≤ÉÏù¥ ÌïÑÏöîÌïú ÌïòÎ£®ÏûÖÎãàÎã§. ÏÑ±Í∏âÌïú ÌåêÎã®ÏùÄ ÌîºÌïòÏÑ∏Ïöî.","ÏûëÏùÄ ÏùºÎèÑ ÍººÍººÌûà ÌôïÏù∏ÌïòÍ≥† ÏßÑÌñâÌïòÎäî Í≤ÉÏù¥ Ï¢ãÍ≤†ÏäµÎãàÎã§.","Ïñ¥Î†§ÏõÄÏù¥ ÏûàÎçîÎùºÎèÑ Ìè¨Í∏∞ÌïòÏßÄ ÎßêÍ≥† Íæ∏Ï§ÄÌûà ÎÖ∏Î†•ÌïòÏÑ∏Ïöî."],bad:["Ïò§ÎäòÏùÄ ÏÉàÎ°úÏö¥ ÏùºÏùÑ ÏãúÏûëÌïòÍ∏∞Î≥¥Îã§Îäî Í∏∞Ï°¥ ÏùºÏùÑ Ï†ïÎ¶¨ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÍ≤†ÏäµÎãàÎã§.","Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§Í≥ºÏùò Í∞àÎì±ÏùÑ ÌîºÌïòÍ≥† Ï°∞ÌôîÎ•º Ïù¥Î£®ÎèÑÎ°ù ÎÖ∏Î†•ÌïòÏÑ∏Ïöî.","ÌûòÎì† ÏãúÍ∏∞Ïù¥ÏßÄÎßå Ïù¥ÎòêÌïú ÏßÄÎÇòÍ∞à Í≤ÉÏûÖÎãàÎã§. Í∏çÏ†ïÏ†ÅÏù∏ ÎßàÏùåÏùÑ Ïú†ÏßÄÌïòÏÑ∏Ïöî."]}[n.level],o=Math.floor(Math.random()*i.length);return i[o]}function n1(t,e=new Date){const s=t1(t),n=Z2(e),r=wm[n]||"Î™©",i=e1(s,r),o=e.getDate(),l=e.getMonth()+1,c=e.getFullYear(),d=(t.year+t.month+t.day+t.hour)%100,h=Math.min(100,Math.max(0,i+(o+d)%31-15)),m=Math.min(100,Math.max(0,i+(l+d)%31-15)),u=Math.min(100,Math.max(0,i+(c+d)%31-15)),g=Math.min(100,Math.max(0,i+(o*l+d)%31-15)),f=Math.min(100,Math.max(0,i+(o+l+d)%31-15)),x=(o+d)%Nd.length,b=(l+d)%Sd.length;return{date:B(e,"yyyy-MM-dd"),totalLuck:h,loveLuck:m,wealthLuck:u,healthLuck:g,careerLuck:f,message:s1(h),luckyColor:Nd[x],luckyNumber:Sd[b],advice:`Ïò§ÎäòÏùò Í∏∞Ïö¥: ${s}ÌñâÏù¥ ${r}ÌñâÍ≥º ÎßåÎÇòÎäî ÎÇ†ÏûÖÎãàÎã§.`}}function r1(t){return km(t)}const a1=t=>t.toISOString().split("T")[0],i1=(t,e)=>!t||!e?!1:t.year===e.year&&t.month===e.month&&t.day===e.day&&t.hour===e.hour&&t.minute===e.minute&&t.isLunar===e.isLunar&&t.isMale===e.isMale,o1=_l()(vm((t,e)=>({dailyFortune:null,lastCalculatedDate:null,lastBirthInfo:null,calculateFortune:(s,n)=>{const r=e(),i=a1(n);if(r.lastCalculatedDate===i&&i1(r.lastBirthInfo,s)&&r.dailyFortune)return console.log("[FortuneStore] Ï∫êÏãúÎêú Ïö¥ÏÑ∏ Îç∞Ïù¥ÌÑ∞ Î∞òÌôò:",i),r.dailyFortune;try{console.log("[FortuneStore] ÏÉàÎ°úÏö¥ Ïö¥ÏÑ∏ Í≥ÑÏÇ∞:",{birthInfo:s,date:i});const o=n1(s,n);return t({dailyFortune:o,lastCalculatedDate:i,lastBirthInfo:s}),console.log("[FortuneStore] Ïö¥ÏÑ∏ Í≥ÑÏÇ∞ ÏôÑÎ£å Î∞è Ï†ÄÏû•:",o),o}catch(o){return console.error("[FortuneStore] Ïö¥ÏÑ∏ Í≥ÑÏÇ∞ Ïã§Ìå®:",o),null}},clearCache:()=>{console.log("[FortuneStore] Ï∫êÏãú Ï¥àÍ∏∞Ìôî"),t({dailyFortune:null,lastCalculatedDate:null,lastBirthInfo:null})}}),{name:"fortune-storage",partialize:t=>({dailyFortune:t.dailyFortune,lastCalculatedDate:t.lastCalculatedDate,lastBirthInfo:t.lastBirthInfo})})),Cd=({label:t,score:e,icon:s,description:n})=>{const r=r1(e),i=Math.round(e);return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all hover:scale-105 border border-border/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:s}),a.jsx("h3",{className:"text-xl font-bold text-foreground",children:t})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold",style:{color:r.color},children:[i,"%"]}),a.jsx("div",{className:"text-sm font-medium",style:{color:r.color},children:r.label})]})]}),a.jsx("div",{className:"w-full h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${i}%`,backgroundColor:r.color,boxShadow:`0 0 10px ${r.color}40`}})}),n&&a.jsx("p",{className:"text-sm text-muted-foreground mt-3 italic",children:n})]})},l1=()=>a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-8 flex items-center gap-3",children:[a.jsx("span",{className:"animate-pulse",children:"‚ú®"}),"Ïò§ÎäòÏùò Ïö¥ÏÑ∏"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6 flex-1",children:[1,2,3,4,5].map(t=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 animate-pulse",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded"}),a.jsx("div",{className:"w-24 h-6 bg-muted rounded"})]}),a.jsx("div",{className:"w-16 h-8 bg-muted rounded"})]}),a.jsx("div",{className:"w-full h-4 bg-muted rounded-full"})]},t))})]}),c1=()=>{const t=ze(),{user:e}=Qt();return a.jsx("div",{className:"h-full flex flex-col items-center justify-center",children:a.jsxs("div",{className:"max-w-md text-center",children:[a.jsx("div",{className:"text-6xl mb-6",children:"üîÆ"}),a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÎ†§Î©¥ ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"ÏÉùÎÖÑÏõîÏùºÏãú Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏó¨ ÎßûÏ∂§ Ïö¥ÏÑ∏Î•º Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî"}),a.jsx("button",{onClick:()=>{t("/settings")},className:"px-8 py-4 bg-primary-500 text-white text-lg font-semibold rounded-xl hover:bg-primary-600 transition-colors shadow-lg",children:"ÏÑ§Ï†ïÌïòÎü¨ Í∞ÄÍ∏∞"}),e&&a.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Î°úÍ∑∏Ïù∏Îêú Í≥ÑÏ†ï: ",e.email]}),a.jsx("p",{className:"text-xs mt-1",children:"ÏÑ§Ï†ï ÌéòÏù¥ÏßÄÏóêÏÑú ÏÉùÎÖÑÏõîÏùºÏãúÎ•º ÏûÖÎ†•ÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú Ïö¥ÏÑ∏Í∞Ä Í≥ÑÏÇ∞Îê©ÎãàÎã§"})]})]})})},_d={Ï¥ùÏö¥:"ÌïòÎ£® Ï†ÑÎ∞òÏ†ÅÏù∏ Ïö¥Ïùò ÌùêÎ¶ÑÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§",Ïó∞Ïï†Ïö¥:"ÏÇ¨ÎûëÍ≥º Ïù∏Í∞ÑÍ¥ÄÍ≥ÑÏùò Ï°∞ÌôîÎ•º Î≥¥Ïó¨Ï§çÎãàÎã§",Ïû¨Î¨ºÏö¥:"Í∏àÏ†ÑÏ†Å Ïù¥ÎìùÍ≥º Ïû¨ÏÇ∞ Ï¶ùÏãùÏùò Í∏∞ÌöåÎ•º ÏïåÎ†§Ï§çÎãàÎã§",Í±¥Í∞ïÏö¥:"Ïã†Ï≤¥ÏôÄ Ï†ïÏã†Ïùò Í±¥Í∞ï ÏÉÅÌÉúÎ•º ÎÇòÌÉÄÎÉÖÎãàÎã§",ÏßÅÏóÖÏö¥:"ÏóÖÎ¨¥ ÏÑ±Í≥ºÏôÄ Í≤ΩÎ†• Î∞úÏ†Ñ Í∞ÄÎä•ÏÑ±ÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§"},d1=({currentDate:t,_onDiaryClick:e,_hasDiary:s})=>{const{birthInfo:n,setBirthInfo:r}=sr(),{user:i}=Qt();wr.useEffect(()=>{if(n)console.log("[TodayFortuneSection] birthInfo Ï°¥Ïû¨:",n);else{console.log("[TodayFortuneSection] birthInfoÍ∞Ä ÏóÜÏùå, localStorage ÌôïÏù∏...");const d=localStorage.getItem("sajuapp-personal-info");if(d)try{const h=JSON.parse(d);if(console.log("[TodayFortuneSection] localStorageÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Î∞úÍ≤¨:",h),h.birthDate&&h.birthTime){const m=new Date(h.birthDate),[u,g]=h.birthTime.split(":").map(Number),f={year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:u||0,minute:g||0,isLunar:h.calendarType==="lunar",isMale:h.gender==="male",name:h.gender==="male"?"ÏÇ¨Ïö©Ïûê(ÎÇ®)":"ÏÇ¨Ïö©Ïûê(Ïó¨)"};console.log("[TodayFortuneSection] StoreÏóê Ï†ÄÏû•Ìï† ÏÇ¨Ï£º Ï†ïÎ≥¥:",f),r(f)}}catch(h){console.error("[TodayFortuneSection] localStorage ÌååÏã± Ïò§Î•ò:",h)}else console.log("[TodayFortuneSection] localStorageÏóêÎèÑ Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå")}},[n,r]),console.log("[TodayFortuneSection] ÌòÑÏû¨ birthInfo:",n),console.log("[TodayFortuneSection] ÌòÑÏû¨ user:",i);const{calculateFortune:o}=o1(),l=v.useMemo(()=>n?o(n,t):(console.log("[TodayFortuneSection] No birthInfo available"),null),[n,t,o]);if(!n)return a.jsx(c1,{});if(!l)return a.jsx(l1,{});const c=[{label:"Ï¥ùÏö¥",score:l.totalLuck,icon:"üåü"},{label:"Ïó∞Ïï†Ïö¥",score:l.loveLuck,icon:"üíï"},{label:"Ïû¨Î¨ºÏö¥",score:l.wealthLuck,icon:"üí∞"},{label:"Í±¥Í∞ïÏö¥",score:l.healthLuck,icon:"üè•"},{label:"ÏßÅÏóÖÏö¥",score:l.careerLuck,icon:"üíº"}];return a.jsxs("div",{className:"h-full flex flex-col p-2",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-4xl font-bold text-foreground mb-2 flex items-center gap-3",children:[a.jsx("span",{className:"text-yellow-500",children:"‚ú®"}),"Ïò§ÎäòÏùò Ïö¥ÏÑ∏"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"ÎãπÏã†Ïùò ÏÇ¨Ï£ºÎ™ÖÎ¶¨Î°ú ÌíÄÏñ¥Î≥¥Îäî Ïò§Îäò ÌïòÎ£®"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 flex-1",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Cd,{label:c[0].label,score:c[0].score,icon:c[0].icon,description:_d[c[0].label]})}),c.slice(1).map(d=>a.jsx(Cd,{label:d.label,score:d.score,icon:d.icon,description:_d[d.label]},d.label))]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-2xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Ïò§ÎäòÏùò ÌñâÏö¥ ÏïÑÏù¥ÌÖú"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full shadow-lg flex items-center justify-center bg-white dark:bg-gray-800",children:a.jsx("div",{className:"w-12 h-12 rounded-full",style:{backgroundColor:l.luckyColor},title:"ÌñâÏö¥Ïùò ÏÉâÏÉÅ"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"ÌñâÏö¥Ïùò ÏÉâÏÉÅ"}),a.jsx("div",{className:"font-bold text-lg",children:l.luckyColor})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 text-white rounded-full flex items-center justify-center text-2xl font-bold shadow-lg",children:l.luckyNumber}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"ÌñâÏö¥Ïùò Ïà´Ïûê"}),a.jsxs("div",{className:"font-bold text-lg",children:["Ïà´Ïûê ",l.luckyNumber]})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 shadow-lg",children:[a.jsxs("h3",{className:"text-xl font-bold text-foreground mb-3 flex items-center gap-2",children:[a.jsx("span",{children:"üíå"}),"Ïò§ÎäòÏùò Î©îÏãúÏßÄ"]}),a.jsx("p",{className:"text-lg text-foreground leading-relaxed mb-3",children:l.message}),l.advice&&a.jsxs("p",{className:"text-sm text-muted-foreground italic border-t border-border/30 pt-3",children:["üí° ",l.advice]})]})]})]})},h1=Array.from({length:10},(t,e)=>e+9);function u1({events:t,onCreateEvent:e,onEditEvent:s,onDeleteEvent:n}){const{currentDate:r,getTodosForDate:i,deleteTodo:o,toggleTodo:l}=lt(),[c,d]=v.useState(!1),[h,m]=v.useState(null),u=v.useMemo(()=>i(r),[r,i]),g=k=>{switch(k){case"high":return"üî¥";case"medium":return"üü°";case"low":return"üü¢";default:return"üü°"}},f=v.useMemo(()=>u.filter(k=>k.hasTime&&k.startTime),[u]),x=v.useMemo(()=>u.filter(k=>!k.hasTime||!k.startTime),[u]),b=v.useMemo(()=>t.filter(k=>{const _=new Date(k.start_time);return It(_,r)}).sort((k,_)=>new Date(k.start_time).getTime()-new Date(_.start_time).getTime()),[t,r]),y=b.filter(k=>k.all_day),j=b.filter(k=>!k.all_day),S=new Date().getHours(),C=new Date().getMinutes(),M=S>=9&&S<=18?((S-9)*60+C)/(10*60)*100:-1,N=k=>{const _=new Date(k.start_time),E=new Date(k.end_time),T=So(_),R=So(E),P=Math.max((T-9)*60+Yc(_),0),O=Math.min((R-9)*60+Yc(E),10*60),D=P/(10*60)*100,F=(O-P)/(10*60)*100;return{top:`${D}%`,height:`${Math.max(F,2)}%`}};return a.jsxs("div",{className:"h-full flex flex-col lg:flex-row bg-background",children:[a.jsxs("div",{className:"lg:w-1/2 w-full lg:border-r border-b lg:border-b-0 border-border p-6 overflow-auto bg-gradient-to-br from-background to-muted/20 h-1/2 lg:h-full",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-1",children:B(r,"yyyyÎÖÑ MÏõî dÏùº",{locale:je})}),a.jsx("p",{className:"text-xl text-muted-foreground",children:B(r,"EEEE",{locale:je})})]}),a.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-gradient-to-r from-primary-500/10 to-primary-600/10 border border-primary-500/20",children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Îπ†Î•∏ ÏûëÏÑ±"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>{const k=new Date(r);k.setHours(new Date().getHours(),0,0,0),e(k)},className:"px-3 py-2 text-sm bg-blue-500/10 hover:bg-blue-500/20 text-blue-600 rounded-md transition-colors flex items-center justify-center gap-1",children:[a.jsx("span",{children:"üìÖ"})," ÏùºÏ†ï"]}),a.jsxs("button",{onClick:()=>{const k=new Date(r);k.setHours(new Date().getHours(),0,0,0),e(k)},className:"px-3 py-2 text-sm bg-amber-500/10 hover:bg-amber-500/20 text-amber-600 rounded-md transition-colors flex items-center justify-center gap-1",children:[a.jsx("span",{children:"‚úÖ"})," Ìï†Ïùº"]}),a.jsxs("button",{onClick:()=>d(!0),className:"px-3 py-2 text-sm bg-purple-500/10 hover:bg-purple-500/20 text-purple-600 rounded-md transition-colors flex items-center justify-center gap-1",children:[a.jsx("span",{children:"üìñ"})," ÏùºÍ∏∞"]})]})]}),a.jsx("div",{className:"h-full flex flex-col",children:a.jsx(d1,{currentDate:r})})]}),a.jsxs("div",{className:"lg:w-1/2 w-full overflow-auto h-1/2 lg:h-full",children:[y.length>0&&a.jsxs("div",{className:"p-4 border-b border-border bg-muted/30",children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-2",children:"Ï¢ÖÏùº ÏùºÏ†ï"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(k=>a.jsxs("div",{className:"group inline-flex items-center px-3 py-1 rounded-full text-sm cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:k.color||"#3b82f6",color:"white"},onClick:()=>s(k),title:k.description||k.title,children:[a.jsx("span",{children:k.title}),n&&a.jsx("button",{onClick:_=>{_.stopPropagation(),confirm(`"${k.title}" ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&n(k.id)},className:"opacity-0 group-hover:opacity-100 ml-2 hover:text-red-200 transition-opacity",title:"ÏùºÏ†ï ÏÇ≠Ï†ú",children:"√ó"})]},k.id))})]}),a.jsxs("div",{className:"relative min-h-full",children:[It(r,new Date)&&M>=0&&a.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${M}%`},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-20"}),a.jsx("div",{className:"flex-1 h-0.5 bg-red-500"}),a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full -ml-1.5"})]})}),a.jsxs("div",{className:"relative",children:[h1.map(k=>a.jsxs("div",{className:"flex border-b border-border/30",style:{height:"100px"},children:[a.jsx("div",{className:"w-20 px-4 py-3 text-muted-foreground text-right",children:a.jsx("div",{className:"text-xl font-semibold",children:B(new Date().setHours(k,0,0,0),"HH:mm")})}),a.jsxs("div",{className:"flex-1 relative cursor-pointer hover:bg-muted/20 transition-colors group",onClick:()=>{const _=new Date(r);_.setHours(k,0,0,0),e(_)},title:`${k}:00Ïóê ÏùºÏ†ï Ï∂îÍ∞Ä`,children:[a.jsx("div",{className:"absolute top-1/2 left-0 right-0 border-t border-border/15"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-500/20 flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 text-lg",children:"+"})})})]})]},k)),a.jsxs("div",{className:"absolute top-0 left-20 right-0 bottom-0",children:[j.map(k=>{const _=N(k);return a.jsx("div",{className:"absolute left-4 right-1/2 p-4 rounded-xl cursor-pointer hover:shadow-lg transition-all hover:scale-[1.02] mr-2 group",style:{..._,backgroundColor:`${k.color||"#3b82f6"}15`,borderLeft:`4px solid ${k.color||"#3b82f6"}`,border:`1px solid ${k.color||"#3b82f6"}30`},onClick:()=>s(k),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-sm font-semibold mb-1",style:{color:k.color||"#3b82f6"},children:[B(new Date(k.start_time),"HH:mm")," - ",B(new Date(k.end_time),"HH:mm")]}),a.jsx("div",{className:"font-semibold text-foreground text-lg mb-1",children:k.title}),k.description&&a.jsx("div",{className:"text-sm text-muted-foreground",children:k.description}),k.location&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-1",children:[a.jsx("span",{children:"üìç"})," ",k.location]})]}),n&&a.jsx("button",{onClick:E=>{E.stopPropagation(),confirm(`"${k.title}" ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&n(k.id)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity ml-2 text-lg",title:"ÏùºÏ†ï ÏÇ≠Ï†ú",children:"√ó"})]})},k.id)}),f.map(k=>{const[_,E]=(k.startTime||"09:00").split(":").map(Number);new Date(r).setHours(_,E,0,0);const R=Math.max(((_-9)*60+E)/(10*60)*100,0);return a.jsx("div",{className:"absolute left-1/2 right-4 p-3 rounded-lg cursor-pointer hover:shadow-md transition-all ml-2",style:{top:`${R}%`,height:"40px",backgroundColor:k.completed?"#10b98115":"#fbbf2415",borderLeft:`3px solid ${k.completed?"#10b981":"#fbbf24"}`,opacity:k.completed?.7:1},onClick:()=>l(k.id),children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:k.completed,onChange:()=>l(k.id),className:"w-4 h-4",onClick:P=>P.stopPropagation()}),a.jsx("span",{className:"text-sm font-medium",children:g(k.priority)}),a.jsx("span",{className:`text-sm ${k.completed?"line-through text-muted-foreground":""}`,children:k.text}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",k.startTime,")"]})]}),a.jsx("button",{onClick:P=>{P.stopPropagation(),o(k.id)},className:"text-red-500 hover:text-red-700 text-sm px-2",children:"‚úï"})]})},k.id)})]})]})]}),x.length>0&&a.jsxs("div",{className:"p-4 border-t border-border bg-muted/10",children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"ÏãúÍ∞Ñ ÎØ∏ÏßÄÏ†ï Ìï†Ïùº"}),a.jsx("div",{className:"space-y-2",children:x.map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background border border-border hover:shadow-sm transition-all",style:{opacity:k.completed?.6:1},children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("input",{type:"checkbox",checked:k.completed,onChange:()=>l(k.id),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:g(k.priority)}),a.jsx("span",{className:`text-sm flex-1 cursor-pointer hover:underline ${k.completed?"line-through text-muted-foreground":""}`,onClick:()=>m(k),children:k.text})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>m(k),className:"text-blue-500 hover:text-blue-700 text-sm px-2 py-1",children:"ÏàòÏ†ï"}),a.jsx("button",{onClick:()=>o(k.id),className:"text-red-500 hover:text-red-700 text-sm px-2 py-1",children:"ÏÇ≠Ï†ú"})]})]},k.id))})]})]}),a.jsx(hi,{isOpen:c,onClose:()=>d(!1),date:r,onSave:()=>{d(!1)}}),a.jsx(Ll,{isOpen:!!h,onClose:()=>m(null),todo:h})]})}const Nm=v.createContext(void 0),m1=()=>{const t=v.useContext(Nm);if(!t)throw new Error("useYearlyMemo must be used within a YearlyMemoProvider");return t},g1=({children:t})=>{const[e,s]=v.useState([]);v.useEffect(()=>{const h=localStorage.getItem("yearlyMemos");if(h)try{const u=JSON.parse(h).map(g=>({...g,createdAt:new Date(g.createdAt),updatedAt:new Date(g.updatedAt)}));s(u)}catch(m){console.error("Failed to load memos from localStorage:",m)}},[]),v.useEffect(()=>{e.length>0&&localStorage.setItem("yearlyMemos",JSON.stringify(e))},[e]);const n=h=>{const m={...h,id:`memo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,updatedAt:new Date};s(u=>[...u,m])},r=(h,m)=>{s(u=>u.map(g=>g.id===h?{...g,...m,updatedAt:new Date}:g))},i=h=>{s(m=>m.filter(u=>u.id!==h))},o=h=>{s(m=>m.map(u=>u.id===h?{...u,completed:!u.completed,updatedAt:new Date}:u))},l=(h,m)=>e.filter(u=>u.year===h&&u.month===m).sort((u,g)=>(u.position||0)-(g.position||0)),d={memos:e,addMemo:n,updateMemo:r,deleteMemo:i,toggleComplete:o,getMemosByMonth:l,getMonthStatistics:(h,m)=>{const u=l(h,m),g=u.reduce((f,x)=>(f[x.type]=(f[x.type]||0)+1,f),{});return{total:u.length,byType:g,completed:u.filter(f=>f.completed).length}}};return a.jsx(Nm.Provider,{value:d,children:t})},vn={goal:{icon:"üéØ",label:"Î™©Ìëú",color:"#9333EA",bgColor:"bg-purple-100 dark:bg-purple-900/30",textColor:"text-purple-600 dark:text-purple-400"},event:{icon:"üìÖ",label:"Ïù¥Î≤§Ìä∏",color:"#3B82F6",bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-600 dark:text-blue-400"},memo:{icon:"üìù",label:"Î©îÎ™®",color:"#EAB308",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",textColor:"text-yellow-600 dark:text-yellow-400"},milestone:{icon:"üèÜ",label:"ÎßàÏùºÏä§ÌÜ§",color:"#22C55E",bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-600 dark:text-green-400"}},f1={high:{icon:"üî¥",label:"ÎÜíÏùå"},medium:{icon:"üü°",label:"Î≥¥ÌÜµ"},low:{icon:"üü¢",label:"ÎÇÆÏùå"}},x1=["1Ïõî","2Ïõî","3Ïõî","4Ïõî","5Ïõî","6Ïõî","7Ïõî","8Ïõî","9Ïõî","10Ïõî","11Ïõî","12Ïõî"];function p1({_events:t,_onCreateEvent:e,_onEditEvent:s,_onDateClick:n,_highlightedEventId:r}){const{currentDate:i,setCurrentDate:o,setViewMode:l}=lt(),{getMemosByMonth:c,addMemo:d,deleteMemo:h,toggleComplete:m,getMonthStatistics:u}=m1(),{diaries:g}=Rl({viewMode:"year",currentDate:i}),f=i.getFullYear(),[x,b]=v.useState(null),[y,j]=v.useState(null),[S,C]=v.useState(null),[w,M]=v.useState("all"),[N,k]=v.useState(""),[_,E]=v.useState(""),[T,R]=v.useState("memo"),[P,O]=v.useState("medium"),[D,F]=v.useState(""),L=Q=>{let z=c(f,Q);if(w!=="all"&&(z=z.filter(J=>J.type===w)),N){const J=N.toLowerCase();z=z.filter(V=>{var W;return V.title.toLowerCase().includes(J)||((W=V.description)==null?void 0:W.toLowerCase().includes(J))})}return z},I=Q=>{if(!_.trim())return;const z=vn[T];d({year:f,month:Q,type:T,title:_,description:D,color:z.color,importance:P,completed:!1,position:0}),E(""),F(""),R("memo"),O("medium"),j(null)},H=Q=>{if(!g||g.length===0)return 0;const z=String(Q).padStart(2,"0"),J=`${f}-${z}`;return g.filter(V=>V.date&&V.date.startsWith(J)).length},G=v.useMemo(()=>{let Q=0,z=0;const J={goal:0,event:0,memo:0,milestone:0};for(let V=1;V<=12;V++){const W=u(f,V);Q+=W.total,z+=W.completed,Object.entries(W.byType).forEach(([Z,U])=>{J[Z]+=U})}return{totalMemos:Q,completedMemos:z,typeCount:J}},[f,c]);return a.jsx("div",{className:"h-full overflow-auto bg-background p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[f,"ÎÖÑ Ïó∞Í∞Ñ Í≥ÑÌöç"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(D2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Í≤ÄÏÉâ...",value:N,onChange:Q=>k(Q.target.value),className:`pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                           bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
                           focus:ring-2 focus:ring-purple-500`})]}),a.jsxs("select",{value:w,onChange:Q=>M(Q.target.value),className:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100`,children:[a.jsx("option",{value:"all",children:"Î™®Îì† ÌÉÄÏûÖ"}),Object.entries(vn).map(([Q,z])=>a.jsxs("option",{value:Q,children:[z.icon," ",z.label]},Q))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:G.totalMemos}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï†ÑÏ≤¥"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:G.completedMemos}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÏôÑÎ£å"})]}),Object.entries(vn).map(([Q,z])=>a.jsxs("div",{className:`text-center p-3 rounded-lg ${z.bgColor}`,children:[a.jsx("div",{className:`text-2xl font-bold ${z.textColor}`,children:G.typeCount[Q]||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:z.label})]},Q))]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:x1.map((Q,z)=>{const J=z+1,V=L(J),W=u(f,J),Z=y===J;return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md 
                         transition-all duration-200 border border-gray-200 dark:border-gray-700`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Q}),a.jsx("button",{onClick:()=>j(Z?null:J),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(T2,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]}),a.jsxs("div",{className:"mt-2 flex gap-2 text-xs",children:[W.total>0&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[W.total,"Í∞ú Ìï≠Î™©"]}),W.completed>0&&a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[W.completed,"Í∞ú ÏôÑÎ£å"]})]}),H(J)>0&&a.jsxs("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:["üìî ",H(J)]})]})]}),a.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[Z&&a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Ï†úÎ™© ÏûÖÎ†•...",value:_,onChange:U=>E(U.target.value),onKeyPress:U=>U.key==="Enter"&&I(J),className:`w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 
                                 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,autoFocus:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("select",{value:T,onChange:U=>R(U.target.value),className:`flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 
                                   rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,children:Object.entries(vn).map(([U,fe])=>a.jsx("option",{value:U,children:fe.label},U))}),a.jsx("select",{value:P,onChange:U=>O(U.target.value),className:`flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 
                                   rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`,children:Object.entries(f1).map(([U,fe])=>a.jsx("option",{value:U,children:fe.label},U))})]}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx("button",{onClick:()=>I(J),className:"px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700",children:"Ï∂îÍ∞Ä"}),a.jsx("button",{onClick:()=>{j(null),E("")},className:`px-2 py-1 text-xs bg-gray-300 dark:bg-gray-600 text-gray-700 
                                   dark:text-gray-300 rounded hover:bg-gray-400 dark:hover:bg-gray-500`,children:"Ï∑®ÏÜå"})]})]}),V.length===0&&!Z?a.jsx("div",{className:"text-center text-gray-400 dark:text-gray-500 text-sm py-4",children:"Î©îÎ™®Í∞Ä ÏóÜÏäµÎãàÎã§"}):V.slice(0,5).map(U=>{const fe=vn[U.type];return U.id,a.jsx("div",{className:`p-2 rounded-lg border ${U.completed?"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600":`${fe.bgColor} border-gray-200 dark:border-gray-600`} group hover:shadow-sm transition-all`,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("button",{onClick:()=>m(U.id),className:`mt-0.5 w-4 h-4 rounded border-2 flex items-center justify-center
                                ${U.completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600 hover:border-purple-500"}`,children:U.completed&&a.jsx(w2,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm",children:fe.icon}),a.jsx("span",{className:`text-sm font-medium ${U.completed?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:U.title})]}),U.description&&a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:U.description})]}),a.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:()=>h(U.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:a.jsx(L2,{className:"w-3 h-3 text-red-500"})})})]})},U.id)}),V.length>5&&a.jsxs("button",{onClick:()=>{o(new Date(f,z,1)),l("month")},className:`w-full text-center text-xs text-purple-600 dark:text-purple-400 
                               hover:text-purple-700 dark:hover:text-purple-300 py-1`,children:["+",V.length-5,"Í∞ú Îçî Î≥¥Í∏∞"]})]})]},J)})})]})})}function b1({isOpen:t,onClose:e,date:s,position:n,onSelectAction:r}){const i=v.useRef(null);if(v.useEffect(()=>{const h=u=>{i.current&&!i.current.contains(u.target)&&e()},m=u=>{u.key==="Escape"&&e()};return t&&(document.addEventListener("mousedown",h),document.addEventListener("keydown",m)),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",m)}},[t,e]),!t)return null;const o={x:Math.min(n.x,window.innerWidth-200),y:Math.min(n.y,window.innerHeight-160)},l=[{type:"event",icon:"üìÖ",label:"ÏùºÏ†ï,Ìï†Ïùº Ï∂îÍ∞Ä",description:"ÏÉàÎ°úÏö¥ ÏùºÏ†ïÍ≥º Ìï†ÏùºÏùÑ ÎßåÎì≠ÎãàÎã§",color:"text-blue-600 dark:text-blue-400"},{type:"diary",icon:"üìù",label:"ÏùºÍ∏∞ Ïì∞Í∏∞",description:"Ïò§ÎäòÏùò ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï©ÎãàÎã§",color:"text-purple-600 dark:text-purple-400"}],c=h=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}).format(h),d=h=>{r(h),e()};return a.jsx("div",{className:"fixed inset-0 z-50",style:{background:"rgba(0, 0, 0, 0.1)"},children:a.jsxs("div",{ref:i,className:"absolute bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 min-w-[240px] max-w-[280px]",style:{left:o.x,top:o.y},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ÏûëÏóÖ ÏÑ†ÌÉù"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-lg",children:"‚úï"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(s)})]}),a.jsx("div",{className:"space-y-2",children:l.map(h=>a.jsx("button",{onClick:()=>d(h.type),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-150 group",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"text-xl flex-shrink-0",children:h.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`text-sm font-medium ${h.color} group-hover:opacity-80`,children:h.label}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:h.description})]}),a.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors",children:"‚Üí"})]})},h.type))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:"ESC ÌÇ§Î°ú Îã´Í∏∞"})})]})})}const y1=({className:t})=>a.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),v1=({className:t})=>a.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})});function j1(){const{currentDate:t,setCurrentDate:e,viewMode:s,setViewMode:n,navigatePrevious:r,navigateNext:i,navigateToday:o}=lt(),[l,c]=v.useState([]),[d,h]=v.useState(null),[m,u]=v.useState(!1),[g,f]=v.useState(null),[x,b]=v.useState(""),[y,j]=v.useState([]),[S,C]=v.useState(null),[w,M]=v.useState(!1),[N,k]=v.useState({x:0,y:0}),[_,E]=v.useState(null),[T,R]=v.useState(!1),[P,O]=v.useState(null),D=Y=>{O(Y),R(!0)};v.useEffect(()=>{F()},[]),v.useEffect(()=>{if(x){const Y=l.filter(te=>{var ht,Le;return te.title.toLowerCase().includes(x.toLowerCase())||((ht=te.description)==null?void 0:ht.toLowerCase().includes(x.toLowerCase()))||((Le=te.location)==null?void 0:Le.toLowerCase().includes(x.toLowerCase()))});j(Y)}else j(l)},[x,l]);const F=async()=>{try{const Y=await Tt.getEvents();c(Y)}catch(Y){console.error("Failed to load events:",Y)}},L=Y=>{f(Y||null),h(null),u(!0)},I=Y=>{h(Y),u(!0)},H=Y=>{F()},G=async Y=>{try{await Tt.deleteEvent(Y),F()}catch(te){console.error("Failed to delete event:",te)}},Q=()=>{u(!1),h(null),f(null)},z=(Y,te)=>{E(Y),k({x:te.clientX,y:te.clientY}),M(!0)},J=Y=>{if(_){switch(Y){case"event":f(_),h(null),u(!0);break;case"diary":O(_),R(!0);break}M(!1)}},V=()=>{M(!1),E(null)},W=()=>{R(!1),O(null)},Z=()=>{if(y.length===0||!x)return;const Y=y[0],te=new Date(Y.start_time);e(te),s==="year"&&n("month"),C(Y.id),setTimeout(()=>{C(null)},3e3)},U=Y=>{Y.key==="Enter"?Z():Y.key==="Escape"&&(b(""),C(null))},fe=()=>{const Y={events:x?y:l,onCreateEvent:L,onDateClick:z,onEditEvent:I,onDeleteEvent:G,highlightedEventId:S,onDiaryClick:D};switch(s){case"year":return a.jsx(p1,{...Y});case"month":return a.jsx(wd,{...Y});case"week":return a.jsx(G2,{...Y});case"day":return a.jsx(u1,{...Y});default:return a.jsx(wd,{...Y})}},X={year:"ÎÖÑ",month:"Ïõî",week:"Ï£º",day:"Ïùº"},le=()=>{switch(s){case"year":return B(t,"yyyyÎÖÑ",{locale:je});case"month":return B(t,"yyyyÎÖÑ MÏõî",{locale:je});case"week":return B(t,"yyyyÎÖÑ MÏõî wÏ£ºÏ∞®",{locale:je});case"day":return B(t,"yyyyÎÖÑ MÏõî dÏùº EEEE",{locale:je});default:return""}};return a.jsxs("div",{className:"h-screen flex flex-col",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:le()}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["year","month","week","day"].map(Y=>a.jsx("button",{onClick:()=>n(Y),className:`
                    px-3 py-1 rounded-md text-sm font-medium transition-colors
                    ${s===Y?"bg-white dark:bg-gray-600 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100"}
                  `,children:X[Y]},Y))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(y1,{className:"w-5 h-5"})}),a.jsx("button",{onClick:o,className:"px-3 py-1 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Ïò§Îäò"}),a.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(v1,{className:"w-5 h-5"})})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 max-w-md relative",children:[a.jsx("input",{type:"text",placeholder:"ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞ Í≤ÄÏÉâ...",value:x,onChange:Y=>b(Y.target.value),onKeyDown:U,className:"w-full px-4 py-2 pl-10 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white"}),a.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x&&a.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.length,"Í∞úÏùò Í≤∞Í≥º"]})]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:fe()}),a.jsx(fm,{isOpen:m,onClose:Q,onSave:H,event:d,initialDate:g||void 0}),a.jsx(b1,{isOpen:w,onClose:V,date:_||new Date,position:N,onSelectAction:J}),a.jsx(hi,{isOpen:T,onClose:W,date:P||new Date})]})}function Md(){const{date:t}=E0(),e=ze(),[s,n]=v.useState(new Date),[r,i]=v.useState(""),[o,l]=v.useState(3),[c,d]=v.useState([]),[h,m]=v.useState(""),[u,g]=v.useState([]),[f,x]=v.useState("");v.useEffect(()=>{t&&n(new Date(t))},[t]);const b={1:{emoji:"üò¢",label:"Îß§Ïö∞ ÎÇòÏÅ®",color:"text-red-500"},2:{emoji:"üòï",label:"ÎÇòÏÅ®",color:"text-orange-500"},3:{emoji:"üòê",label:"Î≥¥ÌÜµ",color:"text-yellow-500"},4:{emoji:"üôÇ",label:"Ï¢ãÏùå",color:"text-green-500"},5:{emoji:"üòÑ",label:"Îß§Ïö∞ Ï¢ãÏùå",color:"text-blue-500"}},y=()=>{h.trim()&&!c.includes(h.trim())&&(d([...c,h.trim()]),m(""))},j=N=>{d(c.filter(k=>k!==N))},S=()=>{f.trim()&&(g([...u,{id:Date.now().toString(),text:f.trim(),completed:!1}]),x(""))},C=N=>{g(u.map(k=>k.id===N?{...k,completed:!k.completed}:k))},w=N=>{g(u.filter(k=>k.id!==N))},M=()=>{console.log({date:s,content:r,mood:o,tags:c,todos:u}),alert("Îã§Ïù¥Ïñ¥Î¶¨Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!")};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:B(s,"yyyyÎÖÑ MÏõî dÏùº",{locale:je})}),a.jsx("p",{className:"text-muted-foreground",children:B(s,"EEEE",{locale:je})})]}),a.jsx("input",{type:"date",value:B(s,"yyyy-MM-dd"),onChange:N=>{const k=new Date(N.target.value);n(k),e(`/diary/${B(k,"yyyy-MM-dd")}`)},className:"px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-4 bg-muted",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Ïò§ÎäòÏùò Ïö¥ÏÑ∏"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ïò§ÎäòÏùÄ ÏÉàÎ°úÏö¥ ÏãúÏûëÏùÑ ÌïòÍ∏∞Ïóê Ï¢ãÏùÄ ÎÇ†ÏûÖÎãàÎã§. Í∏çÏ†ïÏ†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä Ï∂©ÎßåÌïú ÌïòÎ£®Í∞Ä Îê† Í≤ÉÏûÖÎãàÎã§."})]})]}),a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Ïò§ÎäòÏùò Í∏∞Î∂Ñ"}),a.jsx("div",{className:"flex justify-around",children:[1,2,3,4,5].map(N=>{const k=b[N];return a.jsxs("button",{onClick:()=>l(N),className:`
                    flex flex-col items-center p-3 rounded-lg transition-all
                    ${o===N?"bg-muted ring-2 ring-primary-500":"hover:bg-muted/50"}
                  `,children:[a.jsx("span",{className:`text-3xl mb-1 ${k.color}`,children:k.emoji}),a.jsx("span",{className:"text-xs text-muted-foreground",children:k.label})]},N)})})]}),a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"ÏùºÍ∏∞ ÎÇ¥Ïö©"}),a.jsx("textarea",{value:r,onChange:N=>i(N.target.value),placeholder:"Ïò§ÎäòÏùÄ Ïñ¥Îñ§ ÌïòÎ£®ÏòÄÎÇòÏöî?",className:"w-full h-64 p-4 border border-border rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground"})]}),a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"ÌÉúÍ∑∏"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary/20 text-primary border border-primary/30",children:["#",N,a.jsx("button",{onClick:()=>j(N),className:"ml-2 text-primary hover:text-primary/80",children:"√ó"})]},N))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),onKeyPress:N=>N.key==="Enter"&&y(),placeholder:"ÌÉúÍ∑∏ Ï∂îÍ∞Ä (EnterÎ°ú Ï∂îÍ∞Ä)",className:"flex-1 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground"}),a.jsx("button",{onClick:y,className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Ï∂îÍ∞Ä"})]})]}),a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Ïò§ÎäòÏùò Ìï†Ïùº"}),a.jsxs("div",{className:"space-y-3 mb-4",children:[u.map(N=>a.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>C(N.id),className:"w-4 h-4 text-primary rounded border-border focus:ring-primary/50"}),a.jsx("span",{className:`flex-1 ${N.completed?"text-muted-foreground line-through":"text-foreground"}`,children:N.text}),a.jsx("button",{onClick:()=>w(N.id),className:"text-muted-foreground hover:text-red-500 transition-colors",children:"√ó"})]},N.id)),u.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Ìï†ÏùºÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:f,onChange:N=>x(N.target.value),onKeyPress:N=>N.key==="Enter"&&S(),placeholder:"Ìï†Ïùº Ï∂îÍ∞Ä (EnterÎ°ú Ï∂îÍ∞Ä)",className:"flex-1 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground"}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Ï∂îÍ∞Ä"})]}),u.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[a.jsx("span",{children:"ÏôÑÎ£åÏú®"}),a.jsxs("span",{children:[u.filter(N=>N.completed).length,"/",u.length," (",Math.round(u.filter(N=>N.completed).length/u.length*100),"%)"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${u.length?u.filter(N=>N.completed).length/u.length*100:0}%`}})})]})]}),a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Ïó∞Í≤∞Îêú ÏùºÏ†ï"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ïù¥ ÎÇ†ÏßúÏóê Îì±Î°ùÎêú Ï∫òÎ¶∞Îçî ÏùºÏ†ïÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>e("/diary"),className:"px-6 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors",children:"Ï∑®ÏÜå"}),a.jsx("button",{onClick:M,className:"px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Ï†ÄÏû•"})]})]})})}const Sm=async()=>{if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return!1;try{return await Notification.requestPermission()==="granted"}catch(t){return console.error("Failed to request notification permission:",t),!1}},Cm=()=>"Notification"in window&&Notification.permission==="granted",_m=t=>{if(!Cm())return console.warn("Notification permission not granted"),null;try{const e=new Notification(t.title,{body:t.body,icon:t.icon||"/favicon.ico",tag:t.tag,badge:t.badge,data:t.data,requireInteraction:t.requireInteraction||!1,silent:t.silent||!1});return t.requireInteraction||setTimeout(()=>{e.close()},5e3),e}catch(e){return console.error("Failed to show notification:",e),null}},w1=(t,e,s,n)=>{const r=Date.now(),o=s.getTime()-r;if(o<=0)return console.warn("Cannot schedule notification for past time"),null;const l=24*60*60*1e3;if(o>l)return console.warn("Cannot schedule notification more than 24 hours in advance"),null;const c=window.setTimeout(()=>{_m({title:t,body:e,icon:"/favicon.ico",requireInteraction:!0,...n})},o);return console.log(`Notification scheduled for ${s.toLocaleString()}, delay: ${o}ms`),c},Mm="notification-settings",Ol=()=>{try{const t=localStorage.getItem(Mm);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load notification settings:",t)}return{enabled:!1,eventReminders:!0,diaryReminders:!0,todoDeadlines:!0,reminderMinutes:15}},k1=t=>{try{localStorage.setItem(Mm,JSON.stringify(t))}catch(e){console.error("Failed to save notification settings:",e)}},N1=()=>{const t=Ol();if(!t.enabled||!t.diaryReminders)return null;const e=new Date,s=new Date;return s.setHours(21,0,0,0),e.getHours()>=21&&s.setDate(s.getDate()+1),w1("üìù ÏùºÍ∏∞ ÏûëÏÑ± ÏãúÍ∞Ñ","Ïò§Îäò ÌïòÎ£®Îäî Ïñ¥Îñ†ÏÖ®ÎÇòÏöî? ÏùºÍ∏∞Î•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî.",s,{tag:"diary-reminder",data:{type:"diary"},requireInteraction:!1})},S1=async()=>{if(!Ol().enabled)return;if(!await Sm()){console.warn("Notification permission denied");return}N1(),console.log("Notifications initialized")},C1=()=>{_m({title:"üß≠ Ïö¥Î™ÖÎÇòÏπ®Î∞ò",body:"ÏïåÎ¶ºÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏûëÎèôÌï©ÎãàÎã§!",requireInteraction:!1})};function _1(){const[t,e]=v.useState(Ol()),[s,n]=v.useState("default"),[r,i]=v.useState(!1),[o,l]=v.useState(!1);v.useEffect(()=>{"Notification"in window&&n(Notification.permission)},[]);const c=(m,u)=>{const g={...t,[m]:u};e(g),k1(g),l(!0),setTimeout(()=>l(!1),2e3)},d=async()=>{i(!0);try{const m=await Sm();n(m?"granted":"denied"),m&&c("enabled",!0)}catch(m){console.error("Permission request failed:",m)}finally{i(!1)}},h=()=>{Cm()?C1():alert("ÏïåÎ¶º Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.")};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(Ri,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ÏïåÎ¶º ÏÑ§Ï†ï"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞ ÏïåÎ¶ºÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§"})]})]}),o&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 animate-fade-in",children:[a.jsx(Ct,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Ï†ÄÏû•Îê®"})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-lg border",children:s==="granted"?a.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[a.jsx(Ri,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"ÏïåÎ¶º Í∂åÌïú ÏäπÏù∏Îê®"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Î∏åÎùºÏö∞Ï†Ä ÏïåÎ¶ºÏùÑ Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§"})]})]}):s==="denied"?a.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-400",children:[a.jsx(dv,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"ÏïåÎ¶º Í∂åÌïú Í±∞Î∂ÄÎê®"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÏïåÎ¶ºÏùÑ ÌóàÏö©Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 text-yellow-600 dark:text-yellow-400",children:[a.jsx(Ri,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"ÏïåÎ¶º Í∂åÌïú ÌïÑÏöî"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ÏïåÎ¶ºÏùÑ Î∞õÏúºÎ†§Î©¥ Í∂åÌïúÏùÑ ÌóàÏö©Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),a.jsx("button",{onClick:d,disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 text-sm font-medium",children:r?"ÏöîÏ≤≠ Ï§ë...":"Í∂åÌïú ÏöîÏ≤≠"})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"ÏïåÎ¶º ÌôúÏÑ±Ìôî"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Î™®Îì† ÏïåÎ¶ºÏùÑ ÌôúÏÑ±Ìôî/ÎπÑÌôúÏÑ±ÌôîÌï©ÎãàÎã§"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.enabled,onChange:m=>c("enabled",m.target.checked),disabled:s!=="granted",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600 peer-disabled:opacity-50"})]})]}),t.enabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"ÏùºÏ†ï ÏïåÎ¶º"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÏòàÏ†ïÎêú ÏùºÏ†ï ÏãúÏûë Ï†ÑÏóê ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.eventReminders,onChange:m=>c("eventReminders",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Ìï†Ïùº ÎßàÍ∞ê ÏïåÎ¶º"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ìï†Ïùº ÎßàÍ∞ê ÏãúÍ∞Ñ Ï†ÑÏóê ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.todoDeadlines,onChange:m=>c("todoDeadlines",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"ÏùºÍ∏∞ ÏûëÏÑ± Î¶¨ÎßàÏù∏Îçî"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Îß§Ïùº Ï†ÄÎÖÅ 9ÏãúÏóê ÏùºÍ∏∞ ÏûëÏÑ±ÏùÑ ÏïàÎÇ¥Ìï©ÎãàÎã§"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.diaryReminders,onChange:m=>c("diaryReminders",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"ÏïåÎ¶º ÏãúÍ∞Ñ"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÏùºÏ†ï/Ìï†Ïùº ÏãúÏûë/ÎßàÍ∞ê Î™á Î∂Ñ Ï†ÑÏóê ÏïåÎ¶ºÏùÑ Î∞õÏùÑÏßÄ ÏÑ§Ï†ïÌï©ÎãàÎã§"})]}),a.jsxs("select",{value:t.reminderMinutes,onChange:m=>c("reminderMinutes",parseInt(m.target.value)),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[a.jsx("option",{value:5,children:"5Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:10,children:"10Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:15,children:"15Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:30,children:"30Î∂Ñ Ï†Ñ"}),a.jsx("option",{value:60,children:"1ÏãúÍ∞Ñ Ï†Ñ"})]})]})]})]}),t.enabled&&s==="granted"&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:a.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm font-medium",children:"üì± ÌÖåÏä§Ìä∏ ÏïåÎ¶º Î≥¥ÎÇ¥Í∏∞"})})]})}var Js={},M1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Em={},Ge={};let Il;const E1=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ge.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ge.getSymbolTotalCodewords=function(e){return E1[e]};Ge.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ge.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Il=e};Ge.isKanjiModeEnabled=function(){return typeof Il<"u"};Ge.toSJIS=function(e){return Il(e)};var ui={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,r){if(t.isValid(n))return n;try{return e(n)}catch{return r}}})(ui);function Tm(){this.buffer=[],this.length=0}Tm.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let s=0;s<e;s++)this.putBit((t>>>e-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var T1=Tm;function Tr(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Tr.prototype.set=function(t,e,s,n){const r=t*this.size+e;this.data[r]=s,n&&(this.reservedBit[r]=!0)};Tr.prototype.get=function(t,e){return this.data[t*this.size+e]};Tr.prototype.xor=function(t,e,s){this.data[t*this.size+e]^=s};Tr.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var A1=Tr,Am={};(function(t){const e=Ge.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,i=e(n),o=i===145?26:Math.ceil((i-13)/(2*r-2))*2,l=[i-7];for(let c=1;c<r-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const r=[],i=t.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||r.push([i[l],i[c]]);return r}})(Am);var Dm={};const D1=Ge.getSymbolSize,Ed=7;Dm.getPositions=function(e){const s=D1(e);return[[0,0],[s-Ed,0],[0,s-Ed]]};var Pm={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const i=r.size;let o=0,l=0,c=0,d=null,h=null;for(let m=0;m<i;m++){l=c=0,d=h=null;for(let u=0;u<i;u++){let g=r.get(m,u);g===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=g,l=1),g=r.get(u,m),g===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=g,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(r){const i=r.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const d=r.get(l,c)+r.get(l,c+1)+r.get(l+1,c)+r.get(l+1,c+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(r){const i=r.size;let o=0,l=0,c=0;for(let d=0;d<i;d++){l=c=0;for(let h=0;h<i;h++)l=l<<1&2047|r.get(d,h),h>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|r.get(h,d),h>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(r){let i=0;const o=r.data.length;for(let c=0;c<o;c++)i+=r.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function s(n,r,i){switch(n){case t.Patterns.PATTERN000:return(r+i)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(r+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return r*i%2+r*i%3===0;case t.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case t.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(r,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,s(r,c,l))},t.getBestMask=function(r,i){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){i(d),t.applyMask(d,r);const h=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(d,r),h<c&&(c=h,l=d)}return l}})(Pm);var mi={};const Ft=ui,Yr=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Gr=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];mi.getBlocksCount=function(e,s){switch(s){case Ft.L:return Yr[(e-1)*4+0];case Ft.M:return Yr[(e-1)*4+1];case Ft.Q:return Yr[(e-1)*4+2];case Ft.H:return Yr[(e-1)*4+3];default:return}};mi.getTotalCodewordsCount=function(e,s){switch(s){case Ft.L:return Gr[(e-1)*4+0];case Ft.M:return Gr[(e-1)*4+1];case Ft.Q:return Gr[(e-1)*4+2];case Ft.H:return Gr[(e-1)*4+3];default:return}};var Rm={},gi={};const Fn=new Uint8Array(512),Pa=new Uint8Array(256);(function(){let e=1;for(let s=0;s<255;s++)Fn[s]=e,Pa[e]=s,e<<=1,e&256&&(e^=285);for(let s=255;s<512;s++)Fn[s]=Fn[s-255]})();gi.log=function(e){if(e<1)throw new Error("log("+e+")");return Pa[e]};gi.exp=function(e){return Fn[e]};gi.mul=function(e,s){return e===0||s===0?0:Fn[Pa[e]+Pa[s]]};(function(t){const e=gi;t.mul=function(n,r){const i=new Uint8Array(n.length+r.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<r.length;l++)i[o+l]^=e.mul(n[o],r[l]);return i},t.mod=function(n,r){let i=new Uint8Array(n);for(;i.length-r.length>=0;){const o=i[0];for(let c=0;c<r.length;c++)i[c]^=e.mul(r[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let i=0;i<n;i++)r=t.mul(r,new Uint8Array([1,e.exp(i)]));return r}})(Rm);const Lm=Rm;function Fl(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Fl.prototype.initialize=function(e){this.degree=e,this.genPoly=Lm.generateECPolynomial(this.degree)};Fl.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(e.length+this.degree);s.set(e);const n=Lm.mod(s,this.genPoly),r=this.degree-n.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(n,r),i}return n};var P1=Fl,Om={},Zt={},Bl={};Bl.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var vt={};const Im="[0-9]+",R1="[A-Z $%*+\\-./:]+";let nr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nr=nr.replace(/u/g,"\\u");const L1="(?:(?![A-Z0-9 $%*+\\-./:]|"+nr+`)(?:.|[\r
]))+`;vt.KANJI=new RegExp(nr,"g");vt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");vt.BYTE=new RegExp(L1,"g");vt.NUMERIC=new RegExp(Im,"g");vt.ALPHANUMERIC=new RegExp(R1,"g");const O1=new RegExp("^"+nr+"$"),I1=new RegExp("^"+Im+"$"),F1=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");vt.testKanji=function(e){return O1.test(e)};vt.testNumeric=function(e){return I1.test(e)};vt.testAlphanumeric=function(e){return F1.test(e)};(function(t){const e=Bl,s=vt;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return s.testNumeric(i)?t.NUMERIC:s.testAlphanumeric(i)?t.ALPHANUMERIC:s.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(i,o){if(t.isValid(i))return i;try{return n(i)}catch{return o}}})(Zt);(function(t){const e=Ge,s=mi,n=ui,r=Zt,i=Bl,o=7973,l=e.getBCHDigit(o);function c(u,g,f){for(let x=1;x<=40;x++)if(g<=t.getCapacity(x,f,u))return x}function d(u,g){return r.getCharCountIndicator(u,g)+4}function h(u,g){let f=0;return u.forEach(function(x){const b=d(x.mode,g);f+=b+x.getBitsLength()}),f}function m(u,g){for(let f=1;f<=40;f++)if(h(u,f)<=t.getCapacity(f,g,r.MIXED))return f}t.from=function(g,f){return i.isValid(g)?parseInt(g,10):f},t.getCapacity=function(g,f,x){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=r.BYTE);const b=e.getSymbolTotalCodewords(g),y=s.getTotalCodewordsCount(g,f),j=(b-y)*8;if(x===r.MIXED)return j;const S=j-d(x,g);switch(x){case r.NUMERIC:return Math.floor(S/10*3);case r.ALPHANUMERIC:return Math.floor(S/11*2);case r.KANJI:return Math.floor(S/13);case r.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(g,f){let x;const b=n.from(f,n.M);if(Array.isArray(g)){if(g.length>1)return m(g,b);if(g.length===0)return 1;x=g[0]}else x=g;return c(x.mode,x.getLength(),b)},t.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let f=g<<12;for(;e.getBCHDigit(f)-l>=0;)f^=o<<e.getBCHDigit(f)-l;return g<<12|f}})(Om);var Fm={};const Ro=Ge,Bm=1335,B1=21522,Td=Ro.getBCHDigit(Bm);Fm.getEncodedBits=function(e,s){const n=e.bit<<3|s;let r=n<<10;for(;Ro.getBCHDigit(r)-Td>=0;)r^=Bm<<Ro.getBCHDigit(r)-Td;return(n<<10|r)^B1};var $m={};const $1=Zt;function Xs(t){this.mode=$1.NUMERIC,this.data=t.toString()}Xs.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Xs.prototype.getLength=function(){return this.data.length};Xs.prototype.getBitsLength=function(){return Xs.getBitsLength(this.data.length)};Xs.prototype.write=function(e){let s,n,r;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-s;i>0&&(n=this.data.substr(s),r=parseInt(n,10),e.put(r,i*3+1))};var V1=Xs;const H1=Zt,Li=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Qs(t){this.mode=H1.ALPHANUMERIC,this.data=t}Qs.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Qs.prototype.getLength=function(){return this.data.length};Qs.prototype.getBitsLength=function(){return Qs.getBitsLength(this.data.length)};Qs.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let n=Li.indexOf(this.data[s])*45;n+=Li.indexOf(this.data[s+1]),e.put(n,11)}this.data.length%2&&e.put(Li.indexOf(this.data[s]),6)};var z1=Qs;const U1=Zt;function Zs(t){this.mode=U1.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Zs.getBitsLength=function(e){return e*8};Zs.prototype.getLength=function(){return this.data.length};Zs.prototype.getBitsLength=function(){return Zs.getBitsLength(this.data.length)};Zs.prototype.write=function(t){for(let e=0,s=this.data.length;e<s;e++)t.put(this.data[e],8)};var W1=Zs;const Y1=Zt,G1=Ge;function en(t){this.mode=Y1.KANJI,this.data=t}en.getBitsLength=function(e){return e*13};en.prototype.getLength=function(){return this.data.length};en.prototype.getBitsLength=function(){return en.getBitsLength(this.data.length)};en.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let s=G1.toSJIS(this.data[e]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),t.put(s,13)}};var K1=en,Vm={exports:{}};(function(t){var e={single_source_shortest_paths:function(s,n,r){var i={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,d,h,m,u,g,f,x,b;!l.empty();){c=l.pop(),d=c.value,m=c.cost,u=s[d]||{};for(h in u)u.hasOwnProperty(h)&&(g=u[h],f=m+g,x=o[h],b=typeof o[h]>"u",(b||x>f)&&(o[h]=f,l.push(h,f),i[h]=d))}if(typeof r<"u"&&typeof o[r]>"u"){var y=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(s,n){for(var r=[],i=n;i;)r.push(i),s[i],i=s[i];return r.reverse(),r},find_path:function(s,n,r){var i=e.single_source_shortest_paths(s,n,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(s){var n=e.PriorityQueue,r={},i;s=s||{};for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.queue=[],r.sorter=s.sorter||n.default_sorter,r},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var r={value:s,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Vm);var q1=Vm.exports;(function(t){const e=Zt,s=V1,n=z1,r=W1,i=K1,o=vt,l=Ge,c=q1;function d(y){return unescape(encodeURIComponent(y)).length}function h(y,j,S){const C=[];let w;for(;(w=y.exec(S))!==null;)C.push({data:w[0],index:w.index,mode:j,length:w[0].length});return C}function m(y){const j=h(o.NUMERIC,e.NUMERIC,y),S=h(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let C,w;return l.isKanjiModeEnabled()?(C=h(o.BYTE,e.BYTE,y),w=h(o.KANJI,e.KANJI,y)):(C=h(o.BYTE_KANJI,e.BYTE,y),w=[]),j.concat(S,C,w).sort(function(N,k){return N.index-k.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function u(y,j){switch(j){case e.NUMERIC:return s.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return r.getBitsLength(y)}}function g(y){return y.reduce(function(j,S){const C=j.length-1>=0?j[j.length-1]:null;return C&&C.mode===S.mode?(j[j.length-1].data+=S.data,j):(j.push(S),j)},[])}function f(y){const j=[];for(let S=0;S<y.length;S++){const C=y[S];switch(C.mode){case e.NUMERIC:j.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:j.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:j.push([C,{data:C.data,mode:e.BYTE,length:d(C.data)}]);break;case e.BYTE:j.push([{data:C.data,mode:e.BYTE,length:d(C.data)}])}}return j}function x(y,j){const S={},C={start:{}};let w=["start"];for(let M=0;M<y.length;M++){const N=y[M],k=[];for(let _=0;_<N.length;_++){const E=N[_],T=""+M+_;k.push(T),S[T]={node:E,lastCount:0},C[T]={};for(let R=0;R<w.length;R++){const P=w[R];S[P]&&S[P].node.mode===E.mode?(C[P][T]=u(S[P].lastCount+E.length,E.mode)-u(S[P].lastCount,E.mode),S[P].lastCount+=E.length):(S[P]&&(S[P].lastCount=E.length),C[P][T]=u(E.length,E.mode)+4+e.getCharCountIndicator(E.mode,j))}}w=k}for(let M=0;M<w.length;M++)C[w[M]].end=0;return{map:C,table:S}}function b(y,j){let S;const C=e.getBestModeForData(y);if(S=e.from(j,C),S!==e.BYTE&&S.bit<C.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(C));switch(S===e.KANJI&&!l.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new s(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new i(y);case e.BYTE:return new r(y)}}t.fromArray=function(j){return j.reduce(function(S,C){return typeof C=="string"?S.push(b(C,null)):C.data&&S.push(b(C.data,C.mode)),S},[])},t.fromString=function(j,S){const C=m(j,l.isKanjiModeEnabled()),w=f(C),M=x(w,S),N=c.find_path(M.map,"start","end"),k=[];for(let _=1;_<N.length-1;_++)k.push(M.table[N[_]].node);return t.fromArray(g(k))},t.rawSplit=function(j){return t.fromArray(m(j,l.isKanjiModeEnabled()))}})($m);const fi=Ge,Oi=ui,J1=T1,X1=A1,Q1=Am,Z1=Dm,Lo=Pm,Oo=mi,ej=P1,Ra=Om,tj=Fm,sj=Zt,Ii=$m;function nj(t,e){const s=t.size,n=Z1.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||s<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||s<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,o+c,!0,!0):t.set(i+l,o+c,!1,!0))}}function rj(t){const e=t.size;for(let s=8;s<e-8;s++){const n=s%2===0;t.set(s,6,n,!0),t.set(6,s,n,!0)}}function aj(t,e){const s=Q1.getPositions(e);for(let n=0;n<s.length;n++){const r=s[n][0],i=s[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(r+o,i+l,!0,!0):t.set(r+o,i+l,!1,!0)}}function ij(t,e){const s=t.size,n=Ra.getEncodedBits(e);let r,i,o;for(let l=0;l<18;l++)r=Math.floor(l/3),i=l%3+s-8-3,o=(n>>l&1)===1,t.set(r,i,o,!0),t.set(i,r,o,!0)}function Fi(t,e,s){const n=t.size,r=tj.getEncodedBits(e,s);let i,o;for(i=0;i<15;i++)o=(r>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(n-15+i,8,o,!0),i<8?t.set(8,n-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(n-8,8,1,!0)}function oj(t,e){const s=t.size;let n=-1,r=s-1,i=7,o=0;for(let l=s-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(r,l-c)){let d=!1;o<e.length&&(d=(e[o]>>>i&1)===1),t.set(r,l-c,d),i--,i===-1&&(o++,i=7)}if(r+=n,r<0||s<=r){r-=n,n=-n;break}}}function lj(t,e,s){const n=new J1;s.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),sj.getCharCountIndicator(c.mode,t)),c.write(n)});const r=fi.getSymbolTotalCodewords(t),i=Oo.getTotalCodewordsCount(t,e),o=(r-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return cj(n,t,e)}function cj(t,e,s){const n=fi.getSymbolTotalCodewords(e),r=Oo.getTotalCodewordsCount(e,s),i=n-r,o=Oo.getBlocksCount(e,s),l=n%o,c=o-l,d=Math.floor(n/o),h=Math.floor(i/o),m=h+1,u=d-h,g=new ej(u);let f=0;const x=new Array(o),b=new Array(o);let y=0;const j=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const k=N<c?h:m;x[N]=j.slice(f,f+k),b[N]=g.encode(x[N]),f+=k,y=Math.max(y,k)}const S=new Uint8Array(n);let C=0,w,M;for(w=0;w<y;w++)for(M=0;M<o;M++)w<x[M].length&&(S[C++]=x[M][w]);for(w=0;w<u;w++)for(M=0;M<o;M++)S[C++]=b[M][w];return S}function dj(t,e,s,n){let r;if(Array.isArray(t))r=Ii.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const h=Ii.rawSplit(t);d=Ra.getBestVersionForData(h,s)}r=Ii.fromString(t,d||40)}else throw new Error("Invalid data");const i=Ra.getBestVersionForData(r,s);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=lj(e,s,r),l=fi.getSymbolSize(e),c=new X1(l);return nj(c,e),rj(c),aj(c,e),Fi(c,s,0),e>=7&&ij(c,e),oj(c,o),isNaN(n)&&(n=Lo.getBestMask(c,Fi.bind(null,c,s))),Lo.applyMask(n,c),Fi(c,s,n),{modules:c,version:e,errorCorrectionLevel:s,maskPattern:n,segments:r}}Em.create=function(e,s){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Oi.M,r,i;return typeof s<"u"&&(n=Oi.from(s.errorCorrectionLevel,Oi.M),r=Ra.from(s.version),i=Lo.from(s.maskPattern),s.toSJISFunc&&fi.setToSJISFunction(s.toSJISFunc)),dj(e,r,n,i)};var Hm={},$l={};(function(t){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:r,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},t.getImageWidth=function(n,r){const i=t.getScale(n,r);return Math.floor((n+r.margin*2)*i)},t.qrToImageData=function(n,r,i){const o=r.modules.size,l=r.modules.data,c=t.getScale(o,i),d=Math.floor((o+i.margin*2)*c),h=i.margin*c,m=[i.color.light,i.color.dark];for(let u=0;u<d;u++)for(let g=0;g<d;g++){let f=(u*d+g)*4,x=i.color.light;if(u>=h&&g>=h&&u<d-h&&g<d-h){const b=Math.floor((u-h)/c),y=Math.floor((g-h)/c);x=m[l[b*o+y]?1:0]}n[f++]=x.r,n[f++]=x.g,n[f++]=x.b,n[f]=x.a}}})($l);(function(t){const e=$l;function s(r,i,o){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=e.getOptions(c);const h=e.getImageWidth(i.modules.size,c),m=d.getContext("2d"),u=m.createImageData(h,h);return e.qrToImageData(u.data,i,c),s(m,d,h),m.putImageData(u,0,0),d},t.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=t.render(i,o,c),h=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(h,m.quality)}})(Hm);var zm={};const hj=$l;function Ad(t,e){const s=t.a/255,n=e+'="'+t.hex+'"';return s<1?n+" "+e+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function Bi(t,e,s){let n=t+e;return typeof s<"u"&&(n+=" "+s),n}function uj(t,e,s){let n="",r=0,i=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=i?Bi("M",c+s,.5+d+s):Bi("m",r,0),r=0,i=!1),c+1<e&&t[l+1]||(n+=Bi("h",o),o=0)):r++}return n}zm.render=function(e,s,n){const r=hj.getOptions(s),i=e.modules.size,o=e.modules.data,l=i+r.margin*2,c=r.color.light.a?"<path "+Ad(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+Ad(r.color.dark,"stroke")+' d="'+uj(o,i,r.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+h+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,u),u};const mj=M1,Io=Em,Um=Hm,gj=zm;function Vl(t,e,s,n,r){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!mj())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(r=s,s=e,e=n=void 0):o===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=s,s=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=e,e=n=void 0):o===2&&!e.getContext&&(n=s,s=e,e=void 0),new Promise(function(c,d){try{const h=Io.create(s,n);c(t(h,e,n))}catch(h){d(h)}})}try{const c=Io.create(s,n);r(null,t(c,e,n))}catch(c){r(c)}}Js.create=Io.create;Js.toCanvas=Vl.bind(null,Um.render);Js.toDataURL=Vl.bind(null,Um.renderToDataURL);Js.toString=Vl.bind(null,function(t,e,s){return gj.render(t,s)});var No;let jn=(No=class{static async generateToCanvas(e,s,n){const r={...this.defaultOptions,...n};try{await Js.toCanvas(e,s,r)}catch(i){throw console.error("QRÏΩîÎìú ÏÉùÏÑ± Ïã§Ìå®:",i),new Error("QRÏΩîÎìúÎ•º ÏÉùÏÑ±Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")}}static async generateToDataURL(e,s){const n={...this.defaultOptions,...s};try{return await Js.toDataURL(e,n)}catch(r){throw console.error("QRÏΩîÎìú ÏÉùÏÑ± Ïã§Ìå®:",r),new Error("QRÏΩîÎìúÎ•º ÏÉùÏÑ±Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")}}static async generateToBlob(e,s){const n={...this.defaultOptions,width:400,...s};try{const r=await this.generateToDataURL(e,n);return await(await fetch(r)).blob()}catch(r){throw console.error("QRÏΩîÎìú Blob ÏÉùÏÑ± Ïã§Ìå®:",r),new Error("QRÏΩîÎìú ÌååÏùºÏùÑ ÏÉùÏÑ±Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")}}static createReferralUrl(e,s){return`${s||window.location.origin}/auth?mode=signup&ref=${e}`}static downloadFile(e,s){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}static async downloadReferralQRCode(e,s){try{const n=this.createReferralUrl(e),r=await this.generateToBlob(n,s),i=`referral-qr-${e}.png`;this.downloadFile(r,i)}catch(n){throw console.error("QRÏΩîÎìú Îã§Ïö¥Î°úÎìú Ïã§Ìå®:",n),n}}static async shareReferralQRCode(e,s){if(!navigator.share)throw new Error("Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî Í≥µÏú† Í∏∞Îä•ÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.");try{const n=this.createReferralUrl(e),r=await this.generateToBlob(n,s),i=new File([r],`referral-qr-${e}.png`,{type:"image/png"});await navigator.share({title:"üîÆ Ïö¥Î™ÖÎÇòÏπ®Î∞ò Ï∂îÏ≤ú QRÏΩîÎìú",text:`Ï∂îÏ≤úÏù∏ ÏΩîÎìú: ${e}
Ìï®Íªò Í∞ÄÏûÖÌïòÎ©¥ ÌäπÎ≥Ñ ÌòúÌÉùÏùÑ Î∞õÏùÑ Ïàò ÏûàÏñ¥Ïöî!`,url:n,files:[i]})}catch(n){if(n instanceof Error&&n.name==="AbortError")return;throw console.error("QRÏΩîÎìú Í≥µÏú† Ïã§Ìå®:",n),new Error("QRÏΩîÎìúÎ•º Í≥µÏú†Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")}}},$(No,"defaultOptions",{width:200,margin:2,color:{dark:"#4338CA",light:"#FFFFFF"},errorCorrectionLevel:"M"}),No);const fj=({referralCode:t,className:e=""})=>{const s=v.useRef(null),[n,r]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState("idle"),[d,h]=v.useState("idle");v.useEffect(()=>{if(!t||!s.current)return;(async()=>{r(!0),o(null);try{const f=jn.createReferralUrl(t);await jn.generateToCanvas(s.current,f,{width:160,color:{dark:"#667eea",light:"#ffffff"}})}catch(f){o("QRÏΩîÎìúÎ•º ÏÉùÏÑ±Ìï† Ïàò ÏóÜÏäµÎãàÎã§."),console.error("QRÏΩîÎìú ÏÉùÏÑ± Ïò§Î•ò:",f)}finally{r(!1)}})()},[t]);const m=async()=>{if(t){c("downloading");try{await jn.downloadReferralQRCode(t,{width:400,color:{dark:"#667eea",light:"#ffffff"}}),c("success"),setTimeout(()=>c("idle"),2e3)}catch(g){console.error("Îã§Ïö¥Î°úÎìú Ïã§Ìå®:",g),c("error"),setTimeout(()=>c("idle"),2e3)}}},u=async()=>{if(t){h("sharing");try{if(typeof navigator.share=="function")await jn.shareReferralQRCode(t,{width:400,color:{dark:"#667eea",light:"#ffffff"}}),h("success");else{const g=jn.createReferralUrl(t);await navigator.clipboard.writeText(g),h("success")}setTimeout(()=>h("idle"),2e3)}catch(g){console.error("Í≥µÏú† Ïã§Ìå®:",g),h("error"),setTimeout(()=>h("idle"),2e3)}}};return a.jsx("div",{className:`bg-gradient-to-br from-indigo-500 via-purple-600 to-pink-600 rounded-xl p-6 text-white ${e}`,children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:"üì±"}),"QRÏΩîÎìúÎ°ú ÏâΩÍ≤å Í≥µÏú†ÌïòÍ∏∞"]}),a.jsx("div",{className:"inline-block bg-white p-4 rounded-xl shadow-lg mb-4",children:n?a.jsx("div",{className:"w-40 h-40 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-3 border-indigo-500 border-t-transparent rounded-full"})}):i?a.jsx("div",{className:"w-40 h-40 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-2xl mb-2",children:"‚ùå"}),a.jsx("div",{className:"text-xs",children:i})]})}):a.jsx("canvas",{ref:s,className:"block",style:{imageRendering:"pixelated"}})}),a.jsx("p",{className:"text-sm opacity-90 mb-4",children:"QRÏΩîÎìúÎ•º Ïä§Ï∫îÌïòÎ©¥ Î∞îÎ°ú Í∞ÄÏûÖ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï¥Ïöî!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a.jsx("button",{onClick:m,disabled:l==="downloading"||n||!!i,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${l==="downloading"?"bg-gray-400 cursor-not-allowed":l==="success"?"bg-green-500 hover:bg-green-600":l==="error"?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30 backdrop-blur-sm"}`,children:l==="downloading"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin inline-block mr-2",children:"‚è≥"}),"Îã§Ïö¥Î°úÎìú Ï§ë..."]}):l==="success"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"‚úÖ"}),"Îã§Ïö¥Î°úÎìú ÏôÑÎ£å"]}):l==="error"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"‚ùå"}),"Îã§Ïö¥Î°úÎìú Ïã§Ìå®"]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"üíæ"}),"PNG Îã§Ïö¥Î°úÎìú"]})}),a.jsx("button",{onClick:u,disabled:d==="sharing"||n||!!i,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${d==="sharing"?"bg-gray-400 cursor-not-allowed":d==="success"?"bg-green-500 hover:bg-green-600":d==="error"?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30 backdrop-blur-sm"}`,children:d==="sharing"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin inline-block mr-2",children:"‚è≥"}),"Í≥µÏú† Ï§ë..."]}):d==="success"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"‚úÖ"}),"Í≥µÏú† ÏôÑÎ£å"]}):d==="error"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"‚ùå"}),"Í≥µÏú† Ïã§Ìå®"]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"üîó"}),typeof navigator.share=="function"?"QR Í≥µÏú†ÌïòÍ∏∞":"ÎßÅÌÅ¨ Î≥µÏÇ¨"]})})]}),a.jsx("div",{className:"mt-4 text-xs opacity-75",children:a.jsx("p",{children:"üí° QRÏΩîÎìúÎ•º Ï†ÄÏû•Ìï¥ÏÑú Ïò§ÌîÑÎùºÏù∏ÏóêÏÑúÎèÑ Í≥µÏú†Ìï¥Î≥¥ÏÑ∏Ïöî!"})})]})})},xj=({className:t=""})=>{const{user:e,myReferralCode:s,isGeneratingReferralCode:n,referralStats:r,isLoadingReferralStats:i,error:o,generateMyReferralCode:l,loadReferralStats:c}=Qt(),[d,h]=v.useState("idle"),[m,u]=v.useState(!1);v.useEffect(()=>{e&&!s&&l()},[e,s,l]);const g=async()=>{if(s)try{await navigator.clipboard.writeText(s),h("copied"),setTimeout(()=>h("idle"),2e3)}catch(j){console.error("Î≥µÏÇ¨ Ïã§Ìå®:",j),h("error"),setTimeout(()=>h("idle"),2e3)}},f=async()=>{!m&&(!r||Object.keys(r).length===0)&&(e!=null&&e.id)&&await c(e.id),u(!m)},x=()=>s?`${window.location.origin}/auth?mode=signup&ref=${s}`:"",b=()=>s?`üîÆ Ïö¥Î™ÖÎÇòÏπ®Î∞òÏóêÏÑú ÎãπÏã†Ïùò Ïö¥Î™ÖÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî!

Ï∂îÏ≤úÏù∏ ÏΩîÎìú: ${s}
ÎßÅÌÅ¨: ${x()}

‚ú® Ìï®Íªò Í∞ÄÏûÖÌïòÎ©¥ ÌäπÎ≥Ñ ÌòúÌÉùÏùÑ Î∞õÏùÑ Ïàò ÏûàÏñ¥Ïöî!`:"",y=j=>{const S=b(),C=x();switch(j){case"kakao":window.Kakao&&window.Kakao.Share?window.Kakao.Share.sendDefault({objectType:"text",text:S,link:{mobileWebUrl:C,webUrl:C}}):g();break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(C)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(S)}`,"_blank");break;case"copy":navigator.clipboard.writeText(S),h("copied"),setTimeout(()=>h("idle"),2e3);break}};return e?a.jsxs("div",{className:`space-y-6 ${t}`,children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üéÅ"}),"ÎÇ¥ Ï∂îÏ≤ú ÏΩîÎìú"]}),a.jsxs("button",{onClick:f,className:"text-sm text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 flex items-center space-x-1",children:[a.jsx("span",{children:"Ïã§Ï†Å Î≥¥Í∏∞"}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full mr-3"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ï∂îÏ≤ú ÏΩîÎìú ÏÉùÏÑ± Ï§ë..."})]}):s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 border-2 border-purple-200 dark:border-purple-700 rounded-lg p-4",children:a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-2xl font-mono tracking-widest text-purple-700 dark:text-purple-300",children:s})})}),a.jsx("button",{onClick:g,className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${d==="copied"?"bg-green-500 text-white":d==="error"?"bg-red-500 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:d==="copied"?"‚úì Î≥µÏÇ¨Îê®":d==="error"?"‚ùå Ïã§Ìå®":"üìã Î≥µÏÇ¨"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[a.jsxs("button",{onClick:()=>y("kakao"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors text-sm",children:[a.jsx("span",{children:"üí¨"}),a.jsx("span",{children:"Ïπ¥Ïπ¥Ïò§ÌÜ°"})]}),a.jsxs("button",{onClick:()=>y("facebook"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:[a.jsx("span",{children:"üìò"}),a.jsx("span",{children:"ÌéòÏù¥Ïä§Î∂Å"})]}),a.jsxs("button",{onClick:()=>y("twitter"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors text-sm",children:[a.jsx("span",{children:"üê¶"}),a.jsx("span",{children:"Ìä∏ÏúÑÌÑ∞"})]}),a.jsxs("button",{onClick:()=>y("copy"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:[a.jsx("span",{children:"üìé"}),a.jsx("span",{children:"ÎßÅÌÅ¨Î≥µÏÇ¨"})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:a.jsx("span",{className:"font-medium",children:"ÏπúÍµ¨ Ï∂îÏ≤ú ÌòúÌÉù"})}),a.jsxs("ul",{className:"text-xs text-blue-600 dark:text-blue-400 space-y-1",children:[a.jsx("li",{children:"‚Ä¢ ÏπúÍµ¨Í∞Ä Í∞ÄÏûÖÌïòÎ©¥ Îëò Îã§ ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä• 1Í∞úÏõî Î¨¥Î£å"}),a.jsx("li",{children:"‚Ä¢ ÌäπÎ≥Ñ ÏÇ¨Ï£º Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏ Ï†úÍ≥µ"}),a.jsx("li",{children:"‚Ä¢ Í∂ÅÌï© Î∂ÑÏÑù ÏÑúÎπÑÏä§ Î¨¥Ï†úÌïú Ïù¥Ïö©"})]})]}),a.jsx(fj,{referralCode:s,className:"mt-4"})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Ï∂îÏ≤ú ÏΩîÎìúÎ•º ÏÉùÏÑ±Ìï† Ïàò ÏóÜÏäµÎãàÎã§."}),a.jsx("button",{onClick:l,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Îã§Ïãú ÏãúÎèÑ"})]})]}),m&&a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üìä"}),"Ï∂îÏ≤ú Ïã§Ï†Å"]}),i?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full mr-3"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ïã§Ï†Å Î°úÎî© Ï§ë..."})]}):r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.totalReferred}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï¥ù Ï∂îÏ≤ú Ïù∏Ïõê"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.pendingRewards}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÎåÄÍ∏∞ Ï§ëÏù∏ ÌòúÌÉù"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:r.totalRewards}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Î∞õÏùÄ Ï¥ù ÌòúÌÉù"})]})]}),r.referredUsers.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Ï∂îÏ≤úÌïú ÏπúÍµ¨Îì§"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.referredUsers.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:j.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white",children:j.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(j.joinedAt).toLocaleDateString("ko-KR")," Í∞ÄÏûÖ"]})]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.rewardStatus==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:j.rewardStatus==="completed"?"ÌòúÌÉù ÏßÄÍ∏â ÏôÑÎ£å":"ÌòúÌÉù ÎåÄÍ∏∞ Ï§ë"})]},j.id))})]}),r.referredUsers.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üéØ"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"ÏïÑÏßÅ Ï∂îÏ≤úÌïú ÏπúÍµ¨Í∞Ä ÏóÜÏñ¥Ïöî"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"ÏπúÍµ¨Îì§ÏóêÍ≤å Ï∂îÏ≤ú ÏΩîÎìúÎ•º Í≥µÏú†Ìï¥Î≥¥ÏÑ∏Ïöî!"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Ïã§Ï†Å Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§."}),a.jsx("button",{onClick:()=>(e==null?void 0:e.id)&&c(e.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Îã§Ïãú ÏãúÎèÑ"})]})]}),o&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-red-600",children:"‚ö†Ô∏è"}),a.jsx("span",{className:"text-red-700 dark:text-red-400 text-sm",children:o})]})})]}):null},Ar=Al("calendar");async function Wm(t=1,e=20,s=""){const n=new URLSearchParams({page:t.toString(),limit:e.toString(),search:s}),r=await fetch(`${Ar}/customers?${n}`);if(!r.ok)throw new Error("Í≥†Í∞ù Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§");return r.json()}async function pj(t){const e=await fetch(`${Ar}/customers/${t}`);if(!e.ok)throw new Error("Í≥†Í∞ù Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§");return e.json()}async function Ym(t){const e=await fetch(`${Ar}/customers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const s=await e.json();throw new Error(s.error||"Í≥†Í∞ù Îì±Î°ùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§")}return e.json()}async function bj(t,e){const s=await fetch(`${Ar}/customers/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const n=await s.json();throw new Error(n.error||"Í≥†Í∞ù Ï†ïÎ≥¥ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§")}return s.json()}async function yj(t){const e=await fetch(`${Ar}/customers/${t}`,{method:"DELETE"});if(!e.ok){const s=await e.json();throw new Error(s.error||"Í≥†Í∞ù ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§")}return e.json()}function Gm({embedded:t=!1}){const[e,s]=v.useState([]),[n,r]=v.useState(0),[i,o]=v.useState(1),[l,c]=v.useState(""),[d,h]=v.useState(!1),[m,u]=v.useState(null),[g,f]=v.useState(!1),[x,b]=v.useState({name:"",birth_date:"",birth_time:"",phone:"",lunar_solar:"solar",gender:"male",memo:""});v.useEffect(()=>{y()},[i,l]);const y=async()=>{try{f(!0);const N=await Wm(i,20,l);s(N.data),r(N.totalPages)}catch(N){console.error("Error loading customers:",N),alert("Í≥†Í∞ù Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§")}finally{f(!1)}},j=async N=>{N.preventDefault();try{m?(await bj(m.id,x),alert("Í≥†Í∞ù Ï†ïÎ≥¥Í∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§")):(await Ym(x),alert("Í≥†Í∞ùÏù¥ Îì±Î°ùÎêòÏóàÏäµÎãàÎã§")),h(!1),u(null),w(),y()}catch(k){alert(k.message||"Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§")}},S=N=>{u(N),b({name:N.name,birth_date:N.birth_date,birth_time:N.birth_time,phone:N.phone,lunar_solar:N.lunar_solar,gender:N.gender,memo:N.memo||""}),h(!0)},C=async N=>{if(confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{await yj(N),alert("Í≥†Í∞ùÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§"),y()}catch(k){alert(k.message||"ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§")}},w=()=>{b({name:"",birth_date:"",birth_time:"",phone:"",lunar_solar:"solar",gender:"male",memo:""})},M=()=>{u(null),w(),h(!0)};return a.jsx("div",{className:t?"w-full":"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:a.jsxs("div",{className:t?"w-full":"max-w-7xl mx-auto",children:[a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${t?"border border-gray-200 dark:border-gray-600":""}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:`${t?"text-lg":"text-2xl"} font-bold text-gray-900 dark:text-white`,children:"üóÇÔ∏è Í≥†Í∞ù Í¥ÄÎ¶¨"}),a.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"‚ûï ÏÉà Í≥†Í∞ù Îì±Î°ù"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("input",{type:"text",placeholder:"üîç Ïù¥Î¶Ñ ÎòêÎäî Ï†ÑÌôîÎ≤àÌò∏Î°ú Í≤ÄÏÉâ...",value:l,onChange:N=>c(N.target.value),className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"Î≤àÌò∏"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"Ïù¥Î¶Ñ"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"ÏÉùÎÖÑÏõîÏùº"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"ÏÉùÏãú"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"Ï†ÑÌôîÎ≤àÌò∏"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"Ïùå/Ïñë"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"ÏÑ±Î≥Ñ"}),a.jsx("th",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:"Í¥ÄÎ¶¨"})]})}),a.jsx("tbody",{children:g?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:"Î°úÎî© Ï§ë..."})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:"Îì±Î°ùÎêú Í≥†Í∞ùÏù¥ ÏóÜÏäµÎãàÎã§"})}):e.map((N,k)=>a.jsxs("tr",{className:"border-b dark:border-gray-700",children:[a.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-white",children:(i-1)*20+k+1}),a.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-white font-medium",children:N.name}),a.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:N.birth_date}),a.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:N.birth_time}),a.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:N.phone}),a.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:N.lunar_solar==="lunar"?"ÏùåÎ†•":"ÏñëÎ†•"}),a.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:N.gender==="male"?"ÎÇ®":"Ïó¨"}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("button",{onClick:()=>S(N),className:"text-blue-600 hover:text-blue-800 mr-3",children:"‚úèÔ∏è"}),a.jsx("button",{onClick:()=>C(N.id),className:"text-red-600 hover:text-red-800",children:"üóëÔ∏è"})]})]},N.id))})]})}),n>1&&a.jsxs("div",{className:"flex justify-center mt-6 space-x-2",children:[a.jsx("button",{onClick:()=>o(N=>Math.max(1,N-1)),disabled:i===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"‚óÄ"}),[...Array(n)].map((N,k)=>a.jsx("button",{onClick:()=>o(k+1),className:`px-3 py-1 border rounded ${i===k+1?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:k+1},k)),a.jsx("button",{onClick:()=>o(N=>Math.min(n,N+1)),disabled:i===n,className:"px-3 py-1 border rounded disabled:opacity-50",children:"‚ñ∂"})]})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white",children:m?"Í≥†Í∞ù Ï†ïÎ≥¥ ÏàòÏ†ï":"ÏÉà Í≥†Í∞ù Îì±Î°ù"}),a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Ïù¥Î¶Ñ *"}),a.jsx("input",{type:"text",required:!0,value:x.name,onChange:N=>b({...x,name:N.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"ÏÉùÎÖÑÏõîÏùº *"}),a.jsx("input",{type:"date",required:!0,value:x.birth_date,onChange:N=>b({...x,birth_date:N.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"ÏÉùÏãú * (24ÏãúÍ∞Ñ ÌòïÏãù)"}),a.jsx("input",{type:"time",required:!0,value:x.birth_time,onChange:N=>b({...x,birth_time:N.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Ï†ÑÌôîÎ≤àÌò∏ *"}),a.jsx("input",{type:"tel",required:!0,placeholder:"010-1234-5678",value:x.phone,onChange:N=>b({...x,phone:N.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"ÏùåÎ†•/ÏñëÎ†•"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"solar",checked:x.lunar_solar==="solar",onChange:N=>b({...x,lunar_solar:"solar"}),className:"mr-2"}),"ÏñëÎ†•"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"lunar",checked:x.lunar_solar==="lunar",onChange:N=>b({...x,lunar_solar:"lunar"}),className:"mr-2"}),"ÏùåÎ†•"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"ÏÑ±Î≥Ñ *"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"male",checked:x.gender==="male",onChange:N=>b({...x,gender:"male"}),className:"mr-2"}),"ÎÇ®"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"female",checked:x.gender==="female",onChange:N=>b({...x,gender:"female"}),className:"mr-2"}),"Ïó¨"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Î©îÎ™®"}),a.jsx("textarea",{value:x.memo,onChange:N=>b({...x,memo:N.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{h(!1),u(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:"Ï∑®ÏÜå"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:m?"ÏàòÏ†ïÌïòÍ∏∞":"Îì±Î°ùÌïòÍ∏∞"})]})]})]})})]})})}function vj(){const t=ze(),{settings:e}=lt(),{setBirthInfo:s}=sr(),[n,r]=v.useState(e),[i,o]=v.useState("general"),[l,c]=v.useState({birthDate:"",birthTime:"",calendarType:"solar",gender:"",birthPlace:""}),[d,h]=v.useState("idle");v.useEffect(()=>{const f=localStorage.getItem("sajuapp-personal-info");if(f)try{const x=JSON.parse(f);c(x)}catch(x){console.error("Failed to parse saved personal info:",x)}},[]);const m=[{id:"general",label:"ÏùºÎ∞ò",icon:"‚öôÔ∏è"},{id:"calendar",label:"Ï∫òÎ¶∞Îçî",icon:"üìÖ"},{id:"diary",label:"Îã§Ïù¥Ïñ¥Î¶¨",icon:"üìù"},{id:"notifications",label:"ÏïåÎ¶º",icon:"üîî"},{id:"account",label:"Í≥ÑÏ†ï",icon:"üë§"},{id:"customers",label:"Í≥†Í∞ùÍ¥ÄÎ¶¨",icon:"üë•"}],u=()=>l.birthDate?l.birthTime?l.gender?!0:(alert("ÏÑ±Î≥ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî."),!1):(alert("Ï∂úÏÉùÏãúÍ∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1):(alert("ÏÉùÎÖÑÏõîÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1),g=async()=>{if(!(i==="general"&&!u())){h("saving");try{if(i==="general"){localStorage.setItem("sajuapp-personal-info",JSON.stringify(l));const f={year:new Date(l.birthDate).getFullYear(),month:new Date(l.birthDate).getMonth()+1,day:new Date(l.birthDate).getDate(),hour:parseInt(l.birthTime.split(":")[0])||0,minute:parseInt(l.birthTime.split(":")[1])||0,isLunar:l.calendarType==="lunar",isMale:l.gender==="male",name:l.gender==="male"?"ÏÇ¨Ïö©Ïûê(ÎÇ®)":"ÏÇ¨Ïö©Ïûê(Ïó¨)"};s(f),console.log("[ÏÑ§Ï†ïÌéòÏù¥ÏßÄ] ÏÇ¨Ï£º Ï†ïÎ≥¥ Ï†ÄÏû•Îê®:",f);const x=sr.getState().birthInfo;console.log("[ÏÑ§Ï†ïÌéòÏù¥ÏßÄ] StoreÏóê Ï†ÄÏû•Îêú Ï†ïÎ≥¥:",x),window.dispatchEvent(new CustomEvent("personalInfoUpdated",{detail:l}))}localStorage.setItem("sajuapp-settings",JSON.stringify(n)),h("saved"),setTimeout(()=>{h("idle"),i==="general"&&window.confirm("ÏÑ§Ï†ïÏù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§. Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÎü¨ Ï∫òÎ¶∞ÎçîÎ°ú Ïù¥ÎèôÌïòÏãúÍ≤†ÏäµÎãàÍπå?")&&t("/calendar")},2e3),console.log("Settings saved successfully:",{personalInfo:i==="general"?l:"not updated",localSettings:n})}catch(f){console.error("Failed to save settings:",f),h("error"),alert("ÏÑ§Ï†ï Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")}}};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-6",children:"ÏÑ§Ï†ï"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-64",children:a.jsx("nav",{className:"bg-background rounded-lg shadow-sm border border-border p-2",children:m.map(f=>a.jsxs("button",{onClick:()=>o(f.id),className:`
                    w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors
                    ${i===f.id?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                  `,children:[a.jsx("span",{className:"text-xl",children:f.icon}),a.jsx("span",{className:"font-medium",children:f.label})]},f.id))})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"bg-background rounded-lg shadow-sm border border-border p-6",children:[i==="general"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"ÏùºÎ∞ò ÏÑ§Ï†ï"}),a.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl border border-purple-200 dark:border-purple-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üéÇ"}),"ÏÇ¨Ï£º Ï†ïÎ≥¥ (Í∞úÏù∏Ìôî Ïö¥ÏÑ∏Î•º ÏúÑÌï¥ ÌïÑÏöî)"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÏÉùÎÖÑÏõîÏùº *"}),a.jsx("input",{type:"date",value:l.birthDate,onChange:f=>c({...l,birthDate:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"YYYY-MM-DD"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ï∂úÏÉù ÏãúÍ∞Ñ *"}),a.jsx("input",{type:"time",step:"1800",value:l.birthTime,onChange:f=>c({...l,birthTime:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"24ÏãúÍ∞Ñ ÌòïÏãùÏúºÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî (Ïòà: 14:30)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Îã¨Î†• Ï¢ÖÎ•ò *"}),a.jsxs("select",{value:l.calendarType,onChange:f=>c({...l,calendarType:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:[a.jsx("option",{value:"solar",children:"ÏñëÎ†•"}),a.jsx("option",{value:"lunar",children:"ÏùåÎ†•"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÏÑ±Î≥Ñ *"}),a.jsxs("select",{value:l.gender,onChange:f=>c({...l,gender:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:[a.jsx("option",{value:"",children:"ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"}),a.jsx("option",{value:"male",children:"ÎÇ®ÏÑ±"}),a.jsx("option",{value:"female",children:"Ïó¨ÏÑ±"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Ï†ÑÌÜµ ÏÇ¨Ï£ºÌïôÏóêÏÑú ÏÑ±Î≥ÑÏóê Îî∞Î•∏ Ìï¥ÏÑùÏù¥ Îã¨ÎùºÏßëÎãàÎã§"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ï∂úÏÉùÏßÄ (ÏÑ†ÌÉùÏÇ¨Ìï≠)"}),a.jsx("input",{type:"text",value:l.birthPlace,onChange:f=>c({...l,birthPlace:f.target.value}),placeholder:"Ïòà: ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Îçî Ï†ïÌôïÌïú ÏãúÍ∞Ñ Í≥ÑÏÇ∞ÏùÑ ÏúÑÌï¥ Ï∂úÏÉùÏßÄÎ•º ÏûÖÎ†•Ìï† Ïàò ÏûàÏäµÎãàÎã§"})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["üí° ",a.jsx("strong",{children:"Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏:"})," ÏûÖÎ†•ÌïòÏã† Ï†ïÎ≥¥Îäî Í∞úÏù∏ÌôîÎêú Ïö¥ÏÑ∏ Ï†úÍ≥µÏùÑ ÏúÑÌï¥ÏÑúÎßå ÏÇ¨Ïö©ÎêòÎ©∞, Î°úÏª¨Ïóê ÏïàÏ†ÑÌïòÍ≤å Ï†ÄÏû•Îê©ÎãàÎã§."]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"ÌÖåÎßà"}),a.jsxs("select",{value:n.theme,onChange:f=>r({...n,theme:f.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"light",children:"ÎùºÏù¥Ìä∏"}),a.jsx("option",{value:"dark",children:"Îã§ÌÅ¨"}),a.jsx("option",{value:"system",children:"ÏãúÏä§ÌÖú ÏÑ§Ï†ï Îî∞Î•¥Í∏∞"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ïñ∏Ïñ¥"}),a.jsxs("select",{value:n.language,onChange:f=>r({...n,language:f.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"ko",children:"ÌïúÍµ≠Ïñ¥"}),a.jsx("option",{value:"en",children:"English"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"ÏãúÍ∞ÑÎåÄ"}),a.jsxs("select",{value:n.timezone,onChange:f=>r({...n,timezone:f.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"Asia/Seoul",children:"ÏÑúÏö∏ (GMT+9)"}),a.jsx("option",{value:"America/New_York",children:"Îâ¥Ïöï (GMT-5)"}),a.jsx("option",{value:"Europe/London",children:"Îü∞Îçò (GMT+0)"})]})]})]}),i==="calendar"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Ï∫òÎ¶∞Îçî ÏÑ§Ï†ï"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Í∏∞Î≥∏ Î≥¥Í∏∞"}),a.jsxs("select",{value:n.defaultView,onChange:f=>r({...n,defaultView:f.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"year",children:"ÎÖÑ"}),a.jsx("option",{value:"month",children:"Ïõî"}),a.jsx("option",{value:"week",children:"Ï£º"}),a.jsx("option",{value:"day",children:"Ïùº"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ï£º ÏãúÏûëÏùº"}),a.jsxs("select",{value:n.weekStartsOn,onChange:f=>r({...n,weekStartsOn:parseInt(f.target.value)}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"0",children:"ÏùºÏöîÏùº"}),a.jsx("option",{value:"1",children:"ÏõîÏöîÏùº"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:n.showLunarCalendar,onChange:f=>r({...n,showLunarCalendar:f.target.checked}),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"ÏùåÎ†• ÎÇ†Ïßú ÌëúÏãú"})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:n.showFortune,onChange:f=>r({...n,showFortune:f.target.checked}),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"Ïö¥ÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú"})]})})]}),i==="diary"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Îã§Ïù¥Ïñ¥Î¶¨ ÏÑ§Ï†ï"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Í∏∞Î≥∏ Í≥µÍ∞ú Î≤îÏúÑ"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",children:[a.jsx("option",{value:"private",children:"ÎπÑÍ≥µÍ∞ú"}),a.jsx("option",{value:"friends",children:"ÏπúÍµ¨Îßå"}),a.jsx("option",{value:"public",children:"Ï†ÑÏ≤¥ Í≥µÍ∞ú"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"ÏùºÏùº ÏïåÎ¶º ÌôúÏÑ±Ìôî"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 ml-7",children:"Îß§Ïùº Ï†ÄÎÖÅ 9ÏãúÏóê Îã§Ïù¥Ïñ¥Î¶¨ ÏûëÏÑ± ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"ÏûêÎèô Ï†ÄÏû•"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 ml-7",children:"ÏûëÏÑ± Ï§ëÏù∏ ÎÇ¥Ïö©ÏùÑ 30Ï¥àÎßàÎã§ ÏûêÎèôÏúºÎ°ú Ï†ÄÏû•Ìï©ÎãàÎã§."})]})]}),i==="notifications"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"ÏïåÎ¶º ÏÑ§Ï†ï"}),a.jsx(_1,{})]}),i==="account"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Í≥ÑÏ†ï ÏÑ§Ï†ï"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ïù¥Î©îÏùº"}),a.jsx("input",{type:"email",defaultValue:"user@example.com",disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"ÏÇ¨Ïö©ÏûêÎ™Ö"}),a.jsx("input",{type:"text",defaultValue:"ÌôçÍ∏∏Îèô",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center text-2xl text-muted-foreground",children:"üë§"}),a.jsx("button",{className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"ÏÇ¨ÏßÑ Î≥ÄÍ≤Ω"})]})]}),a.jsx("div",{className:"pt-4 border-t border-border",children:a.jsx(xj,{})}),a.jsx("div",{className:"pt-4 border-t border-border",children:a.jsx("button",{className:"px-4 py-2 text-red-600 hover:bg-red-500/10 rounded-lg transition-colors",children:"Í≥ÑÏ†ï ÏÇ≠Ï†ú"})})]}),i==="customers"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Í≥†Í∞ùÍ¥ÄÎ¶¨"}),a.jsx(Gm,{embedded:!0}),a.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[a.jsxs("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:[a.jsx("span",{className:"mr-2",children:"‚öôÔ∏è"}),"Í≥†Í∞ù Îç∞Ïù¥ÌÑ∞ ÏÑ§Ï†ï"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"Í≥†Í∞ù Ï†ïÎ≥¥ ÏûêÎèô Î∞±ÏóÖ"})]}),a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"ÏÉÅÎã¥ ÏïåÎ¶º ÌôúÏÑ±Ìôî"})]}),a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary border-border rounded focus:ring-primary/50"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"Í≥†Í∞ù ÏÉùÏùº ÏïåÎ¶º"})]})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-border flex justify-end gap-3",children:[a.jsx("button",{className:"px-6 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors",children:"Ï∑®ÏÜå"}),a.jsx("button",{onClick:g,disabled:d==="saving",className:`px-6 py-2 rounded-lg transition-colors ${d==="saving"?"bg-gray-400 cursor-not-allowed text-white":d==="saved"?"bg-green-500 hover:bg-green-600 text-white":"bg-primary-500 hover:bg-primary-600 text-white"}`,children:d==="saving"?"Ï†ÄÏû• Ï§ë...":d==="saved"?"‚úì Ï†ÄÏû• ÏôÑÎ£å":"Ï†ÄÏû•"})]})]})})]})]})})}const jj=()=>{const[t,e]=v.useState(new Date),[s,n]=v.useState(null),[r,i]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState(!1);v.useEffect(()=>{(()=>{const x=localStorage.getItem("sajuapp-personal-info");if(x)try{const b=JSON.parse(x);l(b),d(!1)}catch(b){console.error("Failed to parse personal info:",b),d(!0)}else d(!0)})();const f=x=>{l(x.detail),d(!1)};return window.addEventListener("personalInfoUpdated",f),()=>{window.removeEventListener("personalInfoUpdated",f)}},[]);const h=()=>({date:t.toISOString().split("T")[0],overallScore:Math.floor(Math.random()*30)+70,categories:{love:{score:Math.floor(Math.random()*100),description:"ÏÉàÎ°úÏö¥ ÎßåÎÇ®Ïùò Í∏∞ÌöåÍ∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§. Ïó¥Î¶∞ ÎßàÏùåÏúºÎ°ú ÎåÄÌôîÎ•º ÎÇòÎàÑÏñ¥Î≥¥ÏÑ∏Ïöî."},career:{score:Math.floor(Math.random()*100),description:"ÏóÖÎ¨¥ÏóêÏÑú Ï§ëÏöîÌïú ÏÑ±Í≥ºÎ•º ÎÇº Ïàò ÏûàÎäî ÎÇ†ÏûÖÎãàÎã§. ÏßëÏ§ëÎ†•ÏùÑ Î∞úÌúòÌïòÏÑ∏Ïöî."},money:{score:Math.floor(Math.random()*100),description:"Ïû¨Ï†ï Í¥ÄÎ¶¨Ïóê Ïã†Ï§ëÏùÑ Í∏∞ÌïòÏÑ∏Ïöî. Ï∂©ÎèôÏ†ÅÏù∏ ÏÜåÎπÑÎäî ÌîºÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§."},health:{score:Math.floor(Math.random()*100),description:"Ï∂©Î∂ÑÌïú Ìú¥ÏãùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. Ïä§Ìä∏Î†àÏä§ Í¥ÄÎ¶¨Ïóê Ïú†ÏùòÌïòÏÑ∏Ïöî."}},luckyItems:{number:Math.floor(Math.random()*100),color:["Îπ®Í∞ï","ÌååÎûë","ÎÖ∏Îûë","Ï¥àÎ°ù","Î≥¥Îùº"][Math.floor(Math.random()*5)],direction:["Îèô","ÏÑú","ÎÇ®","Î∂Å","Ï§ëÏïô"][Math.floor(Math.random()*5)],time:`${Math.floor(Math.random()*12)+1}Ïãú`},advice:"Ïò§ÎäòÏùÄ Í∏çÏ†ïÏ†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä Ï∂©ÎßåÌïú ÎÇ†ÏûÖÎãàÎã§. ÌèâÏÜå ÎØ∏Î£®Ïñ¥ÏôîÎçò ÏùºÏùÑ ÏãúÏûëÌïòÍ∏∞Ïóê Ï¢ãÏùÄ ÏãúÍ∏∞ÏûÖÎãàÎã§.",warning:"Í≥ºÎèÑÌïú ÏûêÏã†Í∞êÏùÄ Ïã§ÏàòÎ•º Î∂ÄÎ•º Ïàò ÏûàÏúºÎãà Í≤∏ÏÜêÌïú ÏûêÏÑ∏Î•º Ïú†ÏßÄÌïòÏÑ∏Ïöî."});v.useEffect(()=>{if(!o||c){n(null);return}i(!0),setTimeout(()=>{n(h()),i(!1)},500)},[t,o,c]);const m=g=>g>=80?"text-green-600 dark:text-green-400":g>=60?"text-yellow-600 dark:text-yellow-400":g>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",u=g=>g>=80?"üòÑ":g>=60?"üôÇ":g>=40?"üòê":"üòî";return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"üîÆ Ïò§ÎäòÏùò Ïö¥ÏÑ∏"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"AIÏôÄ Ï†ÑÌÜµ ÏÇ¨Ï£ºÎ™ÖÎ¶¨ÌïôÏù¥ Î∂ÑÏÑùÌïú ÎãπÏã†Ïùò ÌïòÎ£®"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("input",{type:"date",value:t.toISOString().split("T")[0],onChange:g=>e(new Date(g.target.value)),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})}),r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):c?a.jsx("div",{className:"max-w-md mx-auto text-center",children:a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üîÆ"}),a.jsx("h3",{className:"text-xl font-semibold text-yellow-800 dark:text-yellow-200 mb-4",children:"Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Ï†ïÌôïÌïú ÏÇ¨Ï£º Î∂ÑÏÑùÏùÑ ÏúÑÌï¥ ÏÉùÎÖÑÏõîÏùº, Ï∂úÏÉùÏãúÍ∞Ñ Îì±Ïùò Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}),a.jsx("button",{onClick:()=>window.location.href="/settings",className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"‚öôÔ∏è ÏÑ§Ï†ïÏóêÏÑú Í∞úÏù∏Ï†ïÎ≥¥ ÏûÖÎ†•ÌïòÍ∏∞"})]})}):s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-8 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ï¢ÖÌï© Ïö¥ÏÑ∏ Ï†êÏàò"}),a.jsxs("div",{className:"text-6xl font-bold mb-2",children:[s.overallScore,"Ï†ê"]}),a.jsx("div",{className:"text-4xl mb-4",children:u(s.overallScore)}),a.jsx("p",{className:"text-lg opacity-90",children:s.advice})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(s.categories).map(([g,f])=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white capitalize",children:[g==="love"&&"üíï Ïó∞Ïï†Ïö¥",g==="career"&&"üíº ÏßÅÏû•Ïö¥",g==="money"&&"üí∞ Í∏àÏ†ÑÏö¥",g==="health"&&"üèÉ Í±¥Í∞ïÏö¥"]}),a.jsxs("span",{className:`text-2xl font-bold ${m(f.score)}`,children:[f.score,"Ï†ê"]})]}),a.jsx("div",{className:"relative h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-4",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${f.score}%`}})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:f.description})]},g))}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"üçÄ Ïò§ÎäòÏùò ÌñâÏö¥ ÏïÑÏù¥ÌÖú"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[a.jsx("span",{className:"text-3xl mb-2 block",children:"üî¢"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÌñâÏö¥Ïùò Ïà´Ïûê"}),a.jsx("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:s.luckyItems.number})]}),a.jsxs("div",{className:"text-center p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[a.jsx("span",{className:"text-3xl mb-2 block",children:"üé®"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÌñâÏö¥Ïùò ÏÉâ"}),a.jsx("p",{className:"text-lg font-bold text-pink-600 dark:text-pink-400",children:s.luckyItems.color})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("span",{className:"text-3xl mb-2 block",children:"üß≠"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Í∏∏Ìïú Î∞©Ìñ•"}),a.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:s.luckyItems.direction})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("span",{className:"text-3xl mb-2 block",children:"‚è∞"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÌñâÏö¥Ïùò ÏãúÍ∞Ñ"}),a.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:s.luckyItems.time})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"‚ö†Ô∏è Ïò§ÎäòÏùò Ï£ºÏùòÏÇ¨Ìï≠"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.warning})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"üì± Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú†"}),a.jsx("button",{className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"üí¨ ÎÑ§Ïù¥Î≤Ñ Í≥µÏú†"}),a.jsx("button",{className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"üì∑ Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû•"})]})]}):null]})},Dd=["Í∞ëÏûê","ÏùÑÏ∂ï","Î≥ëÏù∏","Ï†ïÎ¨ò","Î¨¥ÏßÑ","Í∏∞ÏÇ¨","Í≤ΩÏò§","Ïã†ÎØ∏","ÏûÑÏã†","Í≥ÑÏú†","Í∞ëÏà†","ÏùÑÌï¥","Î≥ëÏûê","Ï†ïÏ∂ï","Î¨¥Ïù∏","Í∏∞Î¨ò","Í≤ΩÏßÑ","Ïã†ÏÇ¨","ÏûÑÏò§","Í≥ÑÎØ∏","Í∞ëÏã†","ÏùÑÏú†","Î≥ëÏà†","Ï†ïÌï¥","Î¨¥Ïûê","Í∏∞Ï∂ï","Í≤ΩÏù∏","Ïã†Î¨ò","ÏûÑÏßÑ","Í≥ÑÏÇ¨","Í∞ëÏò§","ÏùÑÎØ∏","Î≥ëÏã†","Ï†ïÏú†","Î¨¥Ïà†","Í∏∞Ìï¥","Í≤ΩÏûê","Ïã†Ï∂ï","ÏûÑÏù∏","Í≥ÑÎ¨ò","Í∞ëÏßÑ","ÏùÑÏÇ¨","Î≥ëÏò§","Ï†ïÎØ∏","Î¨¥Ïã†","Í∏∞Ïú†","Í≤ΩÏà†","Ïã†Ìï¥","ÏûÑÏûê","Í≥ÑÏ∂ï","Í∞ëÏù∏","ÏùÑÎ¨ò","Î≥ëÏßÑ","Ï†ïÏÇ¨","Î¨¥Ïò§","Í∏∞ÎØ∏","Í≤ΩÏã†","Ïã†Ïú†","ÏûÑÏà†","Í≥ÑÌï¥"],wj={Í∞ë:["Î≥ëÏù∏","Ï†ïÎ¨ò","Î¨¥ÏßÑ","Í∏∞ÏÇ¨","Í≤ΩÏò§","Ïã†ÎØ∏","ÏûÑÏã†","Í≥ÑÏú†","Í∞ëÏà†","ÏùÑÌï¥","Î≥ëÏûê","Ï†ïÏ∂ï"],ÏùÑ:["Î¨¥Ïù∏","Í∏∞Î¨ò","Í≤ΩÏßÑ","Ïã†ÏÇ¨","ÏûÑÏò§","Í≥ÑÎØ∏","Í∞ëÏã†","ÏùÑÏú†","Î≥ëÏà†","Ï†ïÌï¥","Î¨¥Ïûê","Í∏∞Ï∂ï"],Î≥ë:["Í≤ΩÏù∏","Ïã†Î¨ò","ÏûÑÏßÑ","Í≥ÑÏÇ¨","Í∞ëÏò§","ÏùÑÎØ∏","Î≥ëÏã†","Ï†ïÏú†","Î¨¥Ïà†","Í∏∞Ìï¥","Í≤ΩÏûê","Ïã†Ï∂ï"],Ï†ï:["ÏûÑÏù∏","Í≥ÑÎ¨ò","Í∞ëÏßÑ","ÏùÑÏÇ¨","Î≥ëÏò§","Ï†ïÎØ∏","Î¨¥Ïã†","Í∏∞Ïú†","Í≤ΩÏà†","Ïã†Ìï¥","ÏûÑÏûê","Í≥ÑÏ∂ï"],Î¨¥:["Í∞ëÏù∏","ÏùÑÎ¨ò","Î≥ëÏßÑ","Ï†ïÏÇ¨","Î¨¥Ïò§","Í∏∞ÎØ∏","Í≤ΩÏã†","Ïã†Ïú†","ÏûÑÏà†","Í≥ÑÌï¥","Í∞ëÏûê","ÏùÑÏ∂ï"],Í∏∞:["Î≥ëÏù∏","Ï†ïÎ¨ò","Î¨¥ÏßÑ","Í∏∞ÏÇ¨","Í≤ΩÏò§","Ïã†ÎØ∏","ÏûÑÏã†","Í≥ÑÏú†","Í∞ëÏà†","ÏùÑÌï¥","Î≥ëÏûê","Ï†ïÏ∂ï"],Í≤Ω:["Î¨¥Ïù∏","Í∏∞Î¨ò","Í≤ΩÏßÑ","Ïã†ÏÇ¨","ÏûÑÏò§","Í≥ÑÎØ∏","Í∞ëÏã†","ÏùÑÏú†","Î≥ëÏà†","Ï†ïÌï¥","Î¨¥Ïûê","Í∏∞Ï∂ï"],Ïã†:["Í≤ΩÏù∏","Ïã†Î¨ò","ÏûÑÏßÑ","Í≥ÑÏÇ¨","Í∞ëÏò§","ÏùÑÎØ∏","Î≥ëÏã†","Ï†ïÏú†","Î¨¥Ïà†","Í∏∞Ìï¥","Í≤ΩÏûê","Ïã†Ï∂ï"],ÏûÑ:["ÏûÑÏù∏","Í≥ÑÎ¨ò","Í∞ëÏßÑ","ÏùÑÏÇ¨","Î≥ëÏò§","Ï†ïÎØ∏","Î¨¥Ïã†","Í∏∞Ïú†","Í≤ΩÏà†","Ïã†Ìï¥","ÏûÑÏûê","Í≥ÑÏ∂ï"],Í≥Ñ:["Í∞ëÏù∏","ÏùÑÎ¨ò","Î≥ëÏßÑ","Ï†ïÏÇ¨","Î¨¥Ïò§","Í∏∞ÎØ∏","Í≤ΩÏã†","Ïã†Ïú†","ÏûÑÏà†","Í≥ÑÌï¥","Í∞ëÏûê","ÏùÑÏ∂ï"]},kj={Í∞ë:["Í∞ëÏûê","ÏùÑÏ∂ï","Î≥ëÏù∏","Ï†ïÎ¨ò","Î¨¥ÏßÑ","Í∏∞ÏÇ¨","Í≤ΩÏò§","Ïã†ÎØ∏","ÏûÑÏã†","Í≥ÑÏú†","Í∞ëÏà†","ÏùÑÌï¥"],ÏùÑ:["Î≥ëÏûê","Ï†ïÏ∂ï","Î¨¥Ïù∏","Í∏∞Î¨ò","Í≤ΩÏßÑ","Ïã†ÏÇ¨","ÏûÑÏò§","Í≥ÑÎØ∏","Í∞ëÏã†","ÏùÑÏú†","Î≥ëÏà†","Ï†ïÌï¥"],Î≥ë:["Î¨¥Ïûê","Í∏∞Ï∂ï","Í≤ΩÏù∏","Ïã†Î¨ò","ÏûÑÏßÑ","Í≥ÑÏÇ¨","Í∞ëÏò§","ÏùÑÎØ∏","Î≥ëÏã†","Ï†ïÏú†","Î¨¥Ïà†","Í∏∞Ìï¥"],Ï†ï:["Í≤ΩÏûê","Ïã†Ï∂ï","ÏûÑÏù∏","Í≥ÑÎ¨ò","Í∞ëÏßÑ","ÏùÑÏÇ¨","Î≥ëÏò§","Ï†ïÎØ∏","Î¨¥Ïã†","Í∏∞Ïú†","Í≤ΩÏà†","Ïã†Ìï¥"],Î¨¥:["ÏûÑÏûê","Í≥ÑÏ∂ï","Í∞ëÏù∏","ÏùÑÎ¨ò","Î≥ëÏßÑ","Ï†ïÏÇ¨","Î¨¥Ïò§","Í∏∞ÎØ∏","Í≤ΩÏã†","Ïã†Ïú†","ÏûÑÏà†","Í≥ÑÌï¥"],Í∏∞:["Í∞ëÏûê","ÏùÑÏ∂ï","Î≥ëÏù∏","Ï†ïÎ¨ò","Î¨¥ÏßÑ","Í∏∞ÏÇ¨","Í≤ΩÏò§","Ïã†ÎØ∏","ÏûÑÏã†","Í≥ÑÏú†","Í∞ëÏà†","ÏùÑÌï¥"],Í≤Ω:["Î≥ëÏûê","Ï†ïÏ∂ï","Î¨¥Ïù∏","Í∏∞Î¨ò","Í≤ΩÏßÑ","Ïã†ÏÇ¨","ÏûÑÏò§","Í≥ÑÎØ∏","Í∞ëÏã†","ÏùÑÏú†","Î≥ëÏà†","Ï†ïÌï¥"],Ïã†:["Î¨¥Ïûê","Í∏∞Ï∂ï","Í≤ΩÏù∏","Ïã†Î¨ò","ÏûÑÏßÑ","Í≥ÑÏÇ¨","Í∞ëÏò§","ÏùÑÎØ∏","Î≥ëÏã†","Ï†ïÏú†","Î¨¥Ïà†","Í∏∞Ìï¥"],ÏûÑ:["Í≤ΩÏûê","Ïã†Ï∂ï","ÏûÑÏù∏","Í≥ÑÎ¨ò","Í∞ëÏßÑ","ÏùÑÏÇ¨","Î≥ëÏò§","Ï†ïÎØ∏","Î¨¥Ïã†","Í∏∞Ïú†","Í≤ΩÏà†","Ïã†Ìï¥"],Í≥Ñ:["ÏûÑÏûê","Í≥ÑÏ∂ï","Í∞ëÏù∏","ÏùÑÎ¨ò","Î≥ëÏßÑ","Ï†ïÏÇ¨","Î¨¥Ïò§","Í∏∞ÎØ∏","Í≤ΩÏã†","Ïã†Ïú†","ÏûÑÏà†","Í≥ÑÌï¥"]};class Hl{static calculateYearPillar(e){let r=(e-1924)%60;r<0&&(r+=60);const i=Dd[r];return{heavenly:i[0],earthly:i[1],combined:i}}static getSolarMonth(e,s,n){return s===1?n>=6?12:11:s===2?n>=4?1:12:s===3?n>=6?2:1:s===4?n>=5?3:2:s===5?n>=6?4:3:s===6?n>=6?5:4:s===7?n>=7?6:5:s===8?n>=8?7:6:s===9?n>=8?8:7:s===10?n>=8?9:8:s===11?n>=7?10:9:s===12?n>=7?11:10:s}static calculateMonthPillar(e,s,n){const i=this.calculateYearPillar(e).heavenly,o=this.getSolarMonth(e,s,n),l=o-1,c=wj[i];if(!c)return console.error("Invalid year stem:",i),{heavenly:"Í∞ë",earthly:"Ïûê",combined:"Í∞ëÏûê"};const d=c[l];return d?(console.log("ÏõîÏ£º Í≥ÑÏÇ∞:",{ÏñëÎ†•:`${e}ÎÖÑ ${s}Ïõî ${n}Ïùº`,Ï†àÍ∏∞Ïõî:o,ÎÖÑÍ∞Ñ:i,ÏõîÏ£º:d}),{heavenly:d[0],earthly:d[1],combined:d}):(console.error("Invalid month index:",l),{heavenly:"Í∞ë",earthly:"Ïûê",combined:"Í∞ëÏûê"})}static calculateDayPillar(e,s,n){const r=new Date(1971,10,17),o=new Date(e,s-1,n).getTime()-r.getTime();let c=(42+Math.floor(o/(1e3*60*60*24)))%60;c<0&&(c+=60);const d=Dd[c];return{heavenly:d[0],earthly:d[1],combined:d}}static calculateHourPillar(e,s,n,r,i=0){const l=this.calculateDayPillar(e,s,n).heavenly;let c;const d=r+i/60;d>=23||d<1?c=0:d<3?c=1:d<5?c=2:d<7?c=3:d<9?c=4:d<11?c=5:d<13?c=6:d<15?c=7:d<17?c=8:d<19?c=9:d<21?c=10:c=11;const h=kj[l];if(!h)return console.error("Invalid day stem for hour calculation:",l),{heavenly:"Í∞ë",earthly:"Ïûê",combined:"Í∞ëÏûê"};const m=h[c];return{heavenly:m[0],earthly:m[1],combined:m}}static calculateFourPillars(e){let{year:s,month:n,day:r,hour:i,minute:o=0}=e;if(e.isLunar)try{const l=V2(s,n,r,e.isLeapMonth||!1);s=l.getFullYear(),n=l.getMonth()+1,r=l.getDate()}catch(l){console.error("ÏùåÎ†• Î≥ÄÌôò Ïò§Î•ò:",l)}return{year:this.calculateYearPillar(s),month:this.calculateMonthPillar(s,n,r),day:this.calculateDayPillar(s,n,r),hour:this.calculateHourPillar(s,n,r,i,o)}}static testReferenceCases(){console.log("=== ÏÇ¨Ï£º Í≥ÑÏÇ∞ ÌÖåÏä§Ìä∏ ===");const e={year:1971,month:11,day:17,hour:4,minute:0,isLunar:!1},s=this.calculateFourPillars(e);console.log(`
ÌÖåÏä§Ìä∏ 1: 1971ÎÖÑ 11Ïõî 17Ïùº 04Ïãú`),console.log("Í≤∞Í≥º:",Pd(s)),console.log("Í∏∞ÎåÄÍ∞í: Ïã†Ìï¥ÎÖÑ Í∏∞Ìï¥Ïõî Î≥ëÏò§Ïùº Í≤ΩÏù∏Ïãú"),console.log("Í≤ÄÏ¶ù:",s.year.combined==="Ïã†Ìï¥"&&s.month.combined==="Í∏∞Ìï¥"&&s.day.combined==="Î≥ëÏò§"&&s.hour.combined==="Í≤ΩÏù∏"?"‚úÖ Ï†ïÌôï":"‚ùå Ïò§Î•ò");const n={year:1976,month:9,day:16,hour:9,minute:40,isLunar:!1},r=this.calculateFourPillars(n);console.log(`
ÌÖåÏä§Ìä∏ 2: 1976ÎÖÑ 9Ïõî 16Ïùº 09Ïãú 40Î∂Ñ`),console.log("Í≤∞Í≥º:",Pd(r)),console.log("Í∏∞ÎåÄÍ∞í: Î≥ëÏßÑÎÖÑ Ï†ïÏú†Ïõî Ïã†ÎØ∏Ïùº Í≥ÑÏÇ¨Ïãú"),console.log("Í≤ÄÏ¶ù:",r.year.combined==="Î≥ëÏßÑ"&&r.month.combined==="Ï†ïÏú†"&&r.day.combined==="Ïã†ÎØ∏"&&r.hour.combined==="Í≥ÑÏÇ¨"?"‚úÖ Ï†ïÌôï":"‚ùå Ïò§Î•ò")}}function Pd(t){return`${t.year.heavenly}${t.year.earthly}ÎÖÑ ${t.month.heavenly}${t.month.earthly}Ïõî ${t.day.heavenly}${t.day.earthly}Ïùº ${t.hour.heavenly}${t.hour.earthly}Ïãú`}const Rd={Í∞ë:"wood",ÏùÑ:"wood",Î≥ë:"fire",Ï†ï:"fire",Î¨¥:"earth",Í∏∞:"earth",Í≤Ω:"metal",Ïã†:"metal",ÏûÑ:"water",Í≥Ñ:"water"},Nj={Ïûê:"water",Ï∂ï:"earth",Ïù∏:"wood",Î¨ò:"wood",ÏßÑ:"earth",ÏÇ¨:"fire",Ïò§:"fire",ÎØ∏:"earth",Ïã†:"metal",Ïú†:"metal",Ïà†:"earth",Ìï¥:"water"},Km={Ïûê:["Í≥Ñ"],Ï∂ï:["Í∏∞","Í≥Ñ","Ïã†"],Ïù∏:["Í∞ë","Î≥ë","Î¨¥"],Î¨ò:["ÏùÑ"],ÏßÑ:["Î¨¥","ÏùÑ","Í≥Ñ"],ÏÇ¨:["Î≥ë","Î¨¥","Í≤Ω"],Ïò§:["Ï†ï","Í∏∞"],ÎØ∏:["Í∏∞","Ï†ï","ÏùÑ"],Ïã†:["Í≤Ω","ÏûÑ","Î¨¥"],Ïú†:["Ïã†"],Ïà†:["Î¨¥","Ïã†","Ï†ï"],Ìï¥:["ÏûÑ","Í∞ë"]},$i={Í∞ë:{Í∞ë:"bijeon",ÏùÑ:"geopjae",Î≥ë:"siksin",Ï†ï:"sanggwan",Î¨¥:"pyeonjae",Í∏∞:"jeongjae",Í≤Ω:"pyeongwan",Ïã†:"jeonggwan",ÏûÑ:"pyeongin",Í≥Ñ:"jeongin"},ÏùÑ:{ÏùÑ:"bijeon",Í∞ë:"geopjae",Ï†ï:"siksin",Î≥ë:"sanggwan",Í∏∞:"pyeonjae",Î¨¥:"jeongjae",Ïã†:"pyeongwan",Í≤Ω:"jeonggwan",Í≥Ñ:"pyeongin",ÏûÑ:"jeongin"},Î≥ë:{Î≥ë:"bijeon",Ï†ï:"geopjae",Î¨¥:"siksin",Í∏∞:"sanggwan",Í≤Ω:"pyeonjae",Ïã†:"jeongjae",ÏûÑ:"pyeongwan",Í≥Ñ:"jeonggwan",Í∞ë:"pyeongin",ÏùÑ:"jeongin"},Ï†ï:{Ï†ï:"bijeon",Î≥ë:"geopjae",Í∏∞:"siksin",Î¨¥:"sanggwan",Ïã†:"pyeonjae",Í≤Ω:"jeongjae",Í≥Ñ:"pyeongwan",ÏûÑ:"jeonggwan",ÏùÑ:"pyeongin",Í∞ë:"jeongin"},Î¨¥:{Î¨¥:"bijeon",Í∏∞:"geopjae",Í≤Ω:"siksin",Ïã†:"sanggwan",ÏûÑ:"pyeonjae",Í≥Ñ:"jeongjae",Í∞ë:"pyeongwan",ÏùÑ:"jeonggwan",Î≥ë:"pyeongin",Ï†ï:"jeongin"},Í∏∞:{Í∏∞:"bijeon",Î¨¥:"geopjae",Ïã†:"siksin",Í≤Ω:"sanggwan",Í≥Ñ:"pyeonjae",ÏûÑ:"jeongjae",ÏùÑ:"pyeongwan",Í∞ë:"jeonggwan",Ï†ï:"pyeongin",Î≥ë:"jeongin"},Í≤Ω:{Í≤Ω:"bijeon",Ïã†:"geopjae",ÏûÑ:"siksin",Í≥Ñ:"sanggwan",Í∞ë:"pyeonjae",ÏùÑ:"jeongjae",Î≥ë:"pyeongwan",Ï†ï:"jeonggwan",Î¨¥:"pyeongin",Í∏∞:"jeongin"},Ïã†:{Ïã†:"bijeon",Í≤Ω:"geopjae",Í≥Ñ:"siksin",ÏûÑ:"sanggwan",ÏùÑ:"pyeonjae",Í∞ë:"jeongjae",Ï†ï:"pyeongwan",Î≥ë:"jeonggwan",Í∏∞:"pyeongin",Î¨¥:"jeongin"},ÏûÑ:{ÏûÑ:"bijeon",Í≥Ñ:"geopjae",Í∞ë:"siksin",ÏùÑ:"sanggwan",Î≥ë:"pyeonjae",Ï†ï:"jeongjae",Î¨¥:"pyeongwan",Í∏∞:"jeonggwan",Í≤Ω:"pyeongin",Ïã†:"jeongin"},Í≥Ñ:{Í≥Ñ:"bijeon",ÏûÑ:"geopjae",ÏùÑ:"siksin",Í∞ë:"sanggwan",Ï†ï:"pyeonjae",Î≥ë:"jeongjae",Í∏∞:"pyeongwan",Î¨¥:"jeonggwan",Ïã†:"pyeongin",Í≤Ω:"jeongin"}};function Sj(t){const e={wood:0,fire:0,earth:0,metal:0,water:0};[t.year,t.month,t.day,t.hour].forEach((r,i)=>{const o=Rd[r.heavenly];if(o){const d=i===2?20:15;e[o]+=d}const l=Nj[r.earthly];if(l){const d=i===2?15:10;e[l]+=d}(Km[r.earthly]||[]).forEach(d=>{const h=Rd[d];h&&(e[h]+=5)})});const n=Object.values(e).reduce((r,i)=>r+i,0);return n>0&&Object.keys(e).forEach(r=>{const i=r;e[i]=Math.round(e[i]/n*100)}),e}function Cj(t){const e=t.day.heavenly,s={bijeon:0,geopjae:0,siksin:0,sanggwan:0,jeongjae:0,pyeonjae:0,jeonggwan:0,pyeongwan:0,jeongin:0,pyeongin:0};return $i[e]?([t.year,t.month,t.day,t.hour].forEach((r,i)=>{const o=$i[e][r.heavenly];if(o){const c=i===2?15:10;s[o]+=c}(Km[r.earthly]||[]).forEach(c=>{const d=$i[e][c];d&&(s[d]+=5)})}),s):(console.error("Invalid day master:",e),s)}function _j(t,e){return{foundation:Mj(t,e),thinking:Ej(t,e),relationship:Tj(t,e),action:Aj(t,e),luck:Dj(t,e),environment:Pj(t,e)}}function Mj(t,e){const s=(t.wood+t.earth)/2,n=e.bijeon*2+e.jeongin*2;return Math.min(100,Math.round(s+n))}function Ej(t,e){const s=(t.water+t.fire)/2,n=e.siksin*2+e.sanggwan*1.5;return Math.min(100,Math.round(s+n))}function Tj(t,e){const s=(t.wood+t.fire)/2,n=e.jeongjae*2+e.pyeonjae*1.5;return Math.min(100,Math.round(s+n))}function Aj(t,e){const s=(t.metal+t.wood)/2,n=e.jeonggwan*2+e.pyeongwan*1.5;return Math.min(100,Math.round(s+n))}function Dj(t,e){const s=Object.values(t),n=s.reduce((l,c)=>l+c,0)/s.length,r=s.reduce((l,c)=>l+Math.pow(c-n,2),0)/s.length,i=Math.max(0,100-r*2),o=(e.jeongin+e.pyeongin+e.siksin)/3;return Math.min(100,Math.round(i*.6+o*.4))}function Pj(t,e){const s=(t.earth+t.water)/2,n=e.bijeon*1.5+e.geopjae*1.5;return Math.min(100,Math.round(s+n))}function Rj(t,e){return{emotion:Math.min(100,Math.round(t.water*.7+e.jeongin*2)),logic:Math.min(100,Math.round(t.metal*.7+e.jeonggwan*2)),artistic:Math.min(100,Math.round(t.fire*.7+e.siksin*2)),rational:Math.min(100,Math.round(t.earth*.7+e.sanggwan*2)),character:Math.min(100,Math.round(t.wood*.7+e.bijeon*2)),intelligence:Math.min(100,Math.round((t.water+t.metal)*.4+e.pyeongin*2)),learning:Math.min(100,Math.round(t.wood*.5+e.jeongin*2.5))}}function Lj(t,e){return{health:Math.min(100,Math.round(t.wood*.8+e.bijeon*2)),marriage:Math.min(100,Math.round(t.fire*.6+(e.jeongjae+e.pyeonjae)*1.5)),power:Math.min(100,Math.round(t.metal*.7+(e.jeonggwan+e.pyeongwan)*1.5)),fame:Math.min(100,Math.round(t.fire*.8+e.siksin*2)),accident:Math.max(10,Math.round(100-t.earth*.8-e.jeongin*2)),business:Math.min(100,Math.round(t.metal*.6+e.pyeonjae*2.5)),movement:Math.min(100,Math.round(t.water*.8+e.geopjae*2)),separation:Math.max(10,Math.round(100-t.earth*.7-e.bijeon*2)),relationship:Math.min(100,Math.round(t.fire*.7+e.jeongin*2)),children:Math.min(100,Math.round(t.wood*.6+e.siksin*2.5)),talent:Math.min(100,Math.round(t.water*.7+e.pyeongin*2)),wealth:Math.min(100,Math.round(t.metal*.5+(e.jeongjae+e.pyeonjae)*2)),ancestor:Math.min(100,Math.round(t.earth*.8+e.jeongin*1.5)),career:Math.min(100,Math.round(t.metal*.6+e.jeonggwan*2.5)),family:Math.min(100,Math.round(t.earth*.7+e.bijeon*2)),study:Math.min(100,Math.round(t.water*.6+e.jeongin*2.5)),fortune:Math.min(100,Math.round((t.fire+t.water)*.4+e.pyeongin*2))}}function Oj(t){return Object.values(t).reduce((e,s)=>e+s,0)}function Ij(t){const e=Object.values(t);return e.reduce((s,n)=>s+n,0)/e.length}function Fj(t){return{year:{heavenly:t.year.heavenly,earthly:t.year.earthly},month:{heavenly:t.month.heavenly,earthly:t.month.earthly},day:{heavenly:t.day.heavenly,earthly:t.day.earthly},hour:{heavenly:t.hour.heavenly,earthly:t.hour.earthly}}}function qm(t){const e=Hl.calculateFourPillars(t),s=Sj(e),n=Cj(e),r=_j(s,n),i=Rj(s,n),o=Lj(s,n);return{birthInfo:t,fourPillars:Fj(e),fiveElements:s,tenGods:n,sixAreas:r,dayMaster:e.day.heavenly,totalScore:Oj(r),averageScore:Ij(r),personalityTraits:i,seventeenFortunes:o}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dr(t){return t+.5|0}const Bt=(t,e,s)=>Math.max(Math.min(t,s),e);function An(t){return Bt(Dr(t*2.55),0,255)}function Yt(t){return Bt(Dr(t*255),0,255)}function Nt(t){return Bt(Dr(t/2.55)/100,0,1)}function Ld(t){return Bt(Dr(t*100),0,100)}const Ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fo=[..."0123456789ABCDEF"],Bj=t=>Fo[t&15],$j=t=>Fo[(t&240)>>4]+Fo[t&15],Kr=t=>(t&240)>>4===(t&15),Vj=t=>Kr(t.r)&&Kr(t.g)&&Kr(t.b)&&Kr(t.a);function Hj(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Ke[t[1]]*17,g:255&Ke[t[2]]*17,b:255&Ke[t[3]]*17,a:e===5?Ke[t[4]]*17:255}:(e===7||e===9)&&(s={r:Ke[t[1]]<<4|Ke[t[2]],g:Ke[t[3]]<<4|Ke[t[4]],b:Ke[t[5]]<<4|Ke[t[6]],a:e===9?Ke[t[7]]<<4|Ke[t[8]]:255})),s}const zj=(t,e)=>t<255?e(t):"";function Uj(t){var e=Vj(t)?Bj:$j;return t?"#"+e(t.r)+e(t.g)+e(t.b)+zj(t.a,e):void 0}const Wj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jm(t,e,s){const n=e*Math.min(s,1-s),r=(i,o=(i+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Yj(t,e,s){const n=(r,i=(r+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Gj(t,e,s){const n=Jm(t,1,.5);let r;for(e+s>1&&(r=1/(e+s),e*=r,s*=r),r=0;r<3;r++)n[r]*=1-e-s,n[r]+=e;return n}function Kj(t,e,s,n,r){return t===r?(e-s)/n+(e<s?6:0):e===r?(s-t)/n+2:(t-e)/n+4}function zl(t){const s=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(s,n,r),o=Math.min(s,n,r),l=(i+o)/2;let c,d,h;return i!==o&&(h=i-o,d=l>.5?h/(2-i-o):h/(i+o),c=Kj(s,n,r,h,i),c=c*60+.5),[c|0,d||0,l]}function Ul(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Yt)}function Wl(t,e,s){return Ul(Jm,t,e,s)}function qj(t,e,s){return Ul(Gj,t,e,s)}function Jj(t,e,s){return Ul(Yj,t,e,s)}function Xm(t){return(t%360+360)%360}function Xj(t){const e=Wj.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?An(+e[5]):Yt(+e[5]));const r=Xm(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=qj(r,i,o):e[1]==="hsv"?n=Jj(r,i,o):n=Wl(r,i,o),{r:n[0],g:n[1],b:n[2],a:s}}function Qj(t,e){var s=zl(t);s[0]=Xm(s[0]+e),s=Wl(s),t.r=s[0],t.g=s[1],t.b=s[2]}function Zj(t){if(!t)return;const e=zl(t),s=e[0],n=Ld(e[1]),r=Ld(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${r}%, ${Nt(t.a)})`:`hsl(${s}, ${n}%, ${r}%)`}const Od={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Id={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ew(){const t={},e=Object.keys(Id),s=Object.keys(Od);let n,r,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],r=0;r<s.length;r++)i=s[r],l=l.replace(i,Od[i]);i=parseInt(Id[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let qr;function tw(t){qr||(qr=ew(),qr.transparent=[0,0,0,0]);const e=qr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nw(t){const e=sw.exec(t);let s=255,n,r,i;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?An(o):Bt(o*255,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?An(n):Bt(n,0,255)),r=255&(e[4]?An(r):Bt(r,0,255)),i=255&(e[6]?An(i):Bt(i,0,255)),{r:n,g:r,b:i,a:s}}}function rw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Nt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vi=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Os=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function aw(t,e,s){const n=Os(Nt(t.r)),r=Os(Nt(t.g)),i=Os(Nt(t.b));return{r:Yt(Vi(n+s*(Os(Nt(e.r))-n))),g:Yt(Vi(r+s*(Os(Nt(e.g))-r))),b:Yt(Vi(i+s*(Os(Nt(e.b))-i))),a:t.a+s*(e.a-t.a)}}function Jr(t,e,s){if(t){let n=zl(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Wl(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Qm(t,e){return t&&Object.assign(e||{},t)}function Fd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Yt(t[3]))):(e=Qm(t,{r:0,g:0,b:0,a:1}),e.a=Yt(e.a)),e}function iw(t){return t.charAt(0)==="r"?nw(t):Xj(t)}class rr{constructor(e){if(e instanceof rr)return e;const s=typeof e;let n;s==="object"?n=Fd(e):s==="string"&&(n=Hj(e)||tw(e)||iw(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Qm(this._rgb);return e&&(e.a=Nt(e.a)),e}set rgb(e){this._rgb=Fd(e)}rgbString(){return this._valid?rw(this._rgb):void 0}hexString(){return this._valid?Uj(this._rgb):void 0}hslString(){return this._valid?Zj(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,r=e.rgb;let i;const o=s===i?.5:s,l=2*o-1,c=n.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*r.r+.5,n.g=255&d*n.g+i*r.g+.5,n.b=255&d*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=aw(this._rgb,e._rgb,s)),this}clone(){return new rr(this.rgb)}alpha(e){return this._rgb.a=Yt(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Dr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jr(this._rgb,2,e),this}darken(e){return Jr(this._rgb,2,-e),this}saturate(e){return Jr(this._rgb,1,e),this}desaturate(e){return Jr(this._rgb,1,-e),this}rotate(e){return Qj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jt(){}const ow=(()=>{let t=0;return()=>t++})();function ne(t){return t==null}function ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ye(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ue(t,e){return ye(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const lw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Zm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ce(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ie(t,e,s,n){let r,i,o;if(ue(t))for(i=t.length,r=0;r<i;r++)e.call(s,t[r],r);else if(re(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(s,t[o[r]],o[r])}function La(t,e){let s,n,r,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(r=t[s],i=e[s],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Oa(t){if(ue(t))return t.map(Oa);if(re(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let r=0;for(;r<n;++r)e[s[r]]=Oa(t[s[r]]);return e}return t}function eg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function cw(t,e,s,n){if(!eg(t))return;const r=e[t],i=s[t];re(r)&&re(i)?ar(r,i,n):e[t]=Oa(i)}function ar(t,e,s){const n=ue(e)?e:[e],r=n.length;if(!re(t))return t;s=s||{};const i=s.merger||cw;let o;for(let l=0;l<r;++l){if(o=n[l],!re(o))continue;const c=Object.keys(o);for(let d=0,h=c.length;d<h;++d)i(c[d],t,o,s)}return t}function Bn(t,e){return ar(t,e,{merger:dw})}function dw(t,e,s){if(!eg(t))return;const n=e[t],r=s[t];re(n)&&re(r)?Bn(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Oa(r))}const Bd={"":t=>t,x:t=>t.x,y:t=>t.y};function hw(t){const e=t.split("."),s=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function uw(t){const e=hw(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function Kt(t,e){return(Bd[e]||(Bd[e]=uw(e)))(t)}function Yl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ir=t=>typeof t<"u",qt=t=>typeof t=="function",$d=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function mw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ae=Math.PI,he=2*ae,gw=he+ae,Ia=Number.POSITIVE_INFINITY,fw=ae/180,we=ae/2,ns=ae/4,Vd=ae*2/3,$t=Math.log10,xt=Math.sign;function $n(t,e,s){return Math.abs(t-e)<s}function Hd(t){const e=Math.round(t);t=$n(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor($t(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function xw(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((r,i)=>r-i).pop(),e}function pw(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function tn(t){return!pw(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function bw(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function tg(t,e,s){let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function it(t){return t*(ae/180)}function Gl(t){return t*(180/ae)}function zd(t){if(!ye(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function sg(t,e){const s=e.x-t.x,n=e.y-t.y,r=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*ae&&(i+=he),{angle:i,distance:r}}function Bo(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yw(t,e){return(t-e+gw)%he-ae}function Ee(t){return(t%he+he)%he}function or(t,e,s,n){const r=Ee(t),i=Ee(e),o=Ee(s),l=Ee(i-r),c=Ee(o-r),d=Ee(r-i),h=Ee(r-o);return r===i||r===o||n&&i===o||l>c&&d<h}function Ce(t,e,s){return Math.max(e,Math.min(s,t))}function vw(t){return Ce(t,-32768,32767)}function _t(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Kl(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,r=0,i;for(;n-r>1;)i=r+n>>1,s(i)?r=i:n=i;return{lo:r,hi:n}}const Mt=(t,e,s,n)=>Kl(t,s,n?r=>{const i=t[r][e];return i<s||i===s&&t[r+1][e]===s}:r=>t[r][e]<s),jw=(t,e,s)=>Kl(t,s,n=>t[n][e]>=s);function ww(t,e,s){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>s;)r--;return n>0||r<t.length?t.slice(n,r):t}const ng=["push","pop","shift","splice","unshift"];function kw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ng.forEach(s=>{const n="_onData"+Yl(s),r=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function Ud(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(ng.forEach(i=>{delete t[i]}),delete t._chartjs)}function rg(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ag=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ig(t,e){let s=[],n=!1;return function(...r){s=r,n||(n=!0,ag.call(window,()=>{n=!1,t.apply(e,s)}))}}function Nw(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const ql=t=>t==="start"?"left":t==="end"?"right":"center",Me=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Sw=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function og(t,e,s){const n=e.length;let r=0,i=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:m,max:u,minDefined:g,maxDefined:f}=o.getUserBounds();if(g){if(r=Math.min(Mt(c,h,m).lo,s?n:Mt(e,h,o.getPixelForValue(m)).lo),d){const x=c.slice(0,r+1).reverse().findIndex(b=>!ne(b[l.axis]));r-=Math.max(0,x)}r=Ce(r,0,n-1)}if(f){let x=Math.max(Mt(c,o.axis,u,!0).hi+1,s?0:Mt(e,h,o.getPixelForValue(u),!0).hi+1);if(d){const b=c.slice(x-1).findIndex(y=>!ne(y[l.axis]));x+=Math.max(0,b)}i=Ce(x,r,n)-r}else i=n-r}return{start:r,count:i}}function lg(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=r,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,r),i}const Xr=t=>t===0||t===1,Wd=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*he/s)),Yd=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*he/s)+1,Vn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*we)+1,easeOutSine:t=>Math.sin(t*we),easeInOutSine:t=>-.5*(Math.cos(ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xr(t)?t:Wd(t,.075,.3),easeOutElastic:t=>Xr(t)?t:Yd(t,.075,.3),easeInOutElastic(t){return Xr(t)?t:t<.5?.5*Wd(t*2,.1125,.45):.5+.5*Yd(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vn.easeInBounce(t*2)*.5:Vn.easeOutBounce(t*2-1)*.5+.5};function Jl(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Gd(t){return Jl(t)?t:new rr(t)}function Hi(t){return Jl(t)?t:new rr(t).saturate(.5).darken(.1).hexString()}const Cw=["x","y","borderWidth","radius","tension"],_w=["color","borderColor","backgroundColor"];function Mw(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_w},numbers:{type:"number",properties:Cw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ew(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Kd=new Map;function Tw(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Kd.get(s);return n||(n=new Intl.NumberFormat(t,e),Kd.set(s,n)),n}function Pr(t,e,s){return Tw(e,s).format(t)}const cg={values(t){return ue(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let r,i=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=Aw(t,s)}const o=$t(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Pr(t,n,c)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor($t(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?cg.numeric.call(this,t,e,s):""}};function Aw(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var xi={formatters:cg};function Dw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _s=Object.create(null),$o=Object.create(null);function Hn(t,e){if(!e)return t;const s=e.split(".");for(let n=0,r=s.length;n<r;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function zi(t,e,s){return typeof e=="string"?ar(Hn(t,e),s):ar(Hn(t,""),e)}class Pw{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Hi(r.backgroundColor),this.hoverBorderColor=(n,r)=>Hi(r.borderColor),this.hoverColor=(n,r)=>Hi(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return zi(this,e,s)}get(e){return Hn(this,e)}describe(e,s){return zi($o,e,s)}override(e,s){return zi(_s,e,s)}route(e,s,n,r){const i=Hn(this,e),o=Hn(this,n),l="_"+s;Object.defineProperties(i,{[l]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[r];return re(c)?Object.assign({},d,c):q(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var me=new Pw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Mw,Ew,Dw]);function Rw(t){return!t||ne(t.size)||ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fa(t,e,s,n,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,s.push(r)),i>n&&(n=i),n}function Lw(t,e,s,n){n=n||{};let r=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const l=s.length;let c,d,h,m,u;for(c=0;c<l;c++)if(m=s[c],m!=null&&!ue(m))o=Fa(t,r,i,o,m);else if(ue(m))for(d=0,h=m.length;d<h;d++)u=m[d],u!=null&&!ue(u)&&(o=Fa(t,r,i,o,u));t.restore();const g=i.length/2;if(g>s.length){for(c=0;c<g;c++)delete r[i[c]];i.splice(0,g)}return o}function rs(t,e,s){const n=t.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((e-r)*n)/n+r}function qd(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Vo(t,e,s,n){dg(t,e,s,n,null)}function dg(t,e,s,n,r){let i,o,l,c,d,h,m,u;const g=e.pointStyle,f=e.rotation,x=e.radius;let b=(f||0)*fw;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),g){default:r?t.ellipse(s,n,r/2,x,0,0,he):t.arc(s,n,x,0,he),t.closePath();break;case"triangle":h=r?r/2:x,t.moveTo(s+Math.sin(b)*h,n-Math.cos(b)*x),b+=Vd,t.lineTo(s+Math.sin(b)*h,n-Math.cos(b)*x),b+=Vd,t.lineTo(s+Math.sin(b)*h,n-Math.cos(b)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(b+ns)*c,m=Math.cos(b+ns)*(r?r/2-d:c),l=Math.sin(b+ns)*c,u=Math.sin(b+ns)*(r?r/2-d:c),t.arc(s-m,n-l,d,b-ae,b-we),t.arc(s+u,n-o,d,b-we,b),t.arc(s+m,n+l,d,b,b+we),t.arc(s-u,n+o,d,b+we,b+ae),t.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*x,h=r?r/2:c,t.rect(s-h,n-c,2*h,2*c);break}b+=ns;case"rectRot":m=Math.cos(b)*(r?r/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,u=Math.sin(b)*(r?r/2:x),t.moveTo(s-m,n-l),t.lineTo(s+u,n-o),t.lineTo(s+m,n+l),t.lineTo(s-u,n+o),t.closePath();break;case"crossRot":b+=ns;case"cross":m=Math.cos(b)*(r?r/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,u=Math.sin(b)*(r?r/2:x),t.moveTo(s-m,n-l),t.lineTo(s+m,n+l),t.moveTo(s+u,n-o),t.lineTo(s-u,n+o);break;case"star":m=Math.cos(b)*(r?r/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,u=Math.sin(b)*(r?r/2:x),t.moveTo(s-m,n-l),t.lineTo(s+m,n+l),t.moveTo(s+u,n-o),t.lineTo(s-u,n+o),b+=ns,m=Math.cos(b)*(r?r/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,u=Math.sin(b)*(r?r/2:x),t.moveTo(s-m,n-l),t.lineTo(s+m,n+l),t.moveTo(s+u,n-o),t.lineTo(s-u,n+o);break;case"line":o=r?r/2:Math.cos(b)*x,l=Math.sin(b)*x,t.moveTo(s-o,n-l),t.lineTo(s+o,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(b)*(r?r/2:x),n+Math.sin(b)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Et(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function pi(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function bi(t){t.restore()}function Ow(t,e,s,n,r){if(!e)return t.lineTo(s.x,s.y);if(r==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else r==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function Iw(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Fw(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Bw(t,e,s,n,r){if(r.strikethrough||r.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=s-i.actualBoundingBoxAscent,d=s+i.actualBoundingBoxDescent,h=r.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(l,h),t.stroke()}}function $w(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Ms(t,e,s,n,r,i={}){const o=ue(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=r.string,Fw(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&$w(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ne(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,s,n,i.maxWidth)),t.fillText(d,s,n,i.maxWidth),Bw(t,s,n,d,i),n+=Number(r.lineHeight);t.restore()}function lr(t,e){const{x:s,y:n,w:r,h:i,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*ae,ae,!0),t.lineTo(s,n+i-o.bottomLeft),t.arc(s+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,ae,we,!0),t.lineTo(s+r-o.bottomRight,n+i),t.arc(s+r-o.bottomRight,n+i-o.bottomRight,o.bottomRight,we,0,!0),t.lineTo(s+r,n+o.topRight),t.arc(s+r-o.topRight,n+o.topRight,o.topRight,0,-we,!0),t.lineTo(s+o.topLeft,n)}const Vw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zw(t,e){const s=(""+t).match(Vw);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Uw=t=>+t||0;function Xl(t,e){const s={},n=re(e),r=n?Object.keys(e):e,i=re(t)?n?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)s[o]=Uw(i(o));return s}function hg(t){return Xl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bs(t){return Xl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pe(t){const e=hg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Se(t,e){t=t||{},e=e||me.font;let s=q(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=q(t.style,e.style);n&&!(""+n).match(Hw)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:q(t.family,e.family),lineHeight:zw(q(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:q(t.weight,e.weight),string:""};return r.string=Rw(r),r}function Dn(t,e,s,n){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function Ww(t,e,s){const{min:n,max:r}=t,i=Zm(e,(r-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(r,i)}}function es(t,e){return Object.assign(Object.create(t),e)}function Ql(t,e=[""],s,n,r=()=>t[0]){const i=s||t;typeof n>"u"&&(n=fg("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:l=>Ql([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return mg(l,c,()=>Zw(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Xd(l).includes(c)},ownKeys(l){return Xd(l)},set(l,c,d){const h=l._storage||(l._storage=r());return l[c]=h[c]=d,delete l._keys,!0}})}function sn(t,e,s,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:ug(t,n),setContext:i=>sn(t,i,s,n),override:i=>sn(t.override(i),e,s,n)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return mg(i,o,()=>Gw(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function ug(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:s,indexable:n,isScriptable:qt(s)?s:()=>s,isIndexable:qt(n)?n:()=>n}}const Yw=(t,e)=>t?t+Yl(e):e,Zl=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function mg(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function Gw(t,e,s){const{_proxy:n,_context:r,_subProxy:i,_descriptors:o}=t;let l=n[e];return qt(l)&&o.isScriptable(e)&&(l=Kw(e,l,t,s)),ue(l)&&l.length&&(l=qw(e,l,t,o.isIndexable)),Zl(e,l)&&(l=sn(l,r,i&&i[e],o)),l}function Kw(t,e,s,n){const{_proxy:r,_context:i,_subProxy:o,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),Zl(t,c)&&(c=ec(r._scopes,r,t,c)),c}function qw(t,e,s,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(re(e[0])){const c=e,d=r._scopes.filter(h=>h!==c);e=[];for(const h of c){const m=ec(d,r,t,h);e.push(sn(m,i,o&&o[t],l))}}return e}function gg(t,e,s){return qt(t)?t(e,s):t}const Jw=(t,e)=>t===!0?e:typeof t=="string"?Kt(e,t):void 0;function Xw(t,e,s,n,r){for(const i of e){const o=Jw(s,i);if(o){t.add(o);const l=gg(o._fallback,s,r);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function ec(t,e,s,n){const r=e._rootScopes,i=gg(e._fallback,s,n),o=[...t,...r],l=new Set;l.add(n);let c=Jd(l,o,s,i||s,n);return c===null||typeof i<"u"&&i!==s&&(c=Jd(l,o,i,c,n),c===null)?!1:Ql(Array.from(l),[""],r,i,()=>Qw(e,s,n))}function Jd(t,e,s,n,r){for(;s;)s=Xw(t,e,s,n,r);return s}function Qw(t,e,s){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return ue(r)&&re(s)?s:r||{}}function Zw(t,e,s,n){let r;for(const i of e)if(r=fg(Yw(i,t),s),typeof r<"u")return Zl(t,r)?ec(s,n,t,r):r}function fg(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function Xd(t){let e=t._keys;return e||(e=t._keys=ek(t._scopes)),e}function ek(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function xg(t,e,s,n){const{iScale:r}=t,{key:i="r"}=this._parsing,o=new Array(n);let l,c,d,h;for(l=0,c=n;l<c;++l)d=l+s,h=e[d],o[l]={r:r.parse(Kt(h,i),d)};return o}const tk=Number.EPSILON||1e-14,nn=(t,e)=>e<t.length&&!t[e].skip&&t[e],pg=t=>t==="x"?"y":"x";function sk(t,e,s,n){const r=t.skip?e:t,i=e,o=s.skip?e:s,l=Bo(i,r),c=Bo(o,i);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=n*d,u=n*h;return{previous:{x:i.x-m*(o.x-r.x),y:i.y-m*(o.y-r.y)},next:{x:i.x+u*(o.x-r.x),y:i.y+u*(o.y-r.y)}}}function nk(t,e,s){const n=t.length;let r,i,o,l,c,d=nn(t,0);for(let h=0;h<n-1;++h)if(c=d,d=nn(t,h+1),!(!c||!d)){if($n(e[h],0,tk)){s[h]=s[h+1]=0;continue}r=s[h]/e[h],i=s[h+1]/e[h],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),s[h]=r*o*e[h],s[h+1]=i*o*e[h])}}function rk(t,e,s="x"){const n=pg(s),r=t.length;let i,o,l,c=nn(t,0);for(let d=0;d<r;++d){if(o=l,l=c,c=nn(t,d+1),!l)continue;const h=l[s],m=l[n];o&&(i=(h-o[s])/3,l[`cp1${s}`]=h-i,l[`cp1${n}`]=m-i*e[d]),c&&(i=(c[s]-h)/3,l[`cp2${s}`]=h+i,l[`cp2${n}`]=m+i*e[d])}}function ak(t,e="x"){const s=pg(e),n=t.length,r=Array(n).fill(0),i=Array(n);let o,l,c,d=nn(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=nn(t,o+1),!!c){if(d){const h=d[e]-c[e];r[o]=h!==0?(d[s]-c[s])/h:0}i[o]=l?d?xt(r[o-1])!==xt(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}nk(t,r,i),rk(t,i,e)}function Qr(t,e,s){return Math.max(Math.min(t,s),e)}function ik(t,e){let s,n,r,i,o,l=Et(t[0],e);for(s=0,n=t.length;s<n;++s)o=i,i=l,l=s<n-1&&Et(t[s+1],e),i&&(r=t[s],o&&(r.cp1x=Qr(r.cp1x,e.left,e.right),r.cp1y=Qr(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Qr(r.cp2x,e.left,e.right),r.cp2y=Qr(r.cp2y,e.top,e.bottom)))}function ok(t,e,s,n,r){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")ak(t,r);else{let d=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=sk(d,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&ik(t,s)}function tc(){return typeof window<"u"&&typeof document<"u"}function sc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ba(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const yi=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lk(t,e){return yi(t).getPropertyValue(e)}const ck=["top","right","bottom","left"];function ys(t,e,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const i=ck[r];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const dk=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function hk(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:r,offsetY:i}=n;let o=!1,l,c;if(dk(r,i,t.target))l=r,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function ls(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,r=yi(s),i=r.boxSizing==="border-box",o=ys(r,"padding"),l=ys(r,"border","width"),{x:c,y:d,box:h}=hk(t,s),m=o.left+(h&&l.left),u=o.top+(h&&l.top);let{width:g,height:f}=e;return i&&(g-=o.width+l.width,f-=o.height+l.height),{x:Math.round((c-m)/g*s.width/n),y:Math.round((d-u)/f*s.height/n)}}function uk(t,e,s){let n,r;if(e===void 0||s===void 0){const i=t&&sc(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),l=yi(i),c=ys(l,"border","width"),d=ys(l,"padding");e=o.width-d.width-c.width,s=o.height-d.height-c.height,n=Ba(l.maxWidth,i,"clientWidth"),r=Ba(l.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||Ia,maxHeight:r||Ia}}const Zr=t=>Math.round(t*10)/10;function mk(t,e,s,n){const r=yi(t),i=ys(r,"margin"),o=Ba(r.maxWidth,t,"clientWidth")||Ia,l=Ba(r.maxHeight,t,"clientHeight")||Ia,c=uk(t,e,s);let{width:d,height:h}=c;if(r.boxSizing==="content-box"){const u=ys(r,"border","width"),g=ys(r,"padding");d-=g.width+u.width,h-=g.height+u.height}return d=Math.max(0,d-i.width),h=Math.max(0,n?d/n:h-i.height),d=Zr(Math.min(d,o,c.maxWidth)),h=Zr(Math.min(h,l,c.maxHeight)),d&&!h&&(h=Zr(d/2)),(e!==void 0||s!==void 0)&&n&&c.height&&h>c.height&&(h=c.height,d=Zr(Math.floor(h*n))),{width:d,height:h}}function Qd(t,e,s){const n=e||1,r=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=n,o.height=r,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const gk=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};tc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Zd(t,e){const s=lk(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function cs(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function fk(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function xk(t,e,s,n){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=cs(t,r,s),l=cs(r,i,s),c=cs(i,e,s),d=cs(o,l,s),h=cs(l,c,s);return cs(d,h,s)}const pk=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},bk=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ys(t,e,s){return t?pk(e,s):bk()}function bg(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function yg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vg(t){return t==="angle"?{between:or,compare:yw,normalize:Ee}:{between:_t,compare:(e,s)=>e-s,normalize:e=>e}}function eh({start:t,end:e,count:s,loop:n,style:r}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:r}}function yk(t,e,s){const{property:n,start:r,end:i}=s,{between:o,normalize:l}=vg(n),c=e.length;let{start:d,end:h,loop:m}=t,u,g;if(m){for(d+=c,h+=c,u=0,g=c;u<g&&o(l(e[d%c][n]),r,i);++u)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:m,style:t.style}}function jg(t,e,s){if(!s)return[t];const{property:n,start:r,end:i}=s,o=e.length,{compare:l,between:c,normalize:d}=vg(n),{start:h,end:m,loop:u,style:g}=yk(t,e,s),f=[];let x=!1,b=null,y,j,S;const C=()=>c(r,S,y)&&l(r,S)!==0,w=()=>l(i,y)===0||c(i,S,y),M=()=>x||C(),N=()=>!x||w();for(let k=h,_=h;k<=m;++k)j=e[k%o],!j.skip&&(y=d(j[n]),y!==S&&(x=c(y,r,i),b===null&&M()&&(b=l(y,r)===0?k:_),b!==null&&N()&&(f.push(eh({start:b,end:k,loop:u,count:o,style:g})),b=null),_=k,S=y));return b!==null&&f.push(eh({start:b,end:m,loop:u,count:o,style:g})),f}function wg(t,e){const s=[],n=t.segments;for(let r=0;r<n.length;r++){const i=jg(n[r],t.points,e);i.length&&s.push(...i)}return s}function vk(t,e,s,n){let r=0,i=e-1;if(s&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,s&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function jk(t,e,s,n){const r=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=s;++c){const d=t[c%r];d.skip||d.stop?l.skip||(n=!1,i.push({start:e%r,end:(c-1)%r,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%r,end:o%r,loop:n}),i}function wk(t,e){const s=t.points,n=t.options.spanGaps,r=s.length;if(!r)return[];const i=!!t._loop,{start:o,end:l}=vk(s,r,i,n);if(n===!0)return th(t,[{start:o,end:l,loop:i}],s,e);const c=l<o?l+r:l,d=!!t._fullLoop&&o===0&&l===r-1;return th(t,jk(s,o,c,d),s,e)}function th(t,e,s,n){return!n||!n.setContext||!s?e:kk(t,e,s,n)}function kk(t,e,s,n){const r=t._chart.getContext(),i=sh(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=s.length,d=[];let h=i,m=e[0].start,u=m;function g(f,x,b,y){const j=l?-1:1;if(f!==x){for(f+=c;s[f%c].skip;)f-=j;for(;s[x%c].skip;)x+=j;f%c!==x%c&&(d.push({start:f%c,end:x%c,loop:b,style:y}),h=y,m=x%c)}}for(const f of e){m=l?m:f.start;let x=s[m%c],b;for(u=m+1;u<=f.end;u++){const y=s[u%c];b=sh(n.setContext(es(r,{type:"segment",p0:x,p1:y,p0DataIndex:(u-1)%c,p1DataIndex:u%c,datasetIndex:o}))),Nk(b,h)&&g(m,u-1,f.loop,h),x=y,h=b}m<u-1&&g(m,u-1,f.loop,h)}return d}function sh(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Nk(t,e){if(!e)return!1;const s=[],n=function(r,i){return Jl(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function ea(t,e,s){return t.options.clip?t[s]:e[s]}function Sk(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:ea(s,e,"left"),right:ea(s,e,"right"),top:ea(n,e,"top"),bottom:ea(n,e,"bottom")}:e}function kg(t,e){const s=e._clip;if(s.disabled)return!1;const n=Sk(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ck{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,r){const i=s.listeners[r],o=s.duration;i.forEach(l=>l({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ag.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wt=new Ck;const nh="transparent",_k={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=Gd(t||nh),r=n.valid&&Gd(e||nh);return r&&r.valid?r.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class Mk{constructor(e,s,n,r){const i=s[n];r=Dn([e.to,r,i,e.from]);const o=Dn([e.from,i,r]);this._active=!0,this._fn=e.fn||_k[e.type||typeof o],this._easing=Vn[e.easing]||Vn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Dn([e.to,s,r,e.from]),this._from=Dn([e.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||s<n),!this._active){this._target[r]=l,this._notify(!0);return}if(s<0){this._target[r]=i;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][s]()}}class Ng{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!re(e))return;const s=Object.keys(me.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!re(i))return;const o={};for(const l of s)o[l]=i[l];(ue(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,s){const n=s.options,r=Tk(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&Ek(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,s));continue}const h=s[d];let m=i[d];const u=n.get(d);if(m)if(u&&m.active()){m.update(u,h,l);continue}else m.cancel();if(!u||!u.duration){e[d]=h;continue}i[d]=m=new Mk(u,e,d,h),r.push(m)}return r}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return wt.add(this._chart,n),!0}}function Ek(t,e){const s=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const i=t[n[r]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function Tk(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function rh(t,e){const s=t&&t.options||{},n=s.reverse,r=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:r,end:n?r:i}}function Ak(t,e,s){if(s===!1)return!1;const n=rh(t,s),r=rh(e,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Dk(t){let e,s,n,r;return re(t)?(e=t.top,s=t.right,n=t.bottom,r=t.left):e=s=n=r=t,{top:e,right:s,bottom:n,left:r,disabled:t===!1}}function Sg(t,e){const s=[],n=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=n.length;r<i;++r)s.push(n[r].index);return s}function ah(t,e,s,n={}){const r=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let h=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===s){if(h=!0,n.all)continue;break}d=t.values[c],ye(d)&&(i||e===0||xt(e)===xt(d))&&(e+=d)}return!h&&!n.all?0:e}function Pk(t,e){const{iScale:s,vScale:n}=e,r=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,h;for(c=0,d=o.length;c<d;++c)h=o[c],l[c]={[r]:h,[i]:t[h]};return l}function Ui(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function Rk(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function Lk(t){const{min:e,max:s,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function Ok(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function ih(t,e,s,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const i=t[r.index];if(s&&i>0||!s&&i<0)return r.index}return null}function oh(t,e){const{chart:s,_cachedMeta:n}=t,r=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,h=Rk(i,o,n),m=e.length;let u;for(let g=0;g<m;++g){const f=e[g],{[c]:x,[d]:b}=f,y=f._stacks||(f._stacks={});u=y[d]=Ok(r,h,x),u[l]=b,u._top=ih(u,o,!0,n.type),u._bottom=ih(u,o,!1,n.type);const j=u._visualValues||(u._visualValues={});j[l]=b}}function Wi(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function Ik(t,e){return es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Fk(t,e,s){return es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function wn(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const Yi=t=>t==="reset"||t==="none",lh=(t,e)=>e?t:Object.assign({},t),Bk=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Sg(s,!0),values:null};class ot{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ui(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),r=(m,u,g,f)=>m==="x"?u:m==="r"?f:g,i=s.xAxisID=q(n.xAxisID,Wi(e,"x")),o=s.yAxisID=q(n.yAxisID,Wi(e,"y")),l=s.rAxisID=q(n.rAxisID,Wi(e,"r")),c=s.indexAxis,d=s.iAxisID=r(c,i,o,l),h=s.vAxisID=r(c,o,i,l);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ud(this._data,this),e._stacked&&wn(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(re(s)){const r=this._cachedMeta;this._data=Pk(s,r)}else if(n!==s){if(n){Ud(n,this);const r=this._cachedMeta;wn(r),r._parsed=[]}s&&Object.isExtensible(s)&&kw(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=s._stacked;s._stacked=Ui(s.vScale,s),s.stack!==n.stack&&(r=!0,wn(s),s.stack=n.stack),this._resyncElements(e),(r||i!==s._stacked)&&(oh(this,s._parsed),s._stacked=Ui(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&s===r.length?!0:n._sorted,d=e>0&&n._parsed[e-1],h,m,u;if(this._parsing===!1)n._parsed=r,n._sorted=!0,u=r;else{ue(r[e])?u=this.parseArrayData(n,r,e,s):re(r[e])?u=this.parseObjectData(n,r,e,s):u=this.parsePrimitiveData(n,r,e,s);const g=()=>m[l]===null||d&&m[l]<d[l];for(h=0;h<s;++h)n._parsed[h+e]=m=u[h],c&&(g()&&(c=!1),d=m);n._sorted=c}o&&oh(this,u)}parsePrimitiveData(e,s,n,r){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),h=i===o,m=new Array(r);let u,g,f;for(u=0,g=r;u<g;++u)f=u+n,m[u]={[l]:h||i.parse(d[f],f),[c]:o.parse(s[f],f)};return m}parseArrayData(e,s,n,r){const{xScale:i,yScale:o}=e,l=new Array(r);let c,d,h,m;for(c=0,d=r;c<d;++c)h=c+n,m=s[h],l[c]={x:i.parse(m[0],h),y:o.parse(m[1],h)};return l}parseObjectData(e,s,n,r){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let h,m,u,g;for(h=0,m=r;h<m;++h)u=h+n,g=s[u],d[h]={x:i.parse(Kt(g,l),u),y:o.parse(Kt(g,c),u)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const r=this.chart,i=this._cachedMeta,o=s[e.axis],l={keys:Sg(r,!0),values:s._stacks[e.axis]._visualValues};return ah(l,o,i.index,{mode:n})}updateRangeFromParsed(e,s,n,r){const i=n[s.axis];let o=i===null?NaN:i;const l=r&&n._stacks[s.axis];r&&l&&(r.values=l,o=ah(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,o=r.length,l=this._getOtherScale(e),c=Bk(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=Lk(l);let u,g;function f(){g=r[u];const x=g[l.axis];return!ye(g[e.axis])||h>x||m<x}for(u=0;u<o&&!(!f()&&(this.updateRangeFromParsed(d,e,g,c),i));++u);if(i){for(u=o-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=s.length;r<i;++r)o=s[r][e.axis],ye(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,r=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=Dk(q(this.options.clip,Ak(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,r=n.data||[],i=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const m=r[h];m.hidden||(m.active&&d?o.push(m):m.draw(e,i))}for(h=0;h<o.length;++h)o[h].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Fk(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Ik(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const r=s==="active",i=this._cachedDataOpts,o=e+"-"+s,l=i[o],c=this.enableOptionSharing&&ir(n);if(l)return lh(l,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],u=d.getOptionScopes(this.getDataset(),h),g=Object.keys(me.elements[e]),f=()=>this.getContext(n,r,s),x=d.resolveNamedOptions(u,g,f,m);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(lh(x,c))),x}_resolveAnimations(e,s,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,l=i[o];if(l)return l;let c;if(r.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,s),u=h.getOptionScopes(this.getDataset(),m);c=h.createResolver(u,this.getContext(e,n,s))}const d=new Ng(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Yi(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(s,i)||i!==r;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:o}}updateElement(e,s,n,r){Yi(r)?Object.assign(e,n):this._resolveAnimations(s,r).update(e,n)}updateSharedOptions(e,s,n){e&&!Yi(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,r){e.active=r;const i=this.getStyle(s,r);this._resolveAnimations(s,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=n.length,i=s.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,s,n=!0){const r=this._cachedMeta,i=r.data,o=e+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,r){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,s);n._stacked&&wn(n,r)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,r]=e;this[s](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(ot,"defaults",{}),$(ot,"datasetElementType",null),$(ot,"dataElementType",null);function $k(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let r=0,i=s.length;r<i;r++)n=n.concat(s[r].controller.getAllParsedValues(t));t._cache.$bar=rg(n.sort((r,i)=>r-i))}return t._cache.$bar}function Vk(t){const e=t.iScale,s=$k(e,t.type);let n=e._length,r,i,o,l;const c=()=>{o===32767||o===-32768||(ir(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(r=0,i=s.length;r<i;++r)o=e.getPixelForValue(s[r]),c();for(l=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return n}function Hk(t,e,s,n){const r=s.barThickness;let i,o;return ne(r)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=r*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function zk(t,e,s,n){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=s.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function Uk(t,e,s,n){const r=s.parse(t[0],n),i=s.parse(t[1],n),o=Math.min(r,i),l=Math.max(r,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[s.axis]=d,e._custom={barStart:c,barEnd:d,start:r,end:i,min:o,max:l}}function Cg(t,e,s,n){return ue(t)?Uk(t,e,s,n):e[s.axis]=s.parse(t,n),e}function ch(t,e,s,n){const r=t.iScale,i=t.vScale,o=r.getLabels(),l=r===i,c=[];let d,h,m,u;for(d=s,h=s+n;d<h;++d)u=e[d],m={},m[r.axis]=l||r.parse(o[d],d),c.push(Cg(u,m,i,d));return c}function Gi(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Wk(t,e,s){return t!==0?xt(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Yk(t){let e,s,n,r,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(r="end",i="start"):(r="start",i="end"),{start:s,end:n,reverse:e,top:r,bottom:i}}function Gk(t,e,s,n){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:h}=Yk(t);r==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?r=d:(s._bottom||0)===n?r=h:(i[dh(h,o,l,c)]=!0,r=d)),i[dh(r,o,l,c)]=!0,t.borderSkipped=i}function dh(t,e,s,n){return n?(t=Kk(t,e,s),t=hh(t,s,e)):t=hh(t,e,s),t}function Kk(t,e,s){return t===e?s:t===s?e:t}function hh(t,e,s){return t==="start"?e:t==="end"?s:t}function qk(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class zn extends ot{parsePrimitiveData(e,s,n,r){return ch(e,s,n,r)}parseArrayData(e,s,n,r){return ch(e,s,n,r)}parseObjectData(e,s,n,r){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,h=o.axis==="x"?l:c,m=[];let u,g,f,x;for(u=n,g=n+r;u<g;++u)x=s[u],f={},f[i.axis]=i.parse(Kt(x,d),u),m.push(Cg(Kt(x,h),f,o,u));return m}updateRangeFromParsed(e,s,n,r){super.updateRangeFromParsed(e,s,n,r);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:r}=s,i=this.getParsed(e),o=i._custom,l=Gi(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:u}=this._getSharedOptions(s,r);for(let g=s;g<s+n;g++){const f=this.getParsed(g),x=i||ne(f[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,h),y=(f._stacks||{})[l.axis],j={horizontal:d,base:x.base,enableBorderRadius:!y||Gi(f._custom)||o===y._top||o===y._bottom,x:d?x.head:b.center,y:d?b.center:x.head,height:d?b.size:Math.abs(x.size),width:d?Math.abs(x.size):b.size};u&&(j.options=m||this.resolveDataElementOptions(g,e[g].active?"active":r));const S=j.options||e[g].options;Gk(j,S,y,o),qk(j,S,h.ratio),this.updateElement(e[g],g,j,r)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=h=>{const m=h._parsed.find(g=>g[n.axis]===c),u=m&&m[h.vScale.axis];if(ne(u)||isNaN(u))return!0};for(const h of r)if(!(s!==void 0&&d(h))&&((i===!1||o.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[q(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const r=this._getStacks(e,n),i=s!==void 0?r.indexOf(s):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,r=[];let i,o;for(i=0,o=s.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||Vk(s),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,h=Gi(d);let m=c[s.axis],u=0,g=n?this.applyStack(s,c,n):m,f,x;g!==m&&(u=g-m,g=m),h&&(m=d.barStart,g=d.barEnd-d.barStart,m!==0&&xt(m)!==xt(d.barEnd)&&(u=0),u+=m);const b=!ne(i)&&!h?i:u;let y=s.getPixelForValue(b);if(this.chart.getDataVisibility(e)?f=s.getPixelForValue(u+g):f=y,x=f-y,Math.abs(x)<o){x=Wk(x,s,l)*o,m===l&&(y-=x/2);const j=s.getPixelForDecimal(0),S=s.getPixelForDecimal(1),C=Math.min(j,S),w=Math.max(j,S);y=Math.max(Math.min(y,w),C),f=y+x,n&&!h&&(c._stacks[s.axis]._visualValues[r]=s.getValueForPixel(f)-s.getValueForPixel(y))}if(y===s.getPixelForValue(l)){const j=xt(x)*s.getLineWidthForValue(l)/2;y+=j,x-=j}return{size:x,base:y,head:f,center:f+x/2}}_calculateBarIndexPixels(e,s){const n=s.scale,r=this.options,i=r.skipNull,o=q(r.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(s.grouped){const h=i?this._getStackCount(e):s.stackCount,m=r.barThickness==="flex"?zk(e,s,r,h*d):Hk(e,s,r,h*d),u=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(q(u,this.getFirstScaleIdForIndexAxis())),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=m.start+m.chunk*f+m.chunk/2,c=Math.min(o,m.chunk*m.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}$(zn,"id","bar"),$(zn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(zn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class va extends ot{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,n,r){const i=super.parsePrimitiveData(e,s,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,s,n,r){const i=super.parseArrayData(e,s,n,r);for(let o=0;o<i.length;o++){const l=s[n+o];i[o]._custom=q(l[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,s,n,r){const i=super.parseObjectData(e,s,n,r);for(let o=0;o<i.length;o++){const l=s[n+o];i[o]._custom=q(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let n=e.length-1;n>=0;--n)s=Math.max(s,e[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=s,o=this.getParsed(e),l=r.getLabelForValue(o.x),c=i.getLabelForValue(o.y),d=o._custom;return{label:n[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,n,r){const i=r==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(s,r),h=o.axis,m=l.axis;for(let u=s;u<s+n;u++){const g=e[u],f=!i&&this.getParsed(u),x={},b=x[h]=i?o.getPixelForDecimal(.5):o.getPixelForValue(f[h]),y=x[m]=i?l.getBasePixel():l.getPixelForValue(f[m]);x.skip=isNaN(b)||isNaN(y),d&&(x.options=c||this.resolveDataElementOptions(u,g.active?"active":r),i&&(x.options.radius=0)),this.updateElement(g,u,x,r)}}resolveDataElementOptions(e,s){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,s);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return s!=="active"&&(r.radius=0),r.radius+=q(n&&n._custom,i),r}}$(va,"id","bubble"),$(va,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(va,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Jk(t,e,s){let n=1,r=1,i=0,o=0;if(e<he){const l=t,c=l+e,d=Math.cos(l),h=Math.sin(l),m=Math.cos(c),u=Math.sin(c),g=(S,C,w)=>or(S,l,c,!0)?1:Math.max(C,C*s,w,w*s),f=(S,C,w)=>or(S,l,c,!0)?-1:Math.min(C,C*s,w,w*s),x=g(0,d,m),b=g(we,h,u),y=f(ae,d,m),j=f(ae+we,h,u);n=(x-y)/2,r=(b-j)/2,i=-(x+y)/2,o=-(b+j)/2}return{ratioX:n,ratioY:r,offsetX:i,offsetY:o}}class Vt extends ot{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let i=c=>+n[c];if(re(n[e])){const{key:c="value"}=this._parsing;i=d=>+Kt(n[d],c)}let o,l;for(o=e,l=e+s;o<l;++o)r._parsed[o]=i(o)}}_getRotation(){return it(this.options.rotation-90)}_getCircumference(){return it(this.options.circumference)}_getRotationExtents(){let e=he,s=-he;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(lw(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:u,ratioY:g,offsetX:f,offsetY:x}=Jk(m,h,c),b=(n.width-o)/u,y=(n.height-o)/g,j=Math.max(Math.min(b,y)/2,0),S=Zm(this.options.radius,j),C=Math.max(S*c,0),w=(S-C)/this._getVisibleDatasetWeightTotal();this.offsetX=f*S,this.offsetY=x*S,r.total=this.calculateTotal(),this.outerRadius=S-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/he)}updateElements(e,s,n,r){const i=r==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,h=(l.left+l.right)/2,m=(l.top+l.bottom)/2,u=i&&d.animateScale,g=u?0:this.innerRadius,f=u?0:this.outerRadius,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(s,r);let y=this._getRotation(),j;for(j=0;j<s;++j)y+=this._circumference(j,i);for(j=s;j<s+n;++j){const S=this._circumference(j,i),C=e[j],w={x:h+this.offsetX,y:m+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:f,innerRadius:g};b&&(w.options=x||this.resolveDataElementOptions(j,C.active?"active":r)),y+=S,this.updateElement(C,j,w,r)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,r;for(r=0;r<s.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!s[r].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?he*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Pr(s._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let r,i,o,l,c;if(!e){for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,l=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,r=e.length;n<r;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(Vt,"id","doughnut"),$(Vt,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(Vt,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(Vt,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return s.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class ja extends ot{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=og(s,r,o);this._drawStart=l,this._drawCount=c,lg(s)&&(l=0,c=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,s,n,r){const i=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,r),u=o.axis,g=l.axis,{spanGaps:f,segment:x}=this.options,b=tn(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||r==="none",j=s+n,S=e.length;let C=s>0&&this.getParsed(s-1);for(let w=0;w<S;++w){const M=e[w],N=y?M:{};if(w<s||w>=j){N.skip=!0;continue}const k=this.getParsed(w),_=ne(k[g]),E=N[u]=o.getPixelForValue(k[u],w),T=N[g]=i||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[g],w);N.skip=isNaN(E)||isNaN(T)||_,N.stop=w>0&&Math.abs(k[u]-C[u])>b,x&&(N.parsed=k,N.raw=d.data[w]),m&&(N.options=h||this.resolveDataElementOptions(w,M.active?"active":r)),y||this.updateElement(M,w,N,r),C=k}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(ja,"id","line"),$(ja,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(ja,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Un extends ot{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Pr(s._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,s,n,r){return xg.bind(this)(e,s,n,r)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<s.min&&(s.min=i),i>s.max&&(s.max=i))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,n=e.options,r=Math.min(s.right-s.left,s.bottom-s.top),i=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,s,n,r){const i=r==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,m=d.yCenter,u=d.getIndexAngle(0)-.5*ae;let g=u,f;const x=360/this.countVisibleElements();for(f=0;f<s;++f)g+=this._computeAngle(f,r,x);for(f=s;f<s+n;f++){const b=e[f];let y=g,j=g+this._computeAngle(f,r,x),S=o.getDataVisibility(f)?d.getDistanceFromCenterForValue(this.getParsed(f).r):0;g=j,i&&(c.animateScale&&(S=0),c.animateRotate&&(y=j=u));const C={x:h,y:m,innerRadius:0,outerRadius:S,startAngle:y,endAngle:j,options:this.resolveDataElementOptions(f,b.active?"active":r)};this.updateElement(b,f,C,r)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&s++}),s}_computeAngle(e,s,n){return this.chart.getDataVisibility(e)?it(this.resolveDataElementOptions(e,s).angle||n):0}}$(Un,"id","polarArea"),$(Un,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(Un,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return s.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ho extends Vt{}$(Ho,"id","pie"),$(Ho,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wn extends ot{getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,r){return xg.bind(this)(e,s,n,r)}update(e){const s=this._cachedMeta,n=s.dataset,r=s.data||[],i=s.iScale.getLabels();if(n.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===r.length,options:o};this.updateElement(n,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,s,n,r){const i=this._cachedMeta.rScale,o=r==="reset";for(let l=s;l<s+n;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":r),h=i.getPointPositionForValue(l,this.getParsed(l).r),m=o?i.xCenter:h.x,u=o?i.yCenter:h.y,g={x:m,y:u,angle:h.angle,skip:isNaN(m)||isNaN(u),options:d};this.updateElement(c,l,g,r)}}}$(Wn,"id","radar"),$(Wn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(Wn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class wa extends ot{getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=s,o=this.getParsed(e),l=r.getLabelForValue(o.x),c=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const s=this._cachedMeta,{data:n=[]}=s,r=this.chart._animationsDisabled;let{start:i,count:o}=og(s,n,r);if(this._drawStart=i,this._drawCount=o,lg(s)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=s;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,n,r){const i=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(s,r),m=this.getSharedOptions(h),u=this.includeOptions(r,m),g=o.axis,f=l.axis,{spanGaps:x,segment:b}=this.options,y=tn(x)?x:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||r==="none";let S=s>0&&this.getParsed(s-1);for(let C=s;C<s+n;++C){const w=e[C],M=this.getParsed(C),N=j?w:{},k=ne(M[f]),_=N[g]=o.getPixelForValue(M[g],C),E=N[f]=i||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,M,c):M[f],C);N.skip=isNaN(_)||isNaN(E)||k,N.stop=C>0&&Math.abs(M[g]-S[g])>y,b&&(N.parsed=M,N.raw=d.data[C]),u&&(N.options=m||this.resolveDataElementOptions(C,w.active?"active":r)),j||this.updateElement(w,C,N,r),S=M}this.updateSharedOptions(m,r,h)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let l=0;for(let c=s.length-1;c>=0;--c)l=Math.max(l,s[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}}$(wa,"id","scatter"),$(wa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(wa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Xk=Object.freeze({__proto__:null,BarController:zn,BubbleController:va,DoughnutController:Vt,LineController:ja,PieController:Ho,PolarAreaController:Un,RadarController:Wn,ScatterController:wa});function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nc{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(nc.prototype,e)}init(){}formats(){return as()}parse(){return as()}format(){return as()}add(){return as()}diff(){return as()}startOf(){return as()}endOf(){return as()}}var Qk={_date:nc};function Zk(t,e,s,n){const{controller:r,data:i,_sorted:o}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?jw:Mt;if(n){if(r._sharedOptions){const h=i[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const u=d(i,e,s-m),g=d(i,e,s+m);return{lo:u.lo,hi:g.hi}}}}else{const h=d(i,e,s);if(c){const{vScale:m}=r._cachedMeta,{_parsed:u}=t,g=u.slice(0,h.lo+1).reverse().findIndex(x=>!ne(x[m.axis]));h.lo-=Math.max(0,g);const f=u.slice(h.hi).findIndex(x=>!ne(x[m.axis]));h.hi+=Math.max(0,f)}return h}}return{lo:0,hi:i.length-1}}function vi(t,e,s,n,r){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:h}=i[l],{lo:m,hi:u}=Zk(i[l],e,o,r);for(let g=m;g<=u;++g){const f=h[g];f.skip||n(f,d,g)}}}function eN(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,r){const i=e?Math.abs(n.x-r.x):0,o=s?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Ki(t,e,s,n,r){const i=[];return!r&&!t.isPointInArea(e)||vi(t,s,e,function(l,c,d){!r&&!Et(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function tN(t,e,s,n){let r=[];function i(o,l,c){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:m}=sg(o,{x:e.x,y:e.y});or(m,d,h)&&r.push({element:o,datasetIndex:l,index:c})}return vi(t,s,e,i),r}function sN(t,e,s,n,r,i){let o=[];const l=eN(s);let c=Number.POSITIVE_INFINITY;function d(h,m,u){const g=h.inRange(e.x,e.y,r);if(n&&!g)return;const f=h.getCenterPoint(r);if(!(!!i||t.isPointInArea(f))&&!g)return;const b=l(e,f);b<c?(o=[{element:h,datasetIndex:m,index:u}],c=b):b===c&&o.push({element:h,datasetIndex:m,index:u})}return vi(t,s,e,d),o}function qi(t,e,s,n,r,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?tN(t,e,s,r):sN(t,e,s,n,r,i)}function uh(t,e,s,n,r){const i=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return vi(t,s,e,(c,d,h)=>{c[o]&&c[o](e[s],r)&&(i.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(e.x,e.y,r))}),n&&!l?[]:i}var nN={modes:{index(t,e,s,n){const r=ls(e,t),i=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?Ki(t,r,i,n,o):qi(t,r,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,m=d.data[h];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:h})}),c):[]},dataset(t,e,s,n){const r=ls(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?Ki(t,r,i,n,o):qi(t,r,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point(t,e,s,n){const r=ls(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return Ki(t,r,i,n,o)},nearest(t,e,s,n){const r=ls(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return qi(t,r,i,s.intersect,n,o)},x(t,e,s,n){const r=ls(e,t);return uh(t,r,"x",s.intersect,n)},y(t,e,s,n){const r=ls(e,t);return uh(t,r,"y",s.intersect,n)}}};const _g=["left","top","right","bottom"];function kn(t,e){return t.filter(s=>s.pos===e)}function mh(t,e){return t.filter(s=>_g.indexOf(s.pos)===-1&&s.box.axis===e)}function Nn(t,e){return t.sort((s,n)=>{const r=e?n:s,i=e?s:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function rN(t){const e=[];let s,n,r,i,o,l;for(s=0,n=(t||[]).length;s<n;++s)r=t[s],{position:i,options:{stack:o,stackWeight:l=1}}=r,e.push({index:s,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:l});return e}function aN(t){const e={};for(const s of t){const{stack:n,pos:r,stackWeight:i}=s;if(!n||!_g.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function iN(t,e){const s=aN(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=s[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*n:c&&e.availableWidth,l.height=r):(l.width=n,l.height=h?h*r:c&&e.availableHeight)}return s}function oN(t){const e=rN(t),s=Nn(e.filter(d=>d.box.fullSize),!0),n=Nn(kn(e,"left"),!0),r=Nn(kn(e,"right")),i=Nn(kn(e,"top"),!0),o=Nn(kn(e,"bottom")),l=mh(e,"x"),c=mh(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:kn(e,"chartArea"),vertical:n.concat(r).concat(c),horizontal:i.concat(o).concat(l)}}function gh(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Mg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lN(t,e,s,n){const{pos:r,box:i}=s,o=t.maxPadding;if(!re(r)){s.size&&(t[r]-=s.size);const m=n[s.stack]||{size:0,count:1};m.size=Math.max(m.size,s.horizontal?i.height:i.width),s.size=m.size/m.count,t[r]+=s.size}i.getPadding&&Mg(o,i.getPadding());const l=Math.max(0,e.outerWidth-gh(o,t,"left","right")),c=Math.max(0,e.outerHeight-gh(o,t,"top","bottom")),d=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:d,other:h}:{same:h,other:d}}function cN(t){const e=t.maxPadding;function s(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function dN(t,e){const s=e.maxPadding;function n(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Pn(t,e,s,n){const r=[];let i,o,l,c,d,h;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,dN(l.horizontal,e));const{same:m,other:u}=lN(e,s,l,n);d|=m&&r.length,h=h||u,c.fullSize||r.push(l)}return d&&Pn(r,e,s,n)||h}function ta(t,e,s,n,r){t.top=s,t.left=e,t.right=e+n,t.bottom=s+r,t.width=n,t.height=r}function fh(t,e,s,n){const r=s.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*h,u=d.size||c.height;ir(d.start)&&(o=d.start),c.fullSize?ta(c,r.left,o,s.outerWidth-r.right-r.left,u):ta(c,e.left+d.placed,o,m,u),d.start=o,d.placed+=m,o=c.bottom}else{const m=e.h*h,u=d.size||c.width;ir(d.start)&&(i=d.start),c.fullSize?ta(c,i,r.top,u,s.outerHeight-r.bottom-r.top):ta(c,i,e.top+d.placed,u,m),d.start=i,d.placed+=m,i=c.right}}e.x=i,e.y=o}var Ae={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const r=Pe(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(s-r.height,0),l=oN(t.boxes),c=l.vertical,d=l.horizontal;ie(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const h=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:s,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/h,hBoxMaxHeight:o/2}),u=Object.assign({},r);Mg(u,Pe(n));const g=Object.assign({maxPadding:u,w:i,h:o,x:r.left,y:r.top},r),f=iN(c.concat(d),m);Pn(l.fullSize,g,m,f),Pn(c,g,m,f),Pn(d,g,m,f)&&Pn(c,g,m,f),cN(g),fh(l.leftAndTop,g,m,f),g.x+=g.w,g.y+=g.h,fh(l.rightAndBottom,g,m,f),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ie(l.chartArea,x=>{const b=x.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Eg{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,r){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,r?Math.floor(s/r):n)}}isAttached(e){return!0}updateConfig(e){}}class hN extends Eg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ka="$chartjs",uN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xh=t=>t===null||t==="";function mN(t,e){const s=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[ka]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",xh(r)){const i=Zd(t,"width");i!==void 0&&(t.width=i)}if(xh(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Zd(t,"height");i!==void 0&&(t.height=i)}return t}const Tg=gk?{passive:!0}:!1;function gN(t,e,s){t&&t.addEventListener(e,s,Tg)}function fN(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Tg)}function xN(t,e){const s=uN[t.type]||t.type,{x:n,y:r}=ls(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function $a(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function pN(t,e,s){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||$a(l.addedNodes,n),o=o&&!$a(l.removedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function bN(t,e,s){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||$a(l.removedNodes,n),o=o&&!$a(l.addedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const cr=new Map;let ph=0;function Ag(){const t=window.devicePixelRatio;t!==ph&&(ph=t,cr.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function yN(t,e){cr.size||window.addEventListener("resize",Ag),cr.set(t,e)}function vN(t){cr.delete(t),cr.size||window.removeEventListener("resize",Ag)}function jN(t,e,s){const n=t.canvas,r=n&&sc(n);if(!r)return;const i=ig((l,c)=>{const d=r.clientWidth;s(l,c),d<r.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;d===0&&h===0||i(d,h)});return o.observe(r),yN(t,i),o}function Ji(t,e,s){s&&s.disconnect(),e==="resize"&&vN(t)}function wN(t,e,s){const n=t.canvas,r=ig(i=>{t.ctx!==null&&s(xN(i,t))},t);return gN(n,e,r),r}class kN extends Eg{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(mN(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[ka])return!1;const n=s[ka].initial;["height","width"].forEach(i=>{const o=n[i];ne(o)?s.removeAttribute(i):s.setAttribute(i,o)});const r=n.style||{};return Object.keys(r).forEach(i=>{s.style[i]=r[i]}),s.width=s.width,delete s[ka],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const r=e.$proxies||(e.$proxies={}),o={attach:pN,detach:bN,resize:jN}[s]||wN;r[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),r=n[s];if(!r)return;({attach:Ji,detach:Ji,resize:Ji}[s]||fN)(e,s,r),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,r){return mk(e,s,n,r)}isAttached(e){const s=e&&sc(e);return!!(s&&s.isConnected)}}function NN(t){return!tc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?hN:kN}var fa;let Rt=(fa=class{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return tn(this.x)&&tn(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const r={};return e.forEach(i=>{r[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),r}},$(fa,"defaults",{}),$(fa,"defaultRoutes"),fa);function SN(t,e){const s=t.options.ticks,n=CN(t),r=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?MN(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>r)return EN(e,d,i,o/r),d;const h=_N(i,e,r);if(o>0){let m,u;const g=o>1?Math.round((c-l)/(o-1)):null;for(sa(e,d,h,ne(g)?0:l-g,l),m=0,u=o-1;m<u;m++)sa(e,d,h,i[m],i[m+1]);return sa(e,d,h,c,ne(g)?e.length:c+g),d}return sa(e,d,h),d}function CN(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),r=t._maxLength/s;return Math.floor(Math.min(n,r))}function _N(t,e,s){const n=TN(t),r=e.length/s;if(!n)return Math.max(r,1);const i=xw(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function MN(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function EN(t,e,s,n){let r=0,i=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=s[r*n])}function sa(t,e,s,n,r){const i=q(n,0),o=Math.min(q(r,t.length),t.length);let l=0,c,d,h;for(s=Math.ceil(s),r&&(c=r-n,s=c/Math.floor(c/s)),h=i;h<0;)l++,h=Math.round(i+l*s);for(d=Math.max(i,0);d<o;d++)d===h&&(e.push(t[d]),l++,h=Math.round(i+l*s))}function TN(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const AN=t=>t==="left"?"right":t==="right"?"left":t,bh=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,yh=(t,e)=>Math.min(e||t,t);function vh(t,e){const s=[],n=t.length/e,r=t.length;let i=0;for(;i<r;i+=n)s.push(t[Math.floor(i)]);return s}function DN(t,e,s){const n=t.ticks.length,r=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),d;if(!(s&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<i-l||c>o+l)))return c}function PN(t,e){ie(t,s=>{const n=s.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete s.data[n[i]];n.splice(0,r)}})}function Sn(t){return t.drawTicks?t.tickLength:0}function jh(t,e){if(!t.display)return 0;const s=Se(t.font,e),n=Pe(t.padding);return(ue(t.text)?t.text.length:1)*s.lineHeight+n.height}function RN(t,e){return es(t,{scale:e,type:"scale"})}function LN(t,e,s){return es(t,{tick:s,index:e,type:"tick"})}function ON(t,e,s){let n=ql(t);return(s&&e!=="right"||!s&&e==="right")&&(n=AN(n)),n}function IN(t,e,s,n){const{top:r,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:h}=c;let m=0,u,g,f;const x=o-r,b=l-i;if(t.isHorizontal()){if(g=Me(n,i,l),re(s)){const y=Object.keys(s)[0],j=s[y];f=h[y].getPixelForValue(j)+x-e}else s==="center"?f=(d.bottom+d.top)/2+x-e:f=bh(t,s,e);u=l-i}else{if(re(s)){const y=Object.keys(s)[0],j=s[y];g=h[y].getPixelForValue(j)-b+e}else s==="center"?g=(d.left+d.right)/2-b+e:g=bh(t,s,e);f=Me(n,o,r),m=s==="left"?-we:we}return{titleX:g,titleY:f,maxWidth:u,rotation:m}}class As extends Rt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:r}=this;return e=Ue(e,Number.POSITIVE_INFINITY),s=Ue(s,Number.NEGATIVE_INFINITY),n=Ue(n,Number.POSITIVE_INFINITY),r=Ue(r,Number.NEGATIVE_INFINITY),{min:Ue(e,n),max:Ue(s,r),minDefined:ye(e),maxDefined:ye(s)}}getMinMax(e){let{min:s,max:n,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),r||(s=Math.min(s,o.min)),i||(n=Math.max(n,o.max));return s=i&&s>n?n:s,n=r&&s>n?s:n,{min:Ue(s,Ue(n,s)),max:Ue(n,Ue(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ww(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?vh(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=ce(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=yh(this.ticks.length,e.ticks.maxTicksLimit),r=s.minRotation||0,i=s.maxRotation;let o=r,l,c,d;if(!this._isVisible()||!s.display||r>=i||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),m=h.widest.width,u=h.highest.height,g=Ce(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),m+6>l&&(l=g/(n-(e.offset?.5:1)),c=this.maxHeight-Sn(e.grid)-s.padding-jh(e.title,this.chart.options.font),d=Math.sqrt(m*m+u*u),o=Gl(Math.min(Math.asin(Ce((h.highest.height+6)/l,-1,1)),Math.asin(Ce(c/d,-1,1))-Math.asin(Ce(u/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=jh(r,s.options.font);if(l?(e.width=this.maxWidth,e.height=Sn(i)+c):(e.height=this.maxHeight,e.width=Sn(i)+c),n.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:u}=this._getLabelSizes(),g=n.padding*2,f=it(this.labelRotation),x=Math.cos(f),b=Math.sin(f);if(l){const y=n.mirror?0:b*m.width+x*u.height;e.height=Math.min(this.maxHeight,e.height+y+g)}else{const y=n.mirror?0:x*m.width+b*u.height;e.width=Math.min(this.maxWidth,e.width+y+g)}this._calculatePadding(d,h,b,x)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,r){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,g=0;c?d?(u=r*e.width,g=n*s.height):(u=n*e.height,g=r*s.width):i==="start"?g=s.width:i==="end"?u=e.width:i!=="inner"&&(u=e.width/2,g=s.width/2),this.paddingLeft=Math.max((u-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-m+o)*this.width/(this.width-m),0)}else{let h=s.height/2,m=e.height/2;i==="start"?(h=0,m=e.height):i==="end"&&(h=s.height,m=0),this.paddingTop=h+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ne(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=vh(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:r,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(s/yh(s,n));let d=0,h=0,m,u,g,f,x,b,y,j,S,C,w;for(m=0;m<s;m+=c){if(f=e[m].label,x=this._resolveTickFontOptions(m),r.font=b=x.string,y=i[b]=i[b]||{data:{},gc:[]},j=x.lineHeight,S=C=0,!ne(f)&&!ue(f))S=Fa(r,y.data,y.gc,S,f),C=j;else if(ue(f))for(u=0,g=f.length;u<g;++u)w=f[u],!ne(w)&&!ue(w)&&(S=Fa(r,y.data,y.gc,S,w),C+=j);o.push(S),l.push(C),d=Math.max(S,d),h=Math.max(C,h)}PN(i,s);const M=o.indexOf(d),N=l.indexOf(h),k=_=>({width:o[_]||0,height:l[_]||0});return{first:k(0),last:k(s-1),widest:k(M),highest:k(N),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return vw(this._alignToPixels?rs(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=LN(this.getContext(),e,n))}return this.$context||(this.$context=RN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=it(this.labelRotation),n=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*r?l/n:c/r:c*r<l*n?c/n:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:l}=r,c=i.offset,d=this.isHorizontal(),m=this.ticks.length+(c?1:0),u=Sn(i),g=[],f=l.setContext(this.getContext()),x=f.display?f.width:0,b=x/2,y=function(F){return rs(n,F,x)};let j,S,C,w,M,N,k,_,E,T,R,P;if(o==="top")j=y(this.bottom),N=this.bottom-u,_=j-b,T=y(e.top)+b,P=e.bottom;else if(o==="bottom")j=y(this.top),T=e.top,P=y(e.bottom)-b,N=j+b,_=this.top+u;else if(o==="left")j=y(this.right),M=this.right-u,k=j-b,E=y(e.left)+b,R=e.right;else if(o==="right")j=y(this.left),E=e.left,R=y(e.right)-b,M=j+b,k=this.left+u;else if(s==="x"){if(o==="center")j=y((e.top+e.bottom)/2+.5);else if(re(o)){const F=Object.keys(o)[0],L=o[F];j=y(this.chart.scales[F].getPixelForValue(L))}T=e.top,P=e.bottom,N=j+b,_=N+u}else if(s==="y"){if(o==="center")j=y((e.left+e.right)/2);else if(re(o)){const F=Object.keys(o)[0],L=o[F];j=y(this.chart.scales[F].getPixelForValue(L))}M=j-b,k=M-u,E=e.left,R=e.right}const O=q(r.ticks.maxTicksLimit,m),D=Math.max(1,Math.ceil(m/O));for(S=0;S<m;S+=D){const F=this.getContext(S),L=i.setContext(F),I=l.setContext(F),H=L.lineWidth,G=L.color,Q=I.dash||[],z=I.dashOffset,J=L.tickWidth,V=L.tickColor,W=L.tickBorderDash||[],Z=L.tickBorderDashOffset;C=DN(this,S,c),C!==void 0&&(w=rs(n,C,H),d?M=k=E=R=w:N=_=T=P=w,g.push({tx1:M,ty1:N,tx2:k,ty2:_,x1:E,y1:T,x2:R,y2:P,width:H,color:G,borderDash:Q,borderDashOffset:z,tickWidth:J,tickColor:V,tickBorderDash:W,tickBorderDashOffset:Z}))}return this._ticksLength=m,this._borderValue=j,g}_computeLabelItems(e){const s=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:m}=i,u=Sn(n.grid),g=u+h,f=m?-h:g,x=-it(this.labelRotation),b=[];let y,j,S,C,w,M,N,k,_,E,T,R,P="middle";if(r==="top")M=this.bottom-f,N=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+f,N=this._getXAxisLabelAlignment();else if(r==="left"){const D=this._getYAxisLabelAlignment(u);N=D.textAlign,w=D.x}else if(r==="right"){const D=this._getYAxisLabelAlignment(u);N=D.textAlign,w=D.x}else if(s==="x"){if(r==="center")M=(e.top+e.bottom)/2+g;else if(re(r)){const D=Object.keys(r)[0],F=r[D];M=this.chart.scales[D].getPixelForValue(F)+g}N=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")w=(e.left+e.right)/2-g;else if(re(r)){const D=Object.keys(r)[0],F=r[D];w=this.chart.scales[D].getPixelForValue(F)}N=this._getYAxisLabelAlignment(u).textAlign}s==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const O=this._getLabelSizes();for(y=0,j=l.length;y<j;++y){S=l[y],C=S.label;const D=i.setContext(this.getContext(y));k=this.getPixelForTick(y)+i.labelOffset,_=this._resolveTickFontOptions(y),E=_.lineHeight,T=ue(C)?C.length:1;const F=T/2,L=D.color,I=D.textStrokeColor,H=D.textStrokeWidth;let G=N;o?(w=k,N==="inner"&&(y===j-1?G=this.options.reverse?"left":"right":y===0?G=this.options.reverse?"right":"left":G="center"),r==="top"?d==="near"||x!==0?R=-T*E+E/2:d==="center"?R=-O.highest.height/2-F*E+E:R=-O.highest.height+E/2:d==="near"||x!==0?R=E/2:d==="center"?R=O.highest.height/2-F*E:R=O.highest.height-T*E,m&&(R*=-1),x!==0&&!D.showLabelBackdrop&&(w+=E/2*Math.sin(x))):(M=k,R=(1-T)*E/2);let Q;if(D.showLabelBackdrop){const z=Pe(D.backdropPadding),J=O.heights[y],V=O.widths[y];let W=R-z.top,Z=0-z.left;switch(P){case"middle":W-=J/2;break;case"bottom":W-=J;break}switch(N){case"center":Z-=V/2;break;case"right":Z-=V;break;case"inner":y===j-1?Z-=V:y>0&&(Z-=V/2);break}Q={left:Z,top:W,width:V+z.width,height:J+z.height,color:D.backdropColor}}b.push({label:C,font:_,textOffset:R,options:{rotation:x,color:L,strokeColor:I,strokeWidth:H,textAlign:G,textBaseline:P,translation:[w,M],backdrop:Q}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-it(this.labelRotation))return e==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,h;return s==="left"?r?(h=this.right+i,n==="near"?d="left":n==="center"?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,n==="near"?d="right":n==="center"?(d="center",h-=c/2):(d="left",h=this.left)):s==="right"?r?(h=this.left+i,n==="near"?d="right":n==="center"?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,n==="near"?d="left":n==="center"?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:r,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(i=0,o=r.length;i<o;++i){const c=r[i];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,m,u;this.isHorizontal()?(d=rs(e,this.left,o)-o/2,h=rs(e,this.right,l)+l/2,m=u=c):(m=rs(e,this.top,o)-o/2,u=rs(e,this.bottom,l)+l/2,d=h=c),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(d,m),s.lineTo(h,u),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&pi(n,r);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,h=o.textOffset;Ms(n,d,0,h,c,l)}r&&bi(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:r}}=this;if(!n.display)return;const i=Se(n.font),o=Pe(n.padding),l=n.align;let c=i.lineHeight/2;s==="bottom"||s==="center"||re(s)?(c+=o.bottom,ue(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:h,maxWidth:m,rotation:u}=IN(this,c,s,l);Ms(e,n.text,0,0,i,{color:n.color,maxWidth:m,rotation:u,textAlign:ON(l,s,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=q(e.grid&&e.grid.z,-1),r=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==As.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=s.length;i<o;++i){const l=s[i];l[n]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Se(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class na{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;$N(s)&&(n=this.register(s));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,FN(e,o,n),this.override&&me.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,r=this.scope;n in s&&delete s[n],r&&n in me[r]&&(delete me[r][n],this.override&&delete _s[n])}}function FN(t,e,s){const n=ar(Object.create(null),[s?me.get(s):{},me.get(e),t.defaults]);me.set(e,n),t.defaultRoutes&&BN(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function BN(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),r=n.pop(),i=[t].concat(n).join("."),o=e[s].split("."),l=o.pop(),c=o.join(".");me.route(i,r,c,l)})}function $N(t){return"id"in t&&"defaults"in t}class VN{constructor(){this.controllers=new na(ot,"datasets",!0),this.elements=new na(Rt,"elements"),this.plugins=new na(Object,"plugins"),this.scales=new na(As,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(r=>{const i=n||this._getRegistryForType(r);n||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):ie(r,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,s,n){const r=Yl(e);ce(n["before"+r],[],n),s[e](n),ce(n["after"+r],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const r=s.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var gt=new VN;class HN{constructor(){this._init=[]}notify(e,s,n,r){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,r){r=r||{};for(const i of e){const o=i.plugin,l=o[n],c=[s,r,i.options];if(ce(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,r=q(n.options&&n.options.plugins,{}),i=zN(n);return r===!1&&!s?[]:WN(e,i,r,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,r=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(s,n),e,"stop"),this._notify(r(n,s),e,"start")}}function zN(t){const e={},s=[],n=Object.keys(gt.plugins.items);for(let i=0;i<n.length;i++)s.push(gt.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function UN(t,e){return!e&&t===!1?null:t===!0?{}:t}function WN(t,{plugins:e,localIds:s},n,r){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=UN(n[c],r);d!==null&&i.push({plugin:l,options:YN(t.config,{plugin:l,local:s[c]},d,o)})}return i}function YN(t,{plugin:e,local:s},n,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zo(t,e){const s=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function GN(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function KN(t,e){return t===e?"_index_":"_value_"}function wh(t){if(t==="x"||t==="y"||t==="r")return t}function qN(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Uo(t,...e){if(wh(t))return t;for(const s of e){const n=s.axis||qN(s.position)||t.length>1&&wh(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kh(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function JN(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return kh(t,"x",s[0])||kh(t,"y",s[0])}return{}}function XN(t,e){const s=_s[t.type]||{scales:{}},n=e.scales||{},r=zo(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!re(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Uo(o,l,JN(o,t),me.scales[l.type]),d=KN(c,r),h=s.scales||{};i[o]=Bn(Object.create(null),[{axis:c},l,h[c],h[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||zo(l,e),h=(_s[l]||{}).scales||{};Object.keys(h).forEach(m=>{const u=GN(m,c),g=o[u+"AxisID"]||u;i[g]=i[g]||Object.create(null),Bn(i[g],[{axis:u},n[g],h[m]])})}),Object.keys(i).forEach(o=>{const l=i[o];Bn(l,[me.scales[l.type],me.scale])}),i}function Dg(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=XN(t,e)}function Pg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function QN(t){return t=t||{},t.data=Pg(t.data),Dg(t),t}const Nh=new Map,Rg=new Set;function ra(t,e){let s=Nh.get(t);return s||(s=e(),Nh.set(t,s),Rg.add(s)),s}const Cn=(t,e,s)=>{const n=Kt(e,s);n!==void 0&&t.add(n)};class ZN{constructor(e){this._config=QN(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Pg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Dg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ra(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return ra(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return ra(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return ra(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let r=n.get(e);return(!r||s)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,s,n){const{options:r,type:i}=this,o=this._cachedScopes(e,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(h=>{e&&(c.add(e),h.forEach(m=>Cn(c,e,m))),h.forEach(m=>Cn(c,r,m)),h.forEach(m=>Cn(c,_s[i]||{},m)),h.forEach(m=>Cn(c,me,m)),h.forEach(m=>Cn(c,$o,m))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Rg.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,_s[s]||{},me.datasets[s]||{},{type:s},me,$o]}resolveNamedOptions(e,s,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=Sh(this._resolverCache,e,r);let c=o;if(t5(o,s)){i.$shared=!1,n=qt(n)?n():n;const d=this.createResolver(e,n,l);c=sn(o,n,d)}for(const d of s)i[d]=c[d];return i}createResolver(e,s,n=[""],r){const{resolver:i}=Sh(this._resolverCache,e,n);return re(s)?sn(i,s,void 0,r):i}}function Sh(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=s.join();let i=n.get(r);return i||(i={resolver:Ql(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,i)),i}const e5=t=>re(t)&&Object.getOwnPropertyNames(t).some(e=>qt(t[e]));function t5(t,e){const{isScriptable:s,isIndexable:n}=ug(t);for(const r of e){const i=s(r),o=n(r),l=(o||i)&&t[r];if(i&&(qt(l)||e5(l))||o&&ue(l))return!0}return!1}var s5="4.5.0";const n5=["top","bottom","left","right","chartArea"];function Ch(t,e){return t==="top"||t==="bottom"||n5.indexOf(t)===-1&&e==="x"}function _h(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function Mh(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),ce(s&&s.onComplete,[t],e)}function r5(t){const e=t.chart,s=e.options.animation;ce(s&&s.onProgress,[t],e)}function Lg(t){return tc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Na={},Eh=t=>{const e=Lg(t);return Object.values(Na).filter(s=>s.canvas===e).pop()};function a5(t,e,s){const n=Object.keys(t);for(const r of n){const i=+r;if(i>=e){const o=t[r];delete t[r],(s>0||i>e)&&(t[i+s]=o)}}}function i5(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var Lt;let dt=(Lt=class{static register(...e){gt.add(...e),Th()}static unregister(...e){gt.remove(...e),Th()}constructor(e,s){const n=this.config=new ZN(s),r=Lg(e),i=Eh(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||NN(r)),this.platform.updateConfig(n);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=ow(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nw(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],Na[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}wt.listen(this,"complete",Mh),wt.listen(this,"progress",r5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:r,_aspectRatio:i}=this;return ne(e)?s&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qd(this.canvas,this.ctx),this}stop(){return wt.stop(this),this}resize(e,s){wt.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,s,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qd(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ce(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ie(s,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,r=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const l=s[o],c=Uo(o,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),ie(i,o=>{const l=o.options,c=l.id,d=Uo(c,l),h=q(l.type,o.dtype);(l.position===void 0||Ch(l.position,d)!==Ch(o.dposition))&&(l.position=o.dposition),r[c]=!0;let m=null;if(c in n&&n[c].type===h)m=n[c];else{const u=gt.getScale(h);m=new u({id:c,type:h,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(l,e)}),ie(r,(o,l)=>{o||delete n[l]}),ie(n,o=>{Ae.configure(this,o,o.options),Ae.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((r,i)=>r.index-i.index),n>s){for(let r=s;r<n;++r)this._destroyDatasetMeta(r);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(_h("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,r)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=s.length;n<r;n++){const i=s[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||zo(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=gt.getController(l),{datasetElementType:d,dataElementType:h}=me.datasets[l];Object.assign(c,{dataElementType:gt.getElement(h),datasetElementType:d&&gt.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ie(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),u=!r&&i.indexOf(m)===-1;m.buildOrUpdateElements(u),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||ie(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_h("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ie(this.scales,e=>{Ae.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!$d(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of s){const o=n==="_removeElements"?-i:i;a5(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),r=n(0);for(let i=1;i<s;i++)if(!$d(r,n(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ae.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ie(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,qt(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wt.has(this)?this.attached&&!wt.running(this)&&wt.start(this):(this.draw(),Mh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let r,i;for(r=0,i=s.length;r<i;++r){const o=s[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=kg(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&pi(s,r),e.controller.draw(),r&&bi(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Et(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,r){const i=nN.modes[s];return typeof i=="function"?i(this,e,n,r):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let r=n.filter(i=>i&&i._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);ir(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),wt.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),qd(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Na[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},r=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};ie(this.options.events,i=>n(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(s.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){ie(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ie(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const r=n?"set":"remove";let i,o,l,c;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!La(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const r=this.options.hover,i=(c,d)=>c.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),o=i(s,e),l=n?e:i(e,s);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:r=[],options:i}=this,o=s,l=this._getActiveElements(e,r,n,o),c=mw(e),d=i5(e,this._lastEvent,n,c);n&&(this._lastEvent=null,ce(i.onHover,[e,l,this],this),c&&ce(i.onClick,[e,l,this],this));const h=!La(l,r);return(h||s)&&(this._active=l,this._updateHoverStyles(l,r,s)),this._lastEvent=d,h}_getActiveElements(e,s,n,r){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},$(Lt,"defaults",me),$(Lt,"instances",Na),$(Lt,"overrides",_s),$(Lt,"registry",gt),$(Lt,"version",s5),$(Lt,"getChart",Eh),Lt);function Th(){return ie(dt.instances,t=>t._plugins.invalidate())}function o5(t,e,s){const{startAngle:n,x:r,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:h}=c,m=Math.min(d/o,Ee(n-s));if(t.beginPath(),t.arc(r,i,o-d/2,n+m/2,s-m/2),l>0){const u=Math.min(d/l,Ee(n-s));t.arc(r,i,l+d/2,s-u/2,n+u/2,!0)}else{const u=Math.min(d/2,o*Ee(n-s));if(h==="round")t.arc(r,i,u,s-ae/2,n+ae/2,!0);else if(h==="bevel"){const g=2*u*u,f=-g*Math.cos(s+ae/2)+r,x=-g*Math.sin(s+ae/2)+i,b=g*Math.cos(n+ae/2)+r,y=g*Math.sin(n+ae/2)+i;t.lineTo(f,x),t.lineTo(b,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function l5(t,e,s){const{startAngle:n,pixelMargin:r,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=r/l;t.beginPath(),t.arc(i,o,l,n-d,s+d),c>r?(d=r/c,t.arc(i,o,c,s+d,n-d,!0)):t.arc(i,o,r,s+we,n-we),t.closePath(),t.clip()}function c5(t){return Xl(t,["outerStart","outerEnd","innerStart","innerEnd"])}function d5(t,e,s,n){const r=c5(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(s-Math.min(i,c))*n/2;return Ce(c,0,Math.min(i,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Ce(r.innerStart,0,o),innerEnd:Ce(r.innerEnd,0,o)}}function Is(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Va(t,e,s,n,r,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:h}=e,m=Math.max(e.outerRadius+n+s-d,0),u=h>0?h+n+s+d:0;let g=0;const f=r-c;if(n){const D=h>0?h-n:0,F=m>0?m-n:0,L=(D+F)/2,I=L!==0?f*L/(L+n):f;g=(f-I)/2}const x=Math.max(.001,f*m-s/ae)/m,b=(f-x)/2,y=c+b+g,j=r-b-g,{outerStart:S,outerEnd:C,innerStart:w,innerEnd:M}=d5(e,u,m,j-y),N=m-S,k=m-C,_=y+S/N,E=j-C/k,T=u+w,R=u+M,P=y+w/T,O=j-M/R;if(t.beginPath(),i){const D=(_+E)/2;if(t.arc(o,l,m,_,D),t.arc(o,l,m,D,E),C>0){const H=Is(k,E,o,l);t.arc(H.x,H.y,C,E,j+we)}const F=Is(R,j,o,l);if(t.lineTo(F.x,F.y),M>0){const H=Is(R,O,o,l);t.arc(H.x,H.y,M,j+we,O+Math.PI)}const L=(j-M/u+(y+w/u))/2;if(t.arc(o,l,u,j-M/u,L,!0),t.arc(o,l,u,L,y+w/u,!0),w>0){const H=Is(T,P,o,l);t.arc(H.x,H.y,w,P+Math.PI,y-we)}const I=Is(N,y,o,l);if(t.lineTo(I.x,I.y),S>0){const H=Is(N,_,o,l);t.arc(H.x,H.y,S,y-we,_)}}else{t.moveTo(o,l);const D=Math.cos(_)*m+o,F=Math.sin(_)*m+l;t.lineTo(D,F);const L=Math.cos(E)*m+o,I=Math.sin(E)*m+l;t.lineTo(L,I)}t.closePath()}function h5(t,e,s,n,r){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Va(t,e,s,n,c,r);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%he||he))}return Va(t,e,s,n,c,r),t.fill(),c}function u5(t,e,s,n,r){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:h,borderDash:m,borderDashOffset:u,borderRadius:g}=c,f=c.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=u,f?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let x=e.endAngle;if(i){Va(t,e,s,n,x,r);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(x=o+(l%he||he))}f&&l5(t,e,x),c.selfJoin&&x-o>=ae&&g===0&&h!=="miter"&&o5(t,e,x),i||(Va(t,e,s,n,x,r),t.stroke())}class gs extends Rt{constructor(s){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,r){const i=this.getProps(["x","y"],r),{angle:o,distance:l}=sg(i,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:m,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,f=q(u,d-c),x=or(o,c,d)&&c!==d,b=f>=he||x,y=_t(l,h+g,m+g);return b&&y}getCenterPoint(s){const{x:n,y:r,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:h}=this.options,m=(i+o)/2,u=(l+c+h+d)/2;return{x:n+Math.cos(m)*u,y:r+Math.sin(m)*u}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:r}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>he?Math.floor(r/he):0,r===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(ae,r||0)),h=i*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,h5(s,this,h,o,l),u5(s,this,h,o,l),s.restore()}}$(gs,"id","arc"),$(gs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),$(gs,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(gs,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Og(t,e,s=e){t.lineCap=q(s.borderCapStyle,e.borderCapStyle),t.setLineDash(q(s.borderDash,e.borderDash)),t.lineDashOffset=q(s.borderDashOffset,e.borderDashOffset),t.lineJoin=q(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=q(s.borderWidth,e.borderWidth),t.strokeStyle=q(s.borderColor,e.borderColor)}function m5(t,e,s){t.lineTo(s.x,s.y)}function g5(t){return t.stepped?Ow:t.tension||t.cubicInterpolationMode==="monotone"?Iw:m5}function Ig(t,e,s={}){const n=t.length,{start:r=0,end:i=n-1}=s,{start:o,end:l}=e,c=Math.max(r,o),d=Math.min(i,l),h=r<o&&i<o||r>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!h?n+d-c:d-c}}function f5(t,e,s,n){const{points:r,options:i}=e,{count:o,start:l,loop:c,ilen:d}=Ig(r,s,n),h=g5(i);let{move:m=!0,reverse:u}=n||{},g,f,x;for(g=0;g<=d;++g)f=r[(l+(u?d-g:g))%o],!f.skip&&(m?(t.moveTo(f.x,f.y),m=!1):h(t,x,f,u,i.stepped),x=f);return c&&(f=r[(l+(u?d:0))%o],h(t,x,f,u,i.stepped)),!!c}function x5(t,e,s,n){const r=e.points,{count:i,start:o,ilen:l}=Ig(r,s,n),{move:c=!0,reverse:d}=n||{};let h=0,m=0,u,g,f,x,b,y;const j=C=>(o+(d?l-C:C))%i,S=()=>{x!==b&&(t.lineTo(h,b),t.lineTo(h,x),t.lineTo(h,y))};for(c&&(g=r[j(0)],t.moveTo(g.x,g.y)),u=0;u<=l;++u){if(g=r[j(u)],g.skip)continue;const C=g.x,w=g.y,M=C|0;M===f?(w<x?x=w:w>b&&(b=w),h=(m*h+C)/++m):(S(),t.lineTo(C,w),f=M,m=0,x=b=w),y=w}S()}function Wo(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?x5:f5}function p5(t){return t.stepped?fk:t.tension||t.cubicInterpolationMode==="monotone"?xk:cs}function b5(t,e,s,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,s,n)&&r.closePath()),Og(t,e.options),t.stroke(r)}function y5(t,e,s,n){const{segments:r,options:i}=e,o=Wo(e);for(const l of r)Og(t,i,l.style),t.beginPath(),o(t,e,l,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const v5=typeof Path2D=="function";function j5(t,e,s,n){v5&&!e.options.segment?b5(t,e,s,n):y5(t,e,s,n)}class Qe extends Rt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;ok(this._points,n,e,r,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wk(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,r=e[s],i=this.points,o=wg(this,{property:s,start:r,end:r});if(!o.length)return;const l=[],c=p5(n);let d,h;for(d=0,h=o.length;d<h;++d){const{start:m,end:u}=o[d],g=i[m],f=i[u];if(g===f){l.push(g);continue}const x=Math.abs((r-g[s])/(f[s]-g[s])),b=c(g,f,x,n.stepped);b[s]=e[s],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,s,n){return Wo(this)(e,this,s,n)}path(e,s,n){const r=this.segments,i=Wo(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of r)o&=i(e,this,l,{start:s,end:s+n-1});return!!o}draw(e,s,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),j5(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Qe,"id","line"),$(Qe,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Qe,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Qe,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ah(t,e,s,n){const r=t.options,{[s]:i}=t.getProps([s],n);return Math.abs(e-i)<r.radius+r.hitRadius}class Gt extends Rt{constructor(s){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,r){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,n){return Ah(this,s,"x",n)}inYRange(s,n){return Ah(this,s,"y",n)}getCenterPoint(s){const{x:n,y:r}=this.getProps(["x","y"],s);return{x:n,y:r}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const r=n&&s.borderWidth||0;return(n+r)*2}draw(s,n){const r=this.options;this.skip||r.radius<.1||!Et(this,n,this.size(r)/2)||(s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.fillStyle=r.backgroundColor,Vo(s,r,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}$(Gt,"id","point"),$(Gt,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(Gt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Fg(t,e){const{x:s,y:n,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,h,m;return t.horizontal?(m=o/2,l=Math.min(s,r),c=Math.max(s,r),d=n-m,h=n+m):(m=i/2,l=s-m,c=s+m,d=Math.min(n,r),h=Math.max(n,r)),{left:l,top:d,right:c,bottom:h}}function Ht(t,e,s,n){return t?0:Ce(e,s,n)}function w5(t,e,s){const n=t.options.borderWidth,r=t.borderSkipped,i=hg(n);return{t:Ht(r.top,i.top,0,s),r:Ht(r.right,i.right,0,e),b:Ht(r.bottom,i.bottom,0,s),l:Ht(r.left,i.left,0,e)}}function k5(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=bs(r),o=Math.min(e,s),l=t.borderSkipped,c=n||re(r);return{topLeft:Ht(!c||l.top||l.left,i.topLeft,0,o),topRight:Ht(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Ht(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Ht(!c||l.bottom||l.right,i.bottomRight,0,o)}}function N5(t){const e=Fg(t),s=e.right-e.left,n=e.bottom-e.top,r=w5(t,s/2,n/2),i=k5(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:s-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Xi(t,e,s,n){const r=e===null,i=s===null,l=t&&!(r&&i)&&Fg(t,n);return l&&(r||_t(e,l.left,l.right))&&(i||_t(s,l.top,l.bottom))}function S5(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function C5(t,e){t.rect(e.x,e.y,e.w,e.h)}function Qi(t,e,s={}){const n=t.x!==s.x?-e:0,r=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class vs extends Rt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=N5(this),l=S5(o.radius)?lr:C5;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,Qi(o,s,i)),e.clip(),l(e,Qi(i,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,Qi(i,s)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,s,n){return Xi(this,e,s,n)}inXRange(e,s){return Xi(this,e,null,s)}inYRange(e,s){return Xi(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+r)/2:s,y:i?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(vs,"id","bar"),$(vs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var _5=Object.freeze({__proto__:null,ArcElement:gs,BarElement:vs,LineElement:Qe,PointElement:Gt});const Yo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Dh=Yo.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Bg(t){return Yo[t%Yo.length]}function $g(t){return Dh[t%Dh.length]}function M5(t,e){return t.borderColor=Bg(e),t.backgroundColor=$g(e),++e}function E5(t,e){return t.backgroundColor=t.data.map(()=>Bg(e++)),e}function T5(t,e){return t.backgroundColor=t.data.map(()=>$g(e++)),e}function A5(t){let e=0;return(s,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof Vt?e=E5(s,e):r instanceof Un?e=T5(s,e):r&&(e=M5(s,e))}}function Ph(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function D5(t){return t&&(t.borderColor||t.backgroundColor)}function P5(){return me.borderColor!=="rgba(0,0,0,0.1)"||me.backgroundColor!=="rgba(0,0,0,0.1)"}var R5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:i}=r,o=Ph(n)||D5(r)||i&&Ph(i)||P5();if(!s.forceOverride&&o)return;const l=A5(t);n.forEach(l)}};function L5(t,e,s,n,r){const i=r.samples||n;if(i>=s)return t.slice(e,e+s);const o=[],l=(s-2)/(i-2);let c=0;const d=e+s-1;let h=e,m,u,g,f,x;for(o[c++]=t[h],m=0;m<i-2;m++){let b=0,y=0,j;const S=Math.floor((m+1)*l)+1+e,C=Math.min(Math.floor((m+2)*l)+1,s)+e,w=C-S;for(j=S;j<C;j++)b+=t[j].x,y+=t[j].y;b/=w,y/=w;const M=Math.floor(m*l)+1+e,N=Math.min(Math.floor((m+1)*l)+1,s)+e,{x:k,y:_}=t[h];for(g=f=-1,j=M;j<N;j++)f=.5*Math.abs((k-b)*(t[j].y-_)-(k-t[j].x)*(y-_)),f>g&&(g=f,u=t[j],x=j);o[c++]=u,h=x}return o[c++]=t[d],o}function O5(t,e,s,n){let r=0,i=0,o,l,c,d,h,m,u,g,f,x;const b=[],y=e+s-1,j=t[e].x,C=t[y].x-j;for(o=e;o<e+s;++o){l=t[o],c=(l.x-j)/C*n,d=l.y;const w=c|0;if(w===h)d<f?(f=d,m=o):d>x&&(x=d,u=o),r=(i*r+l.x)/++i;else{const M=o-1;if(!ne(m)&&!ne(u)){const N=Math.min(m,u),k=Math.max(m,u);N!==g&&N!==M&&b.push({...t[N],x:r}),k!==g&&k!==M&&b.push({...t[k],x:r})}o>0&&M!==g&&b.push(t[M]),b.push(l),h=w,i=0,f=x=d,m=u=g=o}}return b}function Vg(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Rh(t){t.data.datasets.forEach(e=>{Vg(e)})}function I5(t,e){const s=e.length;let n=0,r;const{iScale:i}=t,{min:o,max:l,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(n=Ce(Mt(e,i.axis,o).lo,0,s-1)),d?r=Ce(Mt(e,i.axis,l).hi+1,n,s)-n:r=s-n,{start:n,count:r}}var F5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){Rh(t);return}const n=t.width;t.data.datasets.forEach((r,i)=>{const{_data:o,indexAxis:l}=r,c=t.getDatasetMeta(i),d=o||r.data;if(Dn([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=t.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:m,count:u}=I5(c,d);const g=s.threshold||4*n;if(u<=g){Vg(r);return}ne(o)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let f;switch(s.algorithm){case"lttb":f=L5(d,m,u,n,s);break;case"min-max":f=O5(d,m,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}r._decimated=f})},destroy(t){Rh(t)}};function B5(t,e,s){const n=t.segments,r=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=ji(c,d,r);const h=Go(s,r[c],r[d],l.loop);if(!e.segments){o.push({source:l,target:h,start:r[c],end:r[d]});continue}const m=wg(e,h);for(const u of m){const g=Go(s,i[u.start],i[u.end],u.loop),f=jg(l,r,g);for(const x of f)o.push({source:x,target:u,start:{[s]:Lh(h,g,"start",Math.max)},end:{[s]:Lh(h,g,"end",Math.min)}})}}return o}function Go(t,e,s,n){if(n)return;let r=e[t],i=s[t];return t==="angle"&&(r=Ee(r),i=Ee(i)),{property:t,start:r,end:i}}function $5(t,e){const{x:s=null,y:n=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=ji(o,l,r);const c=r[o],d=r[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):s!==null&&(i.push({x:s,y:c.y}),i.push({x:s,y:d.y}))}),i}function ji(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Lh(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function Hg(t,e){let s=[],n=!1;return ue(t)?(n=!0,s=t):s=$5(t,e),s.length?new Qe({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Oh(t){return t&&t.fill!==!1}function V5(t,e,s){let r=t[e].fill;const i=[e];let o;if(!s)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!ye(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function H5(t,e,s){const n=Y5(t);if(re(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return ye(r)&&Math.floor(r)===r?z5(n[0],e,r,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function z5(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function U5(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:re(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function W5(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:re(t)?n=t.value:n=e.getBaseValue(),n}function Y5(t){const e=t.options,s=e.fill;let n=q(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function G5(t){const{scale:e,index:s,line:n}=t,r=[],i=n.segments,o=n.points,l=K5(e,s);l.push(Hg({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let h=d.start;h<=d.end;h++)q5(r,o[h],l)}return new Qe({points:r,options:{}})}function K5(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const i=n[r];if(i.index===e)break;i.hidden||s.unshift(i.dataset)}return s}function q5(t,e,s){const n=[];for(let r=0;r<s.length;r++){const i=s[r],{first:o,last:l,point:c}=J5(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function J5(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const r=n[s],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const h=i[d],m=o[h.start][s],u=o[h.end][s];if(_t(r,m,u)){l=r===m,c=r===u;break}}return{first:l,last:c,point:n}}class zg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:r,y:i,radius:o}=this;return s=s||{start:0,end:he},e.arc(r,i,o,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:r}=this,i=e.angle;return{x:s+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function X5(t){const{chart:e,fill:s,line:n}=t;if(ye(s))return Q5(e,s);if(s==="stack")return G5(t);if(s==="shape")return!0;const r=Z5(t);return r instanceof zg?r:Hg(r,n)}function Q5(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function Z5(t){return(t.scale||{}).getPointPositionForValue?tS(t):eS(t)}function eS(t){const{scale:e={},fill:s}=t,n=U5(s,e);if(ye(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function tS(t){const{scale:e,fill:s}=t,n=e.options,r=e.getLabels().length,i=n.reverse?e.max:e.min,o=W5(s,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new zg({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)l.push(e.getPointPositionForValue(c,o));return l}function Zi(t,e,s){const n=X5(e),{chart:r,index:i,line:o,scale:l,axis:c}=e,d=o.options,h=d.fill,m=d.backgroundColor,{above:u=m,below:g=m}=h||{},f=r.getDatasetMeta(i),x=kg(r,f);n&&o.points.length&&(pi(t,s),sS(t,{line:o,target:n,above:u,below:g,area:s,scale:l,axis:c,clip:x}),bi(t))}function sS(t,e){const{line:s,target:n,above:r,below:i,area:o,scale:l,clip:c}=e,d=s._loop?"angle":e.axis;t.save();let h=i;i!==r&&(d==="x"?(Ih(t,n,o.top),eo(t,{line:s,target:n,color:r,scale:l,property:d,clip:c}),t.restore(),t.save(),Ih(t,n,o.bottom)):d==="y"&&(Fh(t,n,o.left),eo(t,{line:s,target:n,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),Fh(t,n,o.right),h=r)),eo(t,{line:s,target:n,color:h,scale:l,property:d,clip:c}),t.restore()}function Ih(t,e,s){const{segments:n,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,h=r[c],m=r[ji(c,d,r)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(h.x,s),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(m.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Fh(t,e,s){const{segments:n,points:r}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,h=r[c],m=r[ji(c,d,r)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(s,h.y),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(s,m.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function eo(t,e){const{line:s,target:n,property:r,color:i,scale:o,clip:l}=e,c=B5(s,n,r);for(const{source:d,target:h,start:m,end:u}of c){const{style:{backgroundColor:g=i}={}}=d,f=n!==!0;t.save(),t.fillStyle=g,nS(t,o,l,f&&Go(r,m,u)),t.beginPath();const x=!!s.pathSegment(t,d);let b;if(f){x?t.closePath():Bh(t,n,u,r);const y=!!n.pathSegment(t,h,{move:x,reverse:!0});b=x&&y,b||Bh(t,n,m,r)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function nS(t,e,s,n){const r=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,h,m;i==="x"?(c=o,d=r.top,h=l,m=r.bottom):(c=r.left,d=o,h=r.right,m=l),t.beginPath(),s&&(c=Math.max(c,s.left),h=Math.min(h,s.right),d=Math.max(d,s.top),m=Math.min(m,s.bottom)),t.rect(c,d,h-c,m-d),t.clip()}}function Bh(t,e,s,n){const r=e.interpolate(s,n);r&&t.lineTo(r.x,r.y)}var wi={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,r=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Qe&&(c={visible:t.isDatasetVisible(o),index:o,fill:H5(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,r.push(c);for(o=0;o<n;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=V5(r,o,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&Zi(t.ctx,l,i))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const i=n[r].$filler;Oh(i)&&Zi(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!Oh(n)||s.drawTime!=="beforeDatasetDraw"||Zi(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $h=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},rS=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Vh extends Rt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=ce(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=Se(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=$h(n,i);let d,h;s.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,i,l,c)+10):(h=this.maxHeight,d=this._fitCols(o,r,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+l;let m=e;i.textAlign="left",i.textBaseline="middle";let u=-1,g=-h;return this.legendItems.forEach((f,x)=>{const b=n+s/2+i.measureText(f.text).width;(x===0||d[d.length-1]+b+2*l>o)&&(m+=h,d[d.length-(x>0?0:1)]=0,g+=h,u++),c[x]={left:0,top:g,row:u,width:b,height:r},d[d.length-1]+=b+l}),m}_fitCols(e,s,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let m=l,u=0,g=0,f=0,x=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:j,itemHeight:S}=aS(n,s,i,b,r);y>0&&g+S+2*l>h&&(m+=u+l,d.push({width:u,height:g}),f+=u+l,x++,u=g=0),c[y]={left:f,top:g,col:x,width:j,height:S},u=Math.max(u,j),g+=S+l}),m+=u,d.push({width:u,height:g}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:r},rtl:i}}=this,o=Ys(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Me(n,this.left+r,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=Me(n,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+r}else{let l=0,c=Me(n,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=Me(n,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;pi(e,this),this._draw(),bi(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:r}=this,{align:i,labels:o}=e,l=me.color,c=Ys(e.rtl,this.left,this.width),d=Se(o.font),{padding:h}=o,m=d.size,u=m/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:f,boxHeight:x,itemHeight:b}=$h(o,m),y=function(M,N,k){if(isNaN(f)||f<=0||isNaN(x)||x<0)return;r.save();const _=q(k.lineWidth,1);if(r.fillStyle=q(k.fillStyle,l),r.lineCap=q(k.lineCap,"butt"),r.lineDashOffset=q(k.lineDashOffset,0),r.lineJoin=q(k.lineJoin,"miter"),r.lineWidth=_,r.strokeStyle=q(k.strokeStyle,l),r.setLineDash(q(k.lineDash,[])),o.usePointStyle){const E={radius:x*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:_},T=c.xPlus(M,f/2),R=N+u;dg(r,E,T,R,o.pointStyleWidth&&f)}else{const E=N+Math.max((m-x)/2,0),T=c.leftForLtr(M,f),R=bs(k.borderRadius);r.beginPath(),Object.values(R).some(P=>P!==0)?lr(r,{x:T,y:E,w:f,h:x,radius:R}):r.rect(T,E,f,x),r.fill(),_!==0&&r.stroke()}r.restore()},j=function(M,N,k){Ms(r,k.text,M,N+b/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?g={x:Me(i,this.left+h,this.right-n[0]),y:this.top+h+C,line:0}:g={x:this.left+h,y:Me(i,this.top+C+h,this.bottom-s[0].height),line:0},bg(this.ctx,e.textDirection);const w=b+h;this.legendItems.forEach((M,N)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const k=r.measureText(M.text).width,_=c.textAlign(M.textAlign||(M.textAlign=o.textAlign)),E=f+u+k;let T=g.x,R=g.y;c.setWidth(this.width),S?N>0&&T+E+h>this.right&&(R=g.y+=w,g.line++,T=g.x=Me(i,this.left+h,this.right-n[g.line])):N>0&&R+w>this.bottom&&(T=g.x=T+s[g.line].width+h,g.line++,R=g.y=Me(i,this.top+C+h,this.bottom-s[g.line].height));const P=c.x(T);if(y(P,R,M),T=Sw(_,T+f+u,S?T+E:this.right,e.rtl),j(c.x(T),R,M),S)g.x+=E+h;else if(typeof M.text!="string"){const O=d.lineHeight;g.y+=Ug(M,O)+h}else g.y+=w}),yg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Se(s.font),r=Pe(s.padding);if(!s.display)return;const i=Ys(e.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=r.top+c;let h,m=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+d,m=Me(e.align,m,this.right-u);else{const f=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);h=d+Me(e.align,this.top,this.bottom-f-e.labels.padding-this._computeTitleHeight())}const g=Me(l,m,m+u);o.textAlign=i.textAlign(ql(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Ms(o,s.text,g,h,n)}_computeTitleHeight(){const e=this.options.title,s=Se(e.font),n=Pe(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,r,i;if(_t(e,this.left,this.right)&&_t(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],_t(e,r.left,r.left+r.width)&&_t(s,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!lS(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=rS(r,n);r&&!i&&ce(s.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&ce(s.onHover,[e,n,this],this)}else n&&ce(s.onClick,[e,n,this],this)}}function aS(t,e,s,n,r){const i=iS(n,t,e,s),o=oS(r,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function iS(t,e,s,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+n.measureText(r).width}function oS(t,e,s){let n=t;return typeof e.text!="string"&&(n=Ug(e,s)),n}function Ug(t,e){const s=t.text?t.text.length:0;return e*s}function lS(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ds={id:"legend",_element:Vh,start(t,e,s){const n=t.legend=new Vh({ctx:t.ctx,options:s,chart:t});Ae.configure(t,n,s),Ae.addBox(t,n)},stop(t){Ae.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;Ae.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),h=Pe(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rc extends Rt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const r=ue(n.text)?n.text.length:1;this._padding=Pe(n.padding);const i=r*Se(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:r,right:i,options:o}=this,l=o.align;let c=0,d,h,m;return this.isHorizontal()?(h=Me(l,n,i),m=s+e,d=i-n):(o.position==="left"?(h=n+e,m=Me(l,r,s),c=ae*-.5):(h=i-e,m=Me(l,s,r),c=ae*.5),d=r-s),{titleX:h,titleY:m,maxWidth:d,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Se(s.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Ms(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:ql(s.align),textBaseline:"middle",translation:[o,l]})}}function cS(t,e){const s=new rc({ctx:t.ctx,options:e,chart:t});Ae.configure(t,s,e),Ae.addBox(t,s),t.titleBlock=s}var ac={id:"title",_element:rc,start(t,e,s){cS(t,s)},stop(t){const e=t.titleBlock;Ae.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;Ae.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const aa=new WeakMap;var dS={id:"subtitle",start(t,e,s){const n=new rc({ctx:t.ctx,options:s,chart:t});Ae.configure(t,n,s),Ae.addBox(t,n),aa.set(t,n)},stop(t){Ae.removeBox(t,aa.get(t)),aa.delete(t)},beforeUpdate(t,e,s){const n=aa.get(t);Ae.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rn={average(t){if(!t.length)return!1;let e,s,n=new Set,r=0,i=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),r+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,r=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),h=Bo(e,d);h<r&&(r=h,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function mt(t,e){return e&&(ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function kt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function hS(t,e){const{element:s,datasetIndex:n,index:r}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function Hh(t,e){const s=t.chart.ctx,{body:n,footer:r,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Se(e.bodyFont),d=Se(e.titleFont),h=Se(e.footerFont),m=i.length,u=r.length,g=n.length,f=Pe(e.padding);let x=f.height,b=0,y=n.reduce((C,w)=>C+w.before.length+w.lines.length+w.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,m&&(x+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),y){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=g*C+(y-g)*c.lineHeight+(y-1)*e.bodySpacing}u&&(x+=e.footerMarginTop+u*h.lineHeight+(u-1)*e.footerSpacing);let j=0;const S=function(C){b=Math.max(b,s.measureText(C).width+j)};return s.save(),s.font=d.string,ie(t.title,S),s.font=c.string,ie(t.beforeBody.concat(t.afterBody),S),j=e.displayColors?o+2+e.boxPadding:0,ie(n,C=>{ie(C.before,S),ie(C.lines,S),ie(C.after,S)}),j=0,s.font=h.string,ie(t.footer,S),s.restore(),b+=f.width,{width:b,height:x}}function uS(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function mS(t,e,s,n){const{x:r,width:i}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function gS(t,e,s,n){const{x:r,width:i}=s,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=r<=(l+c)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),mS(d,t,e,s)&&(d="center"),d}function zh(t,e,s){const n=s.yAlign||e.yAlign||uS(t,s);return{xAlign:s.xAlign||e.xAlign||gS(t,e,s,n),yAlign:n}}function fS(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function xS(t,e,s){let{y:n,height:r}=t;return e==="top"?n+=s:e==="bottom"?n-=r+s:n-=r/2,n}function Uh(t,e,s,n){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=s,d=r+i,{topLeft:h,topRight:m,bottomLeft:u,bottomRight:g}=bs(o);let f=fS(e,l);const x=xS(e,c,d);return c==="center"?l==="left"?f+=d:l==="right"&&(f-=d):l==="left"?f-=Math.max(h,u)+r:l==="right"&&(f+=Math.max(m,g)+r),{x:Ce(f,0,n.width-e.width),y:Ce(x,0,n.height-e.height)}}function ia(t,e,s){const n=Pe(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Wh(t){return mt([],kt(t))}function pS(t,e,s){return es(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Yh(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const Wg={beforeTitle:jt,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:jt,beforeBody:jt,beforeLabel:jt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ne(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:jt,afterBody:jt,beforeFooter:jt,footer:jt,afterFooter:jt};function Oe(t,e,s,n){const r=t[e].call(s,n);return typeof r>"u"?Wg[e].call(s,n):r}class Ko extends Rt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&s.options.animation&&n.animations,i=new Ng(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=pS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,r=Oe(n,"beforeTitle",this,e),i=Oe(n,"title",this,e),o=Oe(n,"afterTitle",this,e);let l=[];return l=mt(l,kt(r)),l=mt(l,kt(i)),l=mt(l,kt(o)),l}getBeforeBody(e,s){return Wh(Oe(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,r=[];return ie(e,i=>{const o={before:[],lines:[],after:[]},l=Yh(n,i);mt(o.before,kt(Oe(l,"beforeLabel",this,i))),mt(o.lines,Oe(l,"label",this,i)),mt(o.after,kt(Oe(l,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,s){return Wh(Oe(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,r=Oe(n,"beforeFooter",this,e),i=Oe(n,"footer",this,e),o=Oe(n,"afterFooter",this,e);let l=[];return l=mt(l,kt(r)),l=mt(l,kt(i)),l=mt(l,kt(o)),l}_createItems(e){const s=this._active,n=this.chart.data,r=[],i=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(hS(this.chart,s[c]));return e.filter&&(l=l.filter((h,m,u)=>e.filter(h,m,u,n))),e.itemSort&&(l=l.sort((h,m)=>e.itemSort(h,m,n))),ie(l,h=>{const m=Yh(e.callbacks,h);r.push(Oe(m,"labelColor",this,h)),i.push(Oe(m,"labelPointStyle",this,h)),o.push(Oe(m,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=Rn[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Hh(this,n),d=Object.assign({},l,c),h=zh(this.chart,n,d),m=Uh(n,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,r){const i=this.getCaretPosition(e,n,r);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:m}=bs(l),{x:u,y:g}=e,{width:f,height:x}=s;let b,y,j,S,C,w;return i==="center"?(C=g+x/2,r==="left"?(b=u,y=b-o,S=C+o,w=C-o):(b=u+f,y=b+o,S=C-o,w=C+o),j=b):(r==="left"?y=u+Math.max(c,h)+o:r==="right"?y=u+f-Math.max(d,m)-o:y=this.caretX,i==="top"?(S=g,C=S-o,b=y-o,j=y+o):(S=g+x,C=S+o,b=y+o,j=y-o),w=S),{x1:b,x2:y,x3:j,y1:S,y2:C,y3:w}}drawTitle(e,s,n){const r=this.title,i=r.length;let o,l,c;if(i){const d=Ys(n.rtl,this.x,this.width);for(e.x=ia(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=Se(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<i;++c)s.fillText(r[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,r,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,h=Se(i.bodyFont),m=ia(this,"left",i),u=r.x(m),g=c<h.lineHeight?(h.lineHeight-c)/2:0,f=s.y+g;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=r.leftForLtr(u,d)+d/2,y=f+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Vo(e,x,b,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Vo(e,x,b,y)}else{e.lineWidth=re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=r.leftForLtr(u,d),b=r.leftForLtr(r.xPlus(u,1),d-2),y=bs(o.borderRadius);Object.values(y).some(j=>j!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,lr(e,{x,y:f,w:d,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),lr(e,{x:b,y:f+1,w:d-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,f,d,c),e.strokeRect(x,f,d,c),e.fillStyle=o.backgroundColor,e.fillRect(b,f+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=n,m=Se(n.bodyFont);let u=m.lineHeight,g=0;const f=Ys(n.rtl,this.x,this.width),x=function(k){s.fillText(k,f.x(e.x+g),e.y+u/2),e.y+=u+i},b=f.textAlign(o);let y,j,S,C,w,M,N;for(s.textAlign=o,s.textBaseline="middle",s.font=m.string,e.x=ia(this,b,n),s.fillStyle=n.bodyColor,ie(this.beforeBody,x),g=l&&b!=="right"?o==="center"?d/2+h:d+2+h:0,C=0,M=r.length;C<M;++C){for(y=r[C],j=this.labelTextColors[C],s.fillStyle=j,ie(y.before,x),S=y.lines,l&&S.length&&(this._drawColorBox(s,e,C,f,n),u=Math.max(m.lineHeight,c)),w=0,N=S.length;w<N;++w)x(S[w]),u=m.lineHeight;ie(y.after,x)}g=0,u=m.lineHeight,ie(this.afterBody,x),e.y-=i}drawFooter(e,s,n){const r=this.footer,i=r.length;let o,l;if(i){const c=Ys(n.rtl,this.x,this.width);for(e.x=ia(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=Se(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<i;++l)s.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,r){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:h}=n,{topLeft:m,topRight:u,bottomLeft:g,bottomRight:f}=bs(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(l+m,c),o==="top"&&this.drawCaret(e,s,n,r),s.lineTo(l+d-u,c),s.quadraticCurveTo(l+d,c,l+d,c+u),o==="center"&&i==="right"&&this.drawCaret(e,s,n,r),s.lineTo(l+d,c+h-f),s.quadraticCurveTo(l+d,c+h,l+d-f,c+h),o==="bottom"&&this.drawCaret(e,s,n,r),s.lineTo(l+g,c+h),s.quadraticCurveTo(l,c+h,l,c+h-g),o==="center"&&i==="left"&&this.drawCaret(e,s,n,r),s.lineTo(l,c+m),s.quadraticCurveTo(l,c,l+m,c),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const o=Rn[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Hh(this,e),c=Object.assign({},o,this._size),d=zh(s,e,c),h=Uh(e,c,d,s);(r._to!==h.x||i._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Pe(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,s),bg(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),yg(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!La(n,r),o=this._positionChanged(r,s);(i||o)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,n),l=this._positionChanged(o,e),c=s||!La(o,i)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:r,options:i}=this,o=Rn[i.position].call(this,e,s);return o!==!1&&(n!==o.x||r!==o.y)}}$(Ko,"positioners",Rn);var Ps={id:"tooltip",_element:Ko,positioners:Rn,afterInit(t,e,s){s&&(t.tooltip=new Ko({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},bS=Object.freeze({__proto__:null,Colors:R5,Decimation:F5,Filler:wi,Legend:Ds,SubTitle:dS,Title:ac,Tooltip:Ps});const yS=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function vS(t,e,s,n){const r=t.indexOf(e);if(r===-1)return yS(t,e,s,n);const i=t.lastIndexOf(e);return r!==i?s:r}const jS=(t,e)=>t===null?null:Ce(Math.round(t),0,e);function Gh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class rn extends As{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:r,label:i}of s)n[r]===i&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ne(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:vS(n,e,q(s,e),this._addedLabels),jS(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)r.push({value:o});return r}getLabelForValue(e){return Gh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(rn,"id","category"),$(rn,"defaults",{ticks:{callback:Gh}});function wS(t,e){const s=[],{bounds:r,step:i,min:o,max:l,precision:c,count:d,maxTicks:h,maxDigits:m,includeBounds:u}=t,g=i||1,f=h-1,{min:x,max:b}=e,y=!ne(o),j=!ne(l),S=!ne(d),C=(b-x)/(m+1);let w=Hd((b-x)/f/g)*g,M,N,k,_;if(w<1e-14&&!y&&!j)return[{value:x},{value:b}];_=Math.ceil(b/w)-Math.floor(x/w),_>f&&(w=Hd(_*w/f/g)*g),ne(c)||(M=Math.pow(10,c),w=Math.ceil(w*M)/M),r==="ticks"?(N=Math.floor(x/w)*w,k=Math.ceil(b/w)*w):(N=x,k=b),y&&j&&i&&bw((l-o)/i,w/1e3)?(_=Math.round(Math.min((l-o)/w,h)),w=(l-o)/_,N=o,k=l):S?(N=y?o:N,k=j?l:k,_=d-1,w=(k-N)/_):(_=(k-N)/w,$n(_,Math.round(_),w/1e3)?_=Math.round(_):_=Math.ceil(_));const E=Math.max(zd(w),zd(N));M=Math.pow(10,ne(c)?E:c),N=Math.round(N*M)/M,k=Math.round(k*M)/M;let T=0;for(y&&(u&&N!==o?(s.push({value:o}),N<o&&T++,$n(Math.round((N+T*w)*M)/M,o,Kh(o,C,t))&&T++):N<o&&T++);T<_;++T){const R=Math.round((N+T*w)*M)/M;if(j&&R>l)break;s.push({value:R})}return j&&u&&k!==l?s.length&&$n(s[s.length-1].value,l,Kh(l,C,t))?s[s.length-1].value=l:s.push({value:l}):(!j||k===l)&&s.push({value:k}),s}function Kh(t,e,{horizontal:s,minRotation:n}){const r=it(n),i=(s?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Ha extends As{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=s?r:c,l=c=>i=n?i:c;if(e){const c=xt(r),d=xt(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=wS(r,i);return e.bounds==="ticks"&&tg(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-s)/Math.max(e.length-1,1)/2;s-=r,n+=r}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return Pr(e,this.chart.options.locale,this.options.ticks.format)}}class an extends Ha{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ye(e)?e:0,this.max=ye(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=it(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(an,"id","linear"),$(an,"defaults",{ticks:{callback:xi.formatters.numeric}});const dr=t=>Math.floor($t(t)),is=(t,e)=>Math.pow(10,dr(t)+e);function qh(t){return t/Math.pow(10,dr(t))===1}function Jh(t,e,s){const n=Math.pow(10,s),r=Math.floor(t/n);return Math.ceil(e/n)-r}function kS(t,e){const s=e-t;let n=dr(s);for(;Jh(t,e,n)>10;)n++;for(;Jh(t,e,n)<10;)n--;return Math.min(n,dr(t))}function NS(t,{min:e,max:s}){e=Ue(t.min,e);const n=[],r=dr(e);let i=kS(e,s),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,d=Math.round((e-c)*o)/o,h=Math.floor((e-c)/l/10)*l*10;let m=Math.floor((d-h)/Math.pow(10,i)),u=Ue(t.min,Math.round((c+h+m*Math.pow(10,i))*o)/o);for(;u<s;)n.push({value:u,major:qh(u),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(i++,m=2,o=i>=0?1:o),u=Math.round((c+h+m*Math.pow(10,i))*o)/o;const g=Ue(t.max,u);return n.push({value:g,major:qh(g),significand:m}),n}class qo extends As{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const n=Ha.prototype.parse.apply(this,[e,s]);if(n===0){this._zero=!0;return}return ye(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ye(e)?Math.max(0,e):null,this.max=ye(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ye(this._userMin)&&(this.min=e===is(this.min,0)?is(this.min,-1):is(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let n=this.min,r=this.max;const i=l=>n=e?n:l,o=l=>r=s?r:l;n===r&&(n<=0?(i(1),o(10)):(i(is(n,-1)),o(is(r,1)))),n<=0&&i(is(r,-1)),r<=0&&o(is(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},n=NS(s,this);return e.bounds==="ticks"&&tg(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Pr(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=$t(e),this._valueRange=$t(this.max)-$t(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:($t(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}$(qo,"id","logarithmic"),$(qo,"defaults",{ticks:{callback:xi.formatters.logarithmic,major:{enabled:!0}}});function Jo(t){const e=t.ticks;if(e.display&&t.display){const s=Pe(e.backdropPadding);return q(e.font&&e.font.size,me.font.size)+s.height}return 0}function SS(t,e,s){return s=ue(s)?s:[s],{w:Lw(t,e.string,s),h:s.length*e.lineHeight}}function Xh(t,e,s,n,r){return t===n||t===r?{start:e-s/2,end:e+s/2}:t<n||t>r?{start:e-s,end:e}:{start:e,end:e+s}}function CS(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],r=[],i=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?ae/i:0;for(let c=0;c<i;c++){const d=o.setContext(t.getPointLabelContext(c));r[c]=d.padding;const h=t.getPointPosition(c,t.drawingArea+r[c],l),m=Se(d.font),u=SS(t.ctx,m,t._pointLabels[c]);n[c]=u;const g=Ee(t.getIndexAngle(c)+l),f=Math.round(Gl(g)),x=Xh(f,h.x,u.w,0,180),b=Xh(f,h.y,u.h,90,270);_S(s,e,g,x,b)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=TS(t,n,r)}function _S(t,e,s,n,r){const i=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),r.start<e.t?(c=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function MS(t,e,s){const n=t.drawingArea,{extra:r,additionalAngle:i,padding:o,size:l}=s,c=t.getPointPosition(e,n+r+o,i),d=Math.round(Gl(Ee(c.angle+we))),h=PS(c.y,l.h,d),m=AS(d),u=DS(c.x,l.w,m);return{visible:!0,x:c.x,y:h,textAlign:m,left:u,top:h,right:u+l.w,bottom:h+l.h}}function ES(t,e){if(!e)return!0;const{left:s,top:n,right:r,bottom:i}=t;return!(Et({x:s,y:n},e)||Et({x:s,y:i},e)||Et({x:r,y:n},e)||Et({x:r,y:i},e))}function TS(t,e,s){const n=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:Jo(i)/2,additionalAngle:o?ae/r:0};let d;for(let h=0;h<r;h++){c.padding=s[h],c.size=e[h];const m=MS(t,h,c);n.push(m),l==="auto"&&(m.visible=ES(m,d),m.visible&&(d=m))}return n}function AS(t){return t===0||t===180?"center":t<180?"left":"right"}function DS(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function PS(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function RS(t,e,s){const{left:n,top:r,right:i,bottom:o}=s,{backdropColor:l}=e;if(!ne(l)){const c=bs(e.borderRadius),d=Pe(e.backdropPadding);t.fillStyle=l;const h=n-d.left,m=r-d.top,u=i-n+d.width,g=o-r+d.height;Object.values(c).some(f=>f!==0)?(t.beginPath(),lr(t,{x:h,y:m,w:u,h:g,radius:c}),t.fill()):t.fillRect(h,m,u,g)}}function LS(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){const i=t._pointLabelItems[r];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(r));RS(s,o,i);const l=Se(o.font),{x:c,y:d,textAlign:h}=i;Ms(s,t._pointLabels[r],c,d+l.lineHeight/2,l,{color:o.color,textAlign:h,textBaseline:"middle"})}}function Yg(t,e,s,n){const{ctx:r}=t;if(s)r.arc(t.xCenter,t.yCenter,e,0,he);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),r.lineTo(i.x,i.y)}}function OS(t,e,s,n,r){const i=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!n||!l||!c||s<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),Yg(t,s,o,n),i.closePath(),i.stroke(),i.restore())}function IS(t,e,s){return es(t,{label:s,index:e,type:"pointLabel"})}class zt extends Ha{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pe(Jo(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=ye(e)&&!isNaN(e)?e:0,this.max=ye(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jo(this.options))}generateTickLabels(e){Ha.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const r=ce(this.options.pointLabels.callback,[s,n],this);return r||r===0?r:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?CS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,r){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,r))}getIndexAngle(e){const s=he/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ee(e*s+it(n))}getDistanceFromCenterForValue(e){if(ne(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(ne(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return IS(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const r=this.getIndexAngle(e)-we+n;return{x:Math.cos(r)*s+this.xCenter,y:Math.sin(r)*s+this.yCenter,angle:r}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:s,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Yg(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:r,border:i}=s,o=this._pointLabels.length;let l,c,d;if(s.pointLabels.display&&LS(this,o),r.display&&this.ticks.forEach((h,m)=>{if(m!==0||m===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const u=this.getContext(m),g=r.setContext(u),f=i.setContext(u);OS(this,g,c,o,f)}}),n.display){for(e.save(),l=o-1;l>=0;l--){const h=n.setContext(this.getPointLabelContext(l)),{color:m,lineWidth:u}=h;!u||!m||(e.lineWidth=u,e.strokeStyle=m,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!s.reverse)return;const d=n.setContext(this.getContext(c)),h=Se(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const m=Pe(d.backdropPadding);e.fillRect(-o/2-m.left,-i-h.size/2-m.top,o+m.width,h.size+m.height)}Ms(e,l.label,0,-i,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}$(zt,"id","radialLinear"),$(zt,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),$(zt,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(zt,"descriptors",{angleLines:{_fallback:"grid"}});const ki={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fe=Object.keys(ki);function Qh(t,e){return t-e}function Zh(t,e){if(ne(e))return null;const s=t._adapter,{parser:n,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),ye(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(r&&(o=r==="week"&&(tn(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,r)),+o)}function eu(t,e,s,n){const r=Fe.length;for(let i=Fe.indexOf(t);i<r-1;++i){const o=ki[Fe[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(l*o.size))<=n)return Fe[i]}return Fe[r-1]}function FS(t,e,s,n,r){for(let i=Fe.length-1;i>=Fe.indexOf(s);i--){const o=Fe[i];if(ki[o].common&&t._adapter.diff(r,n,o)>=e-1)return o}return Fe[s?Fe.indexOf(s):0]}function BS(t){for(let e=Fe.indexOf(t)+1,s=Fe.length;e<s;++e)if(ki[Fe[e]].common)return Fe[e]}function tu(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:r}=Kl(s,e),i=s[n]>=e?s[n]:s[r];t[i]=!0}}function $S(t,e,s,n){const r=t._adapter,i=+r.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+r.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function su(t,e,s){const n=[],r={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],r[l]=o,n.push({value:l,major:!1});return i===0||!s?n:$S(t,n,r,s)}class hr extends As{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),r=this._adapter=new Qk._date(e.adapters.date);r.init(s),Bn(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Zh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=ye(r)&&!isNaN(r)?r:+s.startOf(Date.now(),n),i=ye(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,l=ww(r,i,o);return this._unit=s.unit||(n.autoSkip?eu(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):FS(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:BS(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),su(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?s=1-r:s=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Ce(s,0,o),n=Ce(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||eu(i.minUnit,s,n,this._getLabelCapacity(s)),l=q(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=tn(c)||c===!0,h={};let m=s,u,g;if(d&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,d?"day":o),e.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const f=r.ticks.source==="data"&&this.getDataTimestamps();for(u=m,g=0;u<n;u=+e.add(u,l,o),g++)tu(h,u,f);return(u===n||r.bounds==="ticks"||g===1)&&tu(h,u,f),Object.keys(h).sort(Qh).map(x=>+x)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const r=this.options.time.displayFormats,i=this._unit,o=s||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,r){const i=this.options,o=i.ticks.callback;if(o)return ce(o,[e,s,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],m=d&&l[d],u=n[s],g=d&&m&&u&&u.major;return this._adapter.format(e,r||(g?m:h))}generateTickLabels(e){let s,n,r;for(s=0,n=e.length;s<n;++s)r=e[s],r.label=this._tickFormatFunction(r.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,r=it(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,r=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,su(this,[e],this._majorUnit),r),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,n=r.length;s<n;++s)e=e.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const r=this.getLabels();for(s=0,n=r.length;s<n;++s)e.push(Zh(this,r[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rg(e.sort(Qh))}}$(hr,"id","time"),$(hr,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oa(t,e,s){let n=0,r=t.length-1,i,o,l,c;s?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=Mt(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=Mt(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[r]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class Xo extends hr{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=oa(s,this.min),this._tableRange=oa(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,r=[],i=[];let o,l,c,d,h;for(o=0,l=e.length;o<l;++o)d=e[o],d>=s&&d<=n&&r.push(d);if(r.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)h=r[o+1],c=r[o-1],d=r[o],Math.round((h+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(oa(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return oa(this._table,n*this._tableRange+this._minPos,!0)}}$(Xo,"id","timeseries"),$(Xo,"defaults",hr.defaults);var VS=Object.freeze({__proto__:null,CategoryScale:rn,LinearScale:an,LogarithmicScale:qo,RadialLinearScale:zt,TimeScale:hr,TimeSeriesScale:Xo});const HS=[Xk,_5,bS,VS],Gg="label";function nu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function zS(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function Kg(t,e){t.labels=e}function qg(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gg;const n=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[s]===r[s]);return!i||!r.data||n.includes(i)?{...r}:(n.push(i),Object.assign(i,r),i)})}function US(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gg;const s={labels:[],datasets:[]};return Kg(s,t.labels),qg(s,t.datasets,e),s}function WS(t,e){const{height:s=150,width:n=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:h,updateMode:m,...u}=t,g=v.useRef(null),f=v.useRef(null),x=()=>{g.current&&(f.current=new dt(g.current,{type:o,data:US(l,i),options:c&&{...c},plugins:d}),nu(e,f.current))},b=()=>{nu(e,null),f.current&&(f.current.destroy(),f.current=null)};return v.useEffect(()=>{!r&&f.current&&c&&zS(f.current,c)},[r,c]),v.useEffect(()=>{!r&&f.current&&Kg(f.current.config.data,l.labels)},[r,l.labels]),v.useEffect(()=>{!r&&f.current&&l.datasets&&qg(f.current.config.data,l.datasets,i)},[r,l.datasets]),v.useEffect(()=>{f.current&&(r?(b(),setTimeout(x)):f.current.update(m))},[r,c,l.labels,l.datasets,m]),v.useEffect(()=>{f.current&&(b(),setTimeout(x))},[o]),v.useEffect(()=>(x(),()=>b()),[]),wr.createElement("canvas",{ref:g,role:"img",height:s,width:n,...u},h)}const Jg=v.forwardRef(WS);function ic(t,e){return dt.register(e),v.forwardRef((s,n)=>wr.createElement(Jg,{...s,ref:n,type:t}))}const Xg=ic("bar",zn),oc=ic("radar",Wn),Qo=ic("doughnut",Vt);class _n{static analyzeFromSaju(e){const{fiveElements:s}=e;return{wood:s.wood||0,fire:s.fire||0,earth:s.earth||0,metal:s.metal||0,water:s.water||0}}static analyzeElementRelationships(e){const s=e.wood+e.fire+e.earth+e.metal+e.water,n={wood_fire:Math.min(e.wood*e.fire/100,100),fire_earth:Math.min(e.fire*e.earth/100,100),earth_metal:Math.min(e.earth*e.metal/100,100),metal_water:Math.min(e.metal*e.water/100,100),water_wood:Math.min(e.water*e.wood/100,100)},r={wood_earth:Math.min(e.wood*e.earth/100,100),fire_metal:Math.min(e.fire*e.metal/100,100),earth_water:Math.min(e.earth*e.water/100,100),metal_wood:Math.min(e.metal*e.wood/100,100),water_fire:Math.min(e.water*e.fire/100,100)},i=Object.values(e),o=s/5,l=i.reduce((u,g)=>u+Math.pow(g-o,2),0)/5,c=Math.max(0,100-l),d=[],h=[],m=[];return Object.entries(e).forEach(([u,g])=>{const f=g/s;f>.3?d.push(u):f<.1&&h.push(u),g===0&&m.push(u)}),{mutual_generation:n,mutual_destruction:r,balance_score:c,dominant_elements:d,weak_elements:h,missing_elements:m}}static generateRecommendations(e,s){const n=this.getColorRecommendations(e),r=this.getDirectionRecommendations(e),i=this.getActivityRecommendations(e),o=this.getLifestyleRecommendations(e);return{colors:n,directions:r,activities:i,lifestyle:o}}static getElementDetails(){return{wood:{name:"Wood",korean:"Î™©(Êú®)",icon:"üå≥",color:{primary:"#10B981",secondary:"#34D399",background:"#ECFDF5"},characteristics:{positive:["Ï∞ΩÏùòÏÑ±","ÏÑ±Ïû•Î†•","Ïú†Ïó∞ÏÑ±","ÏßÑÏ∑®ÏÑ±"],negative:["ÏÑ±Í∏âÌï®","Î≥ÄÎçï","Ïö∞Ïú†Î∂ÄÎã®","Í≥ºÎèÑÌïú Ïù¥ÏÉÅÏ£ºÏùò"]},season:"Î¥Ñ",direction:"ÎèôÏ™Ω",body_parts:["Í∞Ñ","Îã¥","Îàà","Í∑ºÏú°"],emotions:["Î∂ÑÎÖ∏","ÏßúÏ¶ù","Ï¢åÏ†àÍ∞ê"]},fire:{name:"Fire",korean:"Ìôî(ÁÅ´)",icon:"üî•",color:{primary:"#EF4444",secondary:"#F87171",background:"#FEF2F2"},characteristics:{positive:["Ïó¥Ï†ï","ÌôúÎ†•","Î¶¨ÎçîÏã≠","ÌëúÌòÑÎ†•"],negative:["ÏÑ±Í∏âÌï®","Ï∂©ÎèôÏÑ±","Í≥ºÏó¥","ÏÜåÏßÑ"]},season:"Ïó¨Î¶Ñ",direction:"ÎÇ®Ï™Ω",body_parts:["Ïã¨Ïû•","ÏÜåÏû•","ÌòÄ","ÌòàÍ¥Ä"],emotions:["Í∏∞ÏÅ®","Ìù•Î∂Ñ","Ï°∞Í∏âÌï®"]},earth:{name:"Earth",korean:"ÌÜ†(Âúü)",icon:"üèîÔ∏è",color:{primary:"#A16207",secondary:"#D97706",background:"#FFFBEB"},characteristics:{positive:["ÏïàÏ†ïÏÑ±","Ïã†Î¢∞ÏÑ±","Ìè¨Ïö©Î†•","Ïù∏ÎÇ¥Î†•"],negative:["Í≥†Ïßë","Î≥¥ÏàòÏÑ±","ÎäêÎ¶º","Í±±Ï†ï"]},season:"Îä¶Ïó¨Î¶Ñ",direction:"Ï§ëÏïô",body_parts:["ÎπÑÏû•","ÏúÑ","ÏûÖ","ÏÇ¥"],emotions:["Í±±Ï†ï","Ïö∞Î†§","ÏÇ¨Î†§ÍπäÏùå"]},metal:{name:"Metal",korean:"Í∏à(Èáë)",icon:"‚ö°",color:{primary:"#FCD34D",secondary:"#FDE047",background:"#FEFCE8"},characteristics:{positive:["Ï†ïÏùòÍ∞ê","ÏõêÏπôÏÑ±","ÏôÑÍ≤∞Î†•","ÎÖºÎ¶¨ÏÑ±"],negative:["Í≤ΩÏßÅÏÑ±","ÎÉâÏ†ïÌï®","ÎπÑÌåêÏ†Å","ÏôÑÎ≤ΩÏ£ºÏùò"]},season:"Í∞ÄÏùÑ",direction:"ÏÑúÏ™Ω",body_parts:["Ìèê","ÎåÄÏû•","ÏΩî","ÌîºÎ∂Ä"],emotions:["Ïä¨Ìîî","Ïö∞Ïö∏","ÏïÑÏâ¨ÏõÄ"]},water:{name:"Water",korean:"Ïàò(Ê∞¥)",icon:"üíß",color:{primary:"#3B82F6",secondary:"#60A5FA",background:"#EFF6FF"},characteristics:{positive:["ÏßÄÌòú","ÏúµÌÜµÏÑ±","Ï†ÅÏùëÎ†•","ÏßÅÍ¥ÄÎ†•"],negative:["Ïö∞Ïú†Î∂ÄÎã®","ÏÜåÍ∑πÏÑ±","ÎÉâÎã¥","Î≥ÄÎçï"]},season:"Í≤®Ïö∏",direction:"Î∂ÅÏ™Ω",body_parts:["Ïã†Ïû•","Î∞©Í¥ë","Í∑Ä","Îºà"],emotions:["ÎëêÎ†§ÏõÄ","Î∂àÏïà","Ïã†Ï§ëÌï®"]}}}static getColorRecommendations(e){const s=Object.entries(e).sort(([,i],[,o])=>i-o)[0][0],n=Object.entries(e).sort(([,i],[,o])=>o-i)[0][0],r={wood:{color:"Ï¥àÎ°ùÏÉâ",hex:"#10B981",effect:"ÏÑ±Ïû•Í≥º Ï∞ΩÏùòÏÑ± Ï¶ùÏßÑ"},fire:{color:"Îπ®Í∞ÑÏÉâ",hex:"#EF4444",effect:"ÌôúÎ†•Í≥º Ïó¥Ï†ï Ï¶ùÏßÑ"},earth:{color:"Í∞àÏÉâ",hex:"#A16207",effect:"ÏïàÏ†ïÏÑ±Í≥º Ïã†Î¢∞ÏÑ± Ï¶ùÏßÑ"},metal:{color:"Í∏àÏÉâ",hex:"#FCD34D",effect:"ÎÖºÎ¶¨ÏÑ±Í≥º ÏôÑÍ≤∞Î†• Ï¶ùÏßÑ"},water:{color:"ÌååÎûÄÏÉâ",hex:"#3B82F6",effect:"ÏßÄÌòúÏôÄ Ï†ÅÏùëÎ†• Ï¶ùÏßÑ"}};return{beneficial:[{name:r[s].color,hex:r[s].hex,description:`Î∂ÄÏ°±Ìïú ${s} Ïò§ÌñâÏùÑ Î≥¥ÏôÑÌïòÏó¨ ${r[s].effect}`}],avoid:[{name:r[n].color,hex:r[n].hex,reason:`Í≥ºÎèÑÌïú ${n} Ïò§ÌñâÏùÑ ÎçîÏö± Í∞ïÌôîÏãúÏºú Î∂àÍ∑†Ìòï Ï¥àÎûò`}]}}static getDirectionRecommendations(e){const s={wood:"ÎèôÏ™Ω",fire:"ÎÇ®Ï™Ω",earth:"Ï§ëÏïô",metal:"ÏÑúÏ™Ω",water:"Î∂ÅÏ™Ω"},n=Object.entries(e).sort(([,r],[,i])=>r-i)[0][0];return{beneficial:[{direction:s[n],element:n,benefit:`Î∂ÄÏ°±Ìïú ${n} Ïò§Ìñâ ÏóêÎÑàÏßÄ Î≥¥Ï∂©`}],avoid:[]}}static getActivityRecommendations(e){return{beneficial:[{activity:"ÏÇ∞Ï±Ö, ÏõêÏòà",element:"wood",effect:"Î™© Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú Ï∞ΩÏùòÏÑ± Ï¶ùÏßÑ"},{activity:"Ïö¥Îèô, ÏÇ¨ÍµêÌôúÎèô",element:"fire",effect:"Ìôî Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÌôúÎ†• Ï¶ùÏßÑ"},{activity:"Î™ÖÏÉÅ, ÏöîÍ∞Ä",element:"earth",effect:"ÌÜ† Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÏïàÏ†ïÏÑ± Ï¶ùÏßÑ"},{activity:"ÎèÖÏÑú, ÌïôÏäµ",element:"metal",effect:"Í∏à Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÎÖºÎ¶¨ÏÑ± Ï¶ùÏßÑ"},{activity:"ÏàòÏòÅ, ÏùåÏïÖÍ∞êÏÉÅ",element:"water",effect:"Ïàò Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÏßÄÌòú Ï¶ùÏßÑ"}],avoid:[]}}static getLifestyleRecommendations(e){return{diet:[{food:"ÎÖπÏÉâ Ï±ÑÏÜå",element:"wood",benefit:"Í∞Ñ Í±¥Í∞ïÍ≥º Ìï¥ÎèÖ Í∏∞Îä• Í∞ïÌôî"},{food:"Î∂âÏùÄ Í≥ºÏùº",element:"fire",benefit:"Ïã¨Ïû• Í±¥Í∞ïÍ≥º ÏàúÌôò Í∏∞Îä• Í∞ïÌôî"},{food:"Í≥°Î¨ºÎ•ò",element:"earth",benefit:"ÏÜåÌôî Í∏∞Îä•Í≥º ÏòÅÏñë Ìù°Ïàò Í∞ïÌôî"},{food:"Í≤¨Í≥ºÎ•ò",element:"metal",benefit:"Ìèê Í∏∞Îä•Í≥º Î©¥Ïó≠Î†• Í∞ïÌôî"},{food:"Ìï¥ÏÇ∞Î¨º",element:"water",benefit:"Ïã†Ïû• Í∏∞Îä•Í≥º ÏàòÎ∂Ñ ÎåÄÏÇ¨ Í∞ïÌôî"}],exercise:[{type:"Ïä§Ìä∏Î†àÏπ≠",element:"wood",effect:"Ïú†Ïó∞ÏÑ±Í≥º ÏàúÌôò Í∞úÏÑ†"},{type:"Ïú†ÏÇ∞ÏÜå Ïö¥Îèô",element:"fire",effect:"Ïã¨Ìèê Í∏∞Îä•Í≥º ÌôúÎ†• Ï¶ùÏßÑ"},{type:"Í∑ºÎ†• Ïö¥Îèô",element:"earth",effect:"Í∑ºÏú°ÎüâÍ≥º Í∏∞Ï¥àÎåÄÏÇ¨ Ï¶ùÏßÑ"},{type:"Ìò∏Ìù° Ïö¥Îèô",element:"metal",effect:"ÌèêÌôúÎüâÍ≥º ÏßëÏ§ëÎ†• Ï¶ùÏßÑ"},{type:"ÏàòÏòÅ",element:"water",effect:"Ï†ÑÏã† ÏàúÌôòÍ≥º Ïú†Ïó∞ÏÑ± Ï¶ùÏßÑ"}],career:[{field:"ÏòàÏà†, ÎîîÏûêÏù∏",element:"wood",aptitude:"Ï∞ΩÏùòÏÑ±Í≥º ÎØ∏Ï†Å Í∞êÍ∞Å ÌôúÏö©"},{field:"ÏòÅÏóÖ, ÎßàÏºÄÌåÖ",element:"fire",aptitude:"ÏÜåÌÜµÎä•Î†•Í≥º Ï∂îÏßÑÎ†• ÌôúÏö©"},{field:"Í¥ÄÎ¶¨, ÏÑúÎπÑÏä§",element:"earth",aptitude:"Ïã†Î¢∞ÏÑ±Í≥º Ï±ÖÏûÑÍ∞ê ÌôúÏö©"},{field:"Î∂ÑÏÑù, Ïó∞Íµ¨",element:"metal",aptitude:"ÎÖºÎ¶¨ÏÑ±Í≥º Ï≤¥Í≥ÑÏÑ± ÌôúÏö©"},{field:"ÏÉÅÎã¥, ÍµêÏú°",element:"water",aptitude:"ÏßÄÌòúÏôÄ Ìè¨Ïö©Î†• ÌôúÏö©"}]}}static generateChartData(e){const s=this.getElementDetails();return{labels:Object.keys(e).map(n=>s[n].korean),datasets:[{data:Object.values(e),backgroundColor:Object.keys(e).map(n=>s[n].color.primary),borderColor:Object.keys(e).map(n=>s[n].color.secondary),borderWidth:2,hoverOffset:10}]}}}const Ni=({interpretation:t,loading:e=!1,error:s=null,category:n="basic"})=>{const[r,i]=v.useState(!0),[o,l]=v.useState(n==="spiritual"||n==="johoo"?"basic":n);if(v.useEffect(()=>{l(n==="spiritual"||n==="johoo"?"basic":n)},[n]),e)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]})});if(s)return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center text-red-600 dark:text-red-400",children:[a.jsx("span",{className:"mr-2",children:"‚ö†Ô∏è"}),a.jsxs("span",{children:["Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§: ",s]})]})});if(!t)return null;const c=[{id:"basic",label:"Í∏∞Î≥∏ Î∂ÑÏÑù",icon:M2},{id:"personality",label:"ÏÑ±Í≤©",icon:yd},{id:"fortune",label:"Ïö¥ÏÑ∏",icon:yd},{id:"career",label:"ÏßÅÏóÖ",icon:b2},{id:"relationship",label:"Ïù∏Ïó∞",icon:I2},{id:"health",label:"Í±¥Í∞ï",icon:x2}],d=()=>{var S;const b=t.basic,y=t.johoo,j=t.spiritual;return b?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"ÏÇ¨Ï£º Í∏∞Î≥∏ Î∂ÑÏÑù"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"ÏùºÍ∞Ñ:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.dayMaster})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Í∞ïÏïΩ:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:b.dayMasterStrength==="strong"?"Í∞ïÌï®":b.dayMasterStrength==="weak"?"ÏïΩÌï®":"Ï§ëÍ∞Ñ"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Ïö©Ïã†:"}),a.jsx("span",{className:"ml-2 font-medium text-indigo-600 dark:text-indigo-400",children:b.yongshin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Í≤©Íµ≠:"}),a.jsx("span",{className:"ml-2 font-medium text-indigo-600 dark:text-indigo-400",children:b.gyeokguk})]})]}),a.jsx("p",{className:"mt-3 text-sm text-gray-700 dark:text-gray-300",children:b.summary})]}),y&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Ï°∞ÌõÑ Î∂ÑÏÑù (Í≥ÑÏ†à Ï°∞Ìôî)"}),a.jsxs("div",{className:"text-sm space-y-2",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Ï∂úÏÉù Í≥ÑÏ†à: ",a.jsx("span",{className:"font-medium",children:y.season==="spring"?"Î¥Ñ":y.season==="summer"?"Ïó¨Î¶Ñ":y.season==="autumn"?"Í∞ÄÏùÑ":"Í≤®Ïö∏"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(S=y.seasonalCharacteristics)==null?void 0:S.map((C,w)=>a.jsx("span",{className:"px-2 py-1 bg-white dark:bg-gray-700 rounded text-xs",children:C},w))}),y.recommendations&&y.recommendations.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ï∂îÏ≤úÏÇ¨Ìï≠:"}),a.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400",children:y.recommendations.map((C,w)=>a.jsx("li",{children:C},w))})]})]})]}),j&&a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Ïã†ÏÇ¥ Î∂ÑÏÑù"}),a.jsxs("div",{className:"text-sm space-y-3",children:[j.beneficialSpirits&&j.beneficialSpirits.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-700 dark:text-green-400 mb-1",children:"Í∏∏Ïã† (ÂêâÁ•û)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:j.beneficialSpirits.map((C,w)=>a.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-xs",children:["‚ú® ",C]},w))})]}),j.harmfulSpirits&&j.harmfulSpirits.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"ÌùâÏã† (Âá∂Á•û)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:j.harmfulSpirits.map((C,w)=>a.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded text-xs",children:["‚ö†Ô∏è ",C]},w))})]})]})]})]}):a.jsx("p",{className:"text-gray-500",children:"Í∏∞Î≥∏ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},h=()=>{const b=t.personality;return b?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"ÏÑ±Í≤© ÌäπÏÑ±"}),b.strengths&&b.strengths.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"Í∞ïÏ†ê"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.strengths.map((y,j)=>a.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs",children:y},j))})]}),b.weaknesses&&b.weaknesses.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-orange-700 dark:text-orange-400 mb-2",children:"Î≥¥ÏôÑÏ†ê"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.weaknesses.map((y,j)=>a.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:y},j))})]}),b.developmentAreas&&b.developmentAreas.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:"Î∞úÏ†Ñ Î∞©Ìñ•"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400",children:b.developmentAreas.map((y,j)=>a.jsx("li",{children:y},j))})]})]})}):a.jsx("p",{className:"text-gray-500",children:"ÏÑ±Í≤© Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},m=()=>{const b=t.fortune;return b?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Ïò¨Ìï¥ Ïö¥ÏÑ∏"}),b.luckyElements&&b.luckyElements.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400 mb-2",children:"ÌñâÏö¥ ÏöîÏÜå"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.luckyElements.map((y,j)=>a.jsxs("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-full text-xs",children:["üçÄ ",y]},j))})]}),b.cautionPeriods&&b.cautionPeriods.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:"Ï£ºÏùò ÏãúÍ∏∞"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.cautionPeriods.map((y,j)=>a.jsxs("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs",children:["‚ö†Ô∏è ",y]},j))})]})]})}):a.jsx("p",{className:"text-gray-500",children:"Ïö¥ÏÑ∏ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},u=()=>{const b=t.career;return b?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"ÏßÅÏóÖ Ï†ÅÏÑ±"}),b.suitableCareers&&b.suitableCareers.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:"Ï†ÅÌï©Ìïú ÏßÅÏóÖ"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.suitableCareers.map((y,j)=>a.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:y},j))})]}),b.workEnvironment&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ï∂îÏ≤ú Í∑ºÎ¨¥ ÌôòÍ≤Ω"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.workEnvironment})]})]})}):a.jsx("p",{className:"text-gray-500",children:"ÏßÅÏóÖ ÏßÄÎèÑ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},g=()=>{const b=t.relationship;return b?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Ïù∏Í∞ÑÍ¥ÄÍ≥Ñ"}),b.relationshipPattern&&a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:b.relationshipPattern}),b.advice&&b.advice.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-pink-700 dark:text-pink-400 mb-2",children:"Í¥ÄÍ≥Ñ Ï°∞Ïñ∏"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400",children:b.advice.map((y,j)=>a.jsx("li",{children:y},j))})]})]})}):a.jsx("p",{className:"text-gray-500",children:"Í¥ÄÍ≥Ñ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},f=()=>{const b=t.health;return b?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Í±¥Í∞ï Í¥ÄÎ¶¨"}),b.vulnerabilities&&b.vulnerabilities.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-orange-700 dark:text-orange-400 mb-2",children:"Ï£ºÏùòÌï† Í±¥Í∞ï Î∂ÄÏúÑ"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:b.vulnerabilities.map((y,j)=>a.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:y},j))})]}),b.lifestyle&&b.lifestyle.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"Ï∂îÏ≤ú ÏÉùÌôúÏäµÍ¥Ä"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400",children:b.lifestyle.map((y,j)=>a.jsx("li",{children:y},j))})]})]})}):a.jsx("p",{className:"text-gray-500",children:"Í±¥Í∞ï ÏßÄÎèÑ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§."})},x=()=>{switch(o){case"basic":return d();case"personality":return h();case"fortune":return m();case"career":return u();case"relationship":return g();case"health":return f();default:return d()}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx("span",{className:"mr-2",children:"‚ú®"}),"ÏÇ¨Ï£º Ìï¥ÏÑù Î∂ÑÏÑù"]}),a.jsx("button",{onClick:()=>i(!r),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:a.jsx("span",{children:r?"‚ñ≤":"‚ñº"})})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex overflow-x-auto border-b border-gray-200 dark:border-gray-700",children:c.map(b=>{const y=b.icon;return a.jsxs("button",{onClick:()=>l(b.id),className:`flex items-center px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${o===b.id?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(y,{className:"w-4 h-4 mr-2"}),b.label]},b.id)})}),a.jsx("div",{className:"p-6",children:x()})]})]})};dt.register(gs,Ps,Ds);const YS=({sajuData:t,height:e=350,className:s="",showLegend:n=!0,showTooltips:r=!0})=>{const[i,o]=v.useState(null),[l,c]=v.useState(!1),[d,h]=v.useState(null),m=v.useMemo(()=>_n.analyzeFromSaju(t),[t]),u=v.useMemo(()=>_n.analyzeElementRelationships(m),[m]),g=v.useMemo(()=>_n.generateRecommendations(m,u),[m,u]),f=v.useMemo(()=>_n.getElementDetails(),[]);v.useEffect(()=>{(async()=>{if(t){c(!0),h(null);try{const w=await di.getComprehensiveInterpretation(t);o(w)}catch(w){console.error("Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",w),h("Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{c(!1)}}})()},[t]);const x=v.useMemo(()=>_n.generateChartData(m),[m]),b=v.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:n,position:"right",labels:{font:{family:"Noto Sans KR, sans-serif",size:12},padding:15,usePointStyle:!0,pointStyle:"circle",generateLabels:C=>{var M;const w=C.data.datasets;if(w.length>0){const N=w[0];return((M=C.data.labels)==null?void 0:M.map((k,_)=>{var P,O;const E=N.data[_],T=N.data.reduce((D,F)=>D+F,0),R=T>0?(E/T*100).toFixed(1):"0.0";return{text:`${k} (${R}%)`,fillStyle:((P=N.backgroundColor)==null?void 0:P[_])||"#000",strokeStyle:((O=N.borderColor)==null?void 0:O[_])||"#000",lineWidth:2,hidden:!1,index:_}}))||[]}return[]}}},tooltip:{enabled:r,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{label(C){const w=C.label||"",M=C.parsed,N=C.dataset.data.reduce((T,R)=>T+R,0),k=N>0?(M/N*100).toFixed(1):"0.0",_=Object.keys(m)[C.dataIndex],E=f[_];return[`${w}: ${M}Ï†ê (${k}%)`,`ÌäπÏÑ±: ${E.characteristics.positive.join(", ")}`]}}}},cutout:"50%",animation:{animateRotate:!0,animateScale:!0,duration:1e3}}),[n,r,m,f]),j=(()=>{const C=u.balance_score;return C>=80?{status:"Îß§Ïö∞ Í∑†Ìòï",color:"text-green-600",icon:"üü¢"}:C>=60?{status:"Í∑†Ìòï ÏñëÌò∏",color:"text-blue-600",icon:"üîµ"}:C>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600",icon:"üü°"}:{status:"Î∂àÍ∑†Ìòï",color:"text-red-600",icon:"üî¥"}})();return Object.values(m).some(C=>C>0)?a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${s}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"üéØ Ïò§Ìñâ Í∑†ÌòïÎèÑ"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Î™©, Ìôî, ÌÜ†, Í∏à, Ïàò Îã§ÏÑØ ÏöîÏÜåÏùò Ï°∞Ìôî ÏÉÅÌÉú"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${j.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:j.icon}),j.status]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Í∑†ÌòïÏ†êÏàò: ",u.balance_score.toFixed(0),"Ï†ê"]})]})]}),a.jsxs("div",{className:"relative mb-6",style:{height:e-150},children:[a.jsx(Qo,{data:x,options:b}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:u.balance_score.toFixed(0)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Í∑†ÌòïÏ†êÏàò"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"üí™ Í∞ïÌïú Ïò§Ìñâ"}),u.dominant_elements.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300",children:u.dominant_elements.map(C=>f[C].korean).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-red-800 dark:text-red-200 mb-1",children:"‚ö†Ô∏è ÏïΩÌïú Ïò§Ìñâ"}),u.weak_elements.length>0?a.jsx("div",{className:"text-red-700 dark:text-red-300",children:u.weak_elements.map(C=>f[C].korean).join(", ")}):a.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs",children:"ÌäπÎ≥ÑÌûà ÏïΩÌïú ÏöîÏÜå ÏóÜÏùå"})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"üé® Ï∂îÏ≤ú ÏÉâÏÉÅ"}),g.colors.beneficial.length>0?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:g.colors.beneficial[0].hex}}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 text-xs",children:g.colors.beneficial[0].name})]}):a.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs",children:"Í∑†Ìòï Ïú†ÏßÄ"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Ni,{interpretation:i,loading:l,error:d,category:"basic"})})]}):a.jsx("div",{className:`flex items-center justify-center ${s}`,style:{height:e},children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üìä"}),a.jsx("div",{className:"text-lg font-medium",children:"Ïò§Ìñâ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})})},hs={bijeon:{name:"Bijeon",koreanName:"ÎπÑÍ≤¨",hanja:"ÊØîËÇ©",category:"self",icon:"ü§ù",color:{primary:"#6366F1",secondary:"#818CF8",background:"#EEF2FF"},keywords:["ÏûêÏïÑ","ÎèôÎì±","ÌòëÎ†•","ÏûêÏ°¥Ïã¨"],positiveTraits:["ÌòëÎèôÏÑ±","ÎèôÎ£åÏï†","Í≥µÏ†ïÌï®","Í∑†ÌòïÍ∞êÍ∞Å"],negativeTraits:["Í≥†Ïßë","Í≤ΩÏßÅÏÑ±","ÎπÑÌÉÄÌòëÏ†Å","ÏûêÍ∏∞Ï§ëÏã¨Ï†Å"],description:"ÏûêÏïÑÏôÄ ÎèôÎì±Ìïú Í∏∞Ïö¥ÏúºÎ°ú ÌòëÎ†•Í≥º Í≤ΩÏüÅÏùÑ ÎÇòÌÉÄÎÉÑ",roles:["ÌåÄÏõåÌÅ¨","ÎèôÎ£åÍ¥ÄÍ≥Ñ","ÏûêÏïÑÏã§ÌòÑ","Í≥µÏ†ïÌïú Í≤ΩÏüÅ"]},geopjae:{name:"Geopjae",koreanName:"Í≤ÅÏû¨",hanja:"Âä´Ë≤°",category:"self",icon:"‚ö°",color:{primary:"#8B5CF6",secondary:"#A78BFA",background:"#F3F4F6"},keywords:["Í≤ΩÏüÅ","ÎèÑÏ†Ñ","Î≥ÄÌôî","Ìà¨ÏüÅ"],positiveTraits:["ÎèÑÏ†ÑÏ†ïÏã†","Î≥ÄÌôîÏ†ÅÏùë","Ï∂îÏßÑÎ†•","Í∞úÏ≤ôÏ†ïÏã†"],negativeTraits:["ÏÑ±Í∏âÌï®","Ï∂©ÎèôÏÑ±","ÌååÍ¥¥ÏÑ±","Î∂àÏïàÏ†ï"],description:"Ïû¨Î¨ºÏùÑ ÎπºÏïóÎäî Í∏∞Ïö¥ÏúºÎ°ú Í≤ΩÏüÅÍ≥º ÎèÑÏ†ÑÏùÑ ÏùòÎØ∏",roles:["ÌòÅÏã†","Î≥ÄÌôîÏ£ºÎèÑ","Í≤ΩÏüÅÎ†•","ÏúÑÍ∏∞ÎåÄÏùë"]},siksin:{name:"Siksin",koreanName:"ÏãùÏã†",hanja:"È£üÁ•û",category:"expression",icon:"üé®",color:{primary:"#10B981",secondary:"#34D399",background:"#ECFDF5"},keywords:["ÌëúÌòÑ","Ïû¨Îä•","Ï¶êÍ±∞ÏõÄ","Ï∞ΩÏûë"],positiveTraits:["Ïû¨Îä•","ÌëúÌòÑÎ†•","Ïú†ÏæåÌï®","Ï∞ΩÏùòÏÑ±"],negativeTraits:["Î∞©ÎßåÌï®","ÏïàÏùºÌï®","ÌòÑÏã§ÎèÑÌîº","ÏùòÏ°¥ÏÑ±"],description:"ÏùºÍ∞ÑÏù¥ ÏÉùÌïòÎäî Í∏∞Ïö¥ÏúºÎ°ú Ïû¨Îä•Í≥º ÌëúÌòÑÎ†•ÏùÑ ÎÇòÌÉÄÎÉÑ",roles:["ÏòàÏà†","Ï∞ΩÏûë","ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏","ÏÑúÎπÑÏä§"]},sanggwan:{name:"Sanggwan",koreanName:"ÏÉÅÍ¥Ä",hanja:"ÂÇ∑ÂÆò",category:"expression",icon:"üöÄ",color:{primary:"#F59E0B",secondary:"#FBBF24",background:"#FFFBEB"},keywords:["Ï∞ΩÏ°∞","Î∞òÌï≠","ÌòÅÏã†","ÎπÑÌåê"],positiveTraits:["Ï∞ΩÏ°∞Î†•","ÌòÅÏã†ÏÑ±","ÎèÖÏ∞ΩÏÑ±","ÏòàÏà†ÏÑ±"],negativeTraits:["Î∞òÌï≠ÏÑ±","ÎπÑÌåêÏ†Å","Î∂àÏïàÏ†ï","Í∑πÎã®Ï†Å"],description:"Í¥ÄÏùÑ ÏÉÅÌïòÍ≤å ÌïòÎäî Í∏∞Ïö¥ÏúºÎ°ú Ï∞ΩÏ°∞ÏôÄ ÌòÅÏã†ÏùÑ ÏùòÎØ∏",roles:["ÌòÅÏã†","Ï∞ΩÏóÖ","ÏòàÏà†","ÎπÑÌåê"]},pyeonjae:{name:"Pyeonjae",koreanName:"Ìé∏Ïû¨",hanja:"ÂÅèË≤°",category:"wealth",icon:"üí∞",color:{primary:"#EF4444",secondary:"#F87171",background:"#FEF2F2"},keywords:["ÌôúÎèô","ÏÇ¨Íµê","Ïú†Îèô","Í∏∞Ìöå"],positiveTraits:["ÏÇ¨ÍµêÏÑ±","ÌôúÎèôÎ†•","Í∏∞ÌöåÌè¨Ï∞©","Ïú†Ïó∞ÏÑ±"],negativeTraits:["ÏÇ∞ÎßåÌï®","Î∂àÏïàÏ†ï","Ìà¨Í∏∞ÏÑ±","ÎÇ≠ÎπÑ"],description:"ÏùºÍ∞ÑÏù¥ Í∑πÌïòÎäî ÎèôÏÑ± Ïû¨Î¨ºÎ°ú ÌôúÎèôÏ†Å Ïû¨Î¨ºÏùÑ ÏùòÎØ∏",roles:["ÏòÅÏóÖ","ÏÇ¨Íµê","ÏÑúÎπÑÏä§","Ïú†ÌÜµ"]},jeongjae:{name:"Jeongjae",koreanName:"Ï†ïÏû¨",hanja:"Ê≠£Ë≤°",category:"wealth",icon:"üè¶",color:{primary:"#DC2626",secondary:"#EF4444",background:"#FEF2F2"},keywords:["Í∑ºÎ©¥","Ï†àÏïΩ","ÏïàÏ†ï","Ï∂ïÏ†Å"],positiveTraits:["Í∑ºÎ©¥ÏÑ±","Ï†àÏïΩÏ†ïÏã†","Í≥ÑÌöçÏÑ±","ÏïàÏ†ïÏÑ±"],negativeTraits:["Î≥¥ÏàòÏÑ±","ÏÜåÏã¨Ìï®","Í≤ΩÏßÅÏÑ±","Î¨ºÏßàÏ£ºÏùò"],description:"ÏùºÍ∞ÑÏù¥ Í∑πÌïòÎäî Ïù¥ÏÑ± Ïû¨Î¨ºÎ°ú Ï†ïÎãπÌïú Ïû¨Î¨ºÏùÑ ÏùòÎØ∏",roles:["Í¥ÄÎ¶¨","ÌöåÍ≥Ñ","Ï†ÄÏ∂ï","Ìà¨Ïûê"]},pyeongwan:{name:"Pyeongwan",koreanName:"Ìé∏Í¥Ä",hanja:"ÂÅèÂÆò",category:"authority",icon:"‚öîÔ∏è",color:{primary:"#7C2D12",secondary:"#A16207",background:"#FEF3C7"},keywords:["Í∞úÏ≤ô","Î™®Ìóò","Í∂åÎ†•","ÏïïÎ∞ï"],positiveTraits:["Í∞úÏ≤ôÏ†ïÏã†","Ï∂îÏßÑÎ†•","Í≤∞Îã®Î†•","Î¶¨ÎçîÏã≠"],negativeTraits:["ÎèÖÏÑ†Ï†Å","Í∂åÏúÑÏ†Å","ÏÑ±Í∏âÌï®","Í∞ïÏïïÏ†Å"],description:"ÏùºÍ∞ÑÏùÑ Í∑πÌïòÎäî ÎèôÏÑ± Í¥ÄÏÑ±ÏúºÎ°ú Í∞úÏ≤ôÍ≥º Í∂åÎ†•ÏùÑ ÏùòÎØ∏",roles:["Í∞úÏ≤ô","Í≤ΩÏòÅ","Íµ∞ÏÇ¨","ÌòÅÏã†"]},jeonggwan:{name:"Jeonggwan",koreanName:"Ï†ïÍ¥Ä",hanja:"Ê≠£ÂÆò",category:"authority",icon:"üëë",color:{primary:"#92400E",secondary:"#D97706",background:"#FEF3C7"},keywords:["Î™ÖÏòà","Í∂åÏúÑ","ÏßàÏÑú","Ï±ÖÏûÑ"],positiveTraits:["Ï±ÖÏûÑÍ∞ê","Ïã†Î¢∞ÏÑ±","ÌíàÍ≤©","Î¶¨ÎçîÏã≠"],negativeTraits:["Î≥¥ÏàòÏÑ±","ÌòïÏãùÏ†Å","Í∂åÏúÑÏùòÏ°¥","ÏÜåÍ∑πÏÑ±"],description:"ÏùºÍ∞ÑÏùÑ Í∑πÌïòÎäî Ïù¥ÏÑ± Í¥ÄÏÑ±ÏúºÎ°ú Î™ÖÏòàÏôÄ Í∂åÏúÑÎ•º ÏùòÎØ∏",roles:["Í¥ÄÎ¶¨","ÌñâÏ†ï","ÍµêÏú°","ÏÉÅÎã¥"]},pyeongin:{name:"Pyeongin",koreanName:"Ìé∏Ïù∏",hanja:"ÂÅèÂç∞",category:"support",icon:"üîÆ",color:{primary:"#3B82F6",secondary:"#60A5FA",background:"#EFF6FF"},keywords:["ÏßÅÍ∞ê","ÎèÖÏ∞Ω","Ïã†ÎπÑ","ÌäπÎ≥ÑÌï®"],positiveTraits:["ÏßÅÍ∞êÎ†•","ÎèÖÏ∞ΩÏÑ±","Ïã†ÎπÑÏÑ±","ÌäπÎ≥ÑÌï®"],negativeTraits:["Ïô∏Î°úÏõÄ","ÎπÑÌòÑÏã§Ï†Å","Î≥ÄÎçï","ÍπåÎã§Î°úÏõÄ"],description:"ÏùºÍ∞ÑÏùÑ ÏÉùÌïòÎäî ÎèôÏÑ± Ïù∏ÏÑ±ÏúºÎ°ú ÏßÅÍ∞êÍ≥º ÎèÖÏ∞ΩÏÑ±ÏùÑ ÏùòÎØ∏",roles:["Ïó∞Íµ¨","Ï∞ΩÏûë","ÏÉÅÎã¥","ÏπòÎ£å"]},jeongin:{name:"Jeongin",koreanName:"Ï†ïÏù∏",hanja:"Ê≠£Âç∞",category:"support",icon:"üìö",color:{primary:"#1D4ED8",secondary:"#3B82F6",background:"#EFF6FF"},keywords:["ÌïôÏäµ","Î≥¥Ìò∏","ÏßÄÌòú","Ïù∏Îçï"],positiveTraits:["ÌïôÏäµÎ†•","Ïù∏Îçï","Î≥¥Ìò∏Î≥∏Îä•","ÏßÄÌòú"],negativeTraits:["ÏùòÏ°¥ÏÑ±","ÏÜåÍ∑πÏÑ±","ÌòÑÏã§ÎèÑÌîº","Í≤åÏúºÎ¶Ñ"],description:"ÏùºÍ∞ÑÏùÑ ÏÉùÌïòÎäî Ïù¥ÏÑ± Ïù∏ÏÑ±ÏúºÎ°ú ÌïôÏäµÍ≥º Î≥¥Ìò∏Î•º ÏùòÎØ∏",roles:["ÍµêÏú°","ÌïôÏäµ","ÏÉÅÎã¥","Î≥¥Ïú°"]}},to={self:{name:"ÏûêÏïÑÏÑ±",description:"ÏûêÏïÑÏôÄ Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["bijeon","geopjae"]},expression:{name:"ÌëúÌòÑÏÑ±",description:"Ïû¨Îä•Í≥º ÌëúÌòÑÏóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["siksin","sanggwan"]},wealth:{name:"Ïû¨Î¨ºÏÑ±",description:"Ïû¨Î¨ºÍ≥º Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeonjae","jeongjae"]},authority:{name:"Í¥ÄÏÑ±",description:"Í∂åÏúÑÏôÄ Î™ÖÏòàÏóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeongwan","jeonggwan"]},support:{name:"Ïù∏ÏÑ±",description:"ÌïôÏäµÍ≥º Î≥¥Ìò∏Ïóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeongin","jeongin"]}},Mn={DOMINANT_MIN:.15,WEAK_MAX:.03,EXCELLENT_MIN:85,GOOD_MIN:70,FAIR_MIN:50};class so{static analyzeFromSaju(e){const{tenGods:s}=e;return{bijeon:s.bijeon||0,geopjae:s.geopjae||0,siksin:s.siksin||0,sanggwan:s.sanggwan||0,pyeonjae:s.pyeonjae||0,jeongjae:s.jeongjae||0,pyeongwan:s.pyeongwan||0,jeonggwan:s.jeonggwan||0,pyeongin:s.pyeongin||0,jeongin:s.jeongin||0}}static performFullAnalysis(e){const s=this.analyzeFromSaju(e),n=Object.values(s).reduce((m,u)=>m+u,0),r={};Object.entries(s).forEach(([m,u])=>{r[m]=n>0?u/n:0});const i=[],o=[],l=[];Object.entries(r).forEach(([m,u])=>{const g=m;s[g]===0?l.push(g):u>=Mn.DOMINANT_MIN?i.push(g):u<=Mn.WEAK_MAX&&o.push(g)});const c=this.calculateBalance(s),d=this.analyzePersonality(s),h=this.generateRecommendations(s,d);return{data:s,total:n,percentages:r,dominant:i,weak:o,missing:l,balance:c,personality:d,recommendations:h}}static calculateBalance(e){const n=Object.values(e).reduce((h,m)=>h+m,0);if(n===0)return{score:0,status:"poor",description:"Ïã≠ÏÑ± Îç∞Ïù¥ÌÑ∞Í∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§"};const r=Object.entries(to).map(([h,m])=>m.tenGods.reduce((g,f)=>g+e[f],0)/n),i=1/Object.keys(to).length,o=r.reduce((h,m)=>h+Math.pow(m-i,2),0)/r.length,l=Math.max(0,Math.min(100,100-o*500));let c,d;return l>=Mn.EXCELLENT_MIN?(c="excellent",d="Îß§Ïö∞ Í∑†Ìòï Ïû°Ìûå Ïã≠ÏÑ± Î∂ÑÌè¨"):l>=Mn.GOOD_MIN?(c="good",d="Í∑†Ìòï Ïû°Ìûå Ïã≠ÏÑ± Î∂ÑÌè¨"):l>=Mn.FAIR_MIN?(c="fair",d="Î≥¥ÌÜµ ÏàòÏ§ÄÏùò Ïã≠ÏÑ± Î∂ÑÌè¨"):(c="poor",d="Î∂àÍ∑†ÌòïÌïú Ïã≠ÏÑ± Î∂ÑÌè¨"),{score:l,status:c,description:d}}static analyzePersonality(e){var g;const s=Object.values(e).reduce((f,x)=>f+x,0);if(s===0)return{leadership:0,creativity:0,stability:0,sociability:0,independence:0,overall:"Î∂ÑÏÑù Î∂àÍ∞Ä"};const n=Math.round((e.jeonggwan+e.pyeongwan)/s*100),r=Math.round((e.siksin+e.sanggwan)/s*100),i=Math.round((e.jeongin+e.pyeongin)/s*100),o=Math.round((e.jeongjae+e.pyeonjae)/s*100),l=Math.round((e.bijeon+e.geopjae)/s*100),c={leadership:n,creativity:r,stability:i,sociability:o,independence:l},d=Math.max(...Object.values(c)),h=(g=Object.entries(c).find(([,f])=>f===d))==null?void 0:g[0],u={leadership:"Î¶¨ÎçîÏã≠Ìòï - Í∂åÏúÑÏôÄ Ï±ÖÏûÑÍ∞êÏù¥ Í∞ïÌïú ÏÑ±Ìñ•",creativity:"Ï∞ΩÏùòÌòï - ÌëúÌòÑÎ†•Í≥º Ï∞ΩÏ°∞ÏÑ±Ïù¥ Îõ∞Ïñ¥ÎÇú ÏÑ±Ìñ•",stability:"ÏïàÏ†ïÌòï - ÌïôÏäµÍ≥º Î≥¥Ìò∏Î≥∏Îä•Ïù¥ Í∞ïÌïú ÏÑ±Ìñ•",sociability:"ÏÇ¨ÍµêÌòï - ÎåÄÏù∏Í¥ÄÍ≥ÑÏôÄ Ïû¨Î¨ºÍ¥ÄÎ¶¨Ïóê Îõ∞Ïñ¥ÎÇú ÏÑ±Ìñ•",independence:"ÎèÖÎ¶ΩÌòï - ÏûêÏïÑÏã§ÌòÑÍ≥º Í≤ΩÏüÅÏóê Í∞ïÌïú ÏÑ±Ìñ•"}[h||"stability"]||"Í∑†ÌòïÌòï - Îã§ÏñëÌïú Î©¥ÏóêÏÑú Í≥†Î•∏ ÏÑ±Ìñ•";return{leadership:n,creativity:r,stability:i,sociability:o,independence:l,overall:u}}static generateRecommendations(e,s){const n=this.getCareerRecommendations(e),r=this.getRelationshipAdvice(e,s),i=this.getDevelopmentSuggestions(e),o=this.getCautionAreas(e);return{career:n,relationships:r,development:i,caution:o}}static getCareerRecommendations(e){const s=Object.values(e).reduce((l,c)=>l+c,0),n=[],r=e.jeonggwan+e.pyeongwan;r/s>=.2&&n.push({field:"Í¥ÄÎ¶¨ÏßÅ, ÌñâÏ†ïÏßÅ, Í≥µÎ¨¥Ïõê",tenGod:"jeonggwan",suitability:Math.round(r/s*100),reason:"Í∞ïÌïú Í¥ÄÏÑ±ÏúºÎ°ú Í∂åÏúÑÏôÄ Ï±ÖÏûÑÏùÑ Ïûò Í∞êÎãπÌï† Ïàò ÏûàÏùå"});const i=e.siksin+e.sanggwan;i/s>=.2&&n.push({field:"ÏòàÏà†, Ï∞ΩÏûë, ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏",tenGod:"siksin",suitability:Math.round(i/s*100),reason:"Îõ∞Ïñ¥ÎÇú ÌëúÌòÑÎ†•Í≥º Ï∞ΩÏùòÏÑ±ÏùÑ ÌôúÏö©Ìï† Ïàò ÏûàÏùå"});const o=e.jeongjae+e.pyeonjae;return o/s>=.2&&n.push({field:"ÏòÅÏóÖ, ÎßàÏºÄÌåÖ, Í∏àÏúµ",tenGod:"jeongjae",suitability:Math.round(o/s*100),reason:"Ïû¨Î¨º Í¥ÄÎ¶¨ÏôÄ ÎåÄÏù∏Í¥ÄÍ≥Ñ Îä•Î†•Ïù¥ Îõ∞Ïñ¥ÎÇ®"}),n.length>0?n:[{field:"Í∑†Ìòï Ïû°Ìûå Îã§ÏñëÌïú Î∂ÑÏïº",tenGod:"bijeon",suitability:70,reason:"Í≥†Î•∏ Ïã≠ÏÑ± Î∂ÑÌè¨Î°ú Îã§ÏñëÌïú Î∂ÑÏïºÏóê Ï†ÅÏùë Í∞ÄÎä•"}]}static getRelationshipAdvice(e,s){const n=[];return s.sociability>30&&n.push({type:"ÎåÄÏù∏Í¥ÄÍ≥Ñ",advice:"Îõ∞Ïñ¥ÎÇú ÏÇ¨ÍµêÏÑ±ÏùÑ ÌôúÏö©ÌïòÏó¨ ÎÑ§Ìä∏ÏõåÌÇπÏùÑ Ï†ÅÍ∑πÏ†ÅÏúºÎ°ú ÌôúÏö©ÌïòÏÑ∏Ïöî",basedOn:["jeongjae","pyeonjae"]}),s.independence>30&&n.push({type:"ÏûêÏïÑÏã§ÌòÑ",advice:"ÎèÖÎ¶ΩÏ†ÅÏù∏ ÏÑ±Ìñ•ÏùÑ ÏÇ¥Î†§ ÏûêÏã†ÎßåÏùò ÏòÅÏó≠ÏùÑ Íµ¨Ï∂ïÌïòÏÑ∏Ïöî",basedOn:["bijeon","geopjae"]}),n.length>0?n:[{type:"Í∑†ÌòïÎ∞úÏ†Ñ",advice:"Îã§ÏñëÌïú Í¥ÄÍ≥ÑÎ•º ÌÜµÌï¥ Í∑†Ìòï Ïû°Ìûå ÏÑ±Ïû•ÏùÑ Ï∂îÍµ¨ÌïòÏÑ∏Ïöî",basedOn:["jeongin"]}]}static getDevelopmentSuggestions(e){const s=[];return Object.entries(e).sort(([,r],[,i])=>r-i).slice(0,2).map(([r])=>r).forEach(r=>{const i=hs[r];s.push({area:`${i.koreanName} Í∞úÎ∞ú`,method:`${i.positiveTraits.join(", ")} Í¥ÄÎ†® ÌôúÎèô Ï¶ùÍ∞Ä`,targetTenGod:r})}),s}static getCautionAreas(e){const s=[],n=Object.values(e).reduce((r,i)=>r+i,0);return Object.entries(e).forEach(([r,i])=>{if(i/n>.3){const l=hs[r];s.push({issue:`${l.koreanName} Í≥ºÎã§`,reason:`${l.negativeTraits.join(", ")} Í≤ΩÌñ•Ïù¥ ÎÇòÌÉÄÎÇ† Ïàò ÏûàÏùå`,solution:`${l.positiveTraits[0]} Ï∏°Î©¥ÏùÑ Ï†ÅÏ†àÌûà Ï°∞Ï†àÌïòÍ≥† Îã§Î•∏ Ïã≠ÏÑ±ÏùÑ Í∑†ÌòïÏûàÍ≤å Î∞úÏ†ÑÏãúÌÇ§ÏÑ∏Ïöî`})}}),s}static generateChartData(e){const s=Object.keys(e).map(i=>`${hs[i].koreanName}
${hs[i].hanja}`),n=Object.values(e),r=Object.keys(e).map(i=>hs[i].color.primary);return{labels:s,datasets:[{label:"Ïã≠ÏÑ± Î∂ÑÌè¨",data:n,backgroundColor:r.map(i=>`${i}80`),borderColor:r,borderWidth:2,borderRadius:4,borderSkipped:!1}]}}static generateCategoryChartData(e){const s=Object.entries(to).map(([n,r])=>{const i=r.tenGods.reduce((o,l)=>o+e[l],0);return{category:n,name:r.name,value:i}});return{labels:s.map(n=>n.name),datasets:[{data:s.map(n=>n.value),backgroundColor:["#6366F1","#10B981","#EF4444","#F59E0B","#3B82F6"],borderWidth:2}]}}}dt.register(rn,an,vs,gs,ac,Ps,Ds);const GS=({sajuData:t,height:e=400,className:s="",chartType:n="bar",_showCategory:r=!1})=>{const[i,o]=v.useState("individual"),[l,c]=v.useState(null),[d,h]=v.useState(!1),[m,u]=v.useState(null),g=v.useMemo(()=>so.performFullAnalysis(t),[t]);v.useEffect(()=>{(async()=>{if(t){h(!0),u(null);try{const w=await di.getPersonalityAnalysis(t);c({personality:w})}catch(w){console.error("ÏÑ±Í≤© Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",w),u("ÏÑ±Í≤© Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{h(!1)}}})()},[t]);const f=v.useMemo(()=>so.generateChartData(g.data),[g.data]),x=v.useMemo(()=>so.generateCategoryChartData(g.data),[g.data]),b=v.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{title(C){return C[0].label||""},label(C){const w=C.parsed.x,M=g.total>0?(w/g.total*100).toFixed(1):"0.0",N=Object.keys(g.data)[C.dataIndex],k=hs[N];return[`Ï†êÏàò: ${w}Ï†ê (${M}%)`,`ÌäπÏÑ±: ${k.keywords.join(", ")}`,`Ïû•Ï†ê: ${k.positiveTraits.join(", ")}`]}}}},scales:{x:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{family:"Noto Sans KR, sans-serif",size:11}}},y:{grid:{display:!1},ticks:{font:{family:"Noto Sans KR, sans-serif",size:11},callback(C){return this.getLabelForValue(C).split(`
`)[0]}}}},animation:{duration:1e3}}),[g.data,g.total]),y=v.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{font:{family:"Noto Sans KR, sans-serif",size:11},padding:15,usePointStyle:!0,pointStyle:"rectRounded",generateLabels:C=>{var M;const w=C.data.datasets;if(w.length>0){const N=w[0];return((M=C.data.labels)==null?void 0:M.map((k,_)=>{var R,P;const E=N.data[_];if(E===0)return null;const T=g.total>0?(E/g.total*100).toFixed(1):"0.0";return{text:`${k} (${T}%)`,fillStyle:((R=N.backgroundColor)==null?void 0:R[_])||"#000",strokeStyle:((P=N.borderColor)==null?void 0:P[_])||"#000",lineWidth:2,hidden:!1,index:_}}).filter(Boolean))||[]}return[]}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",callbacks:{label(C){const w=C.parsed,M=g.total>0?(w/g.total*100).toFixed(1):"0.0";return`${C.label}: ${w}Ï†ê (${M}%)`}}}},cutout:"40%",animation:{animateRotate:!0,duration:1e3}}),[g.total]),S=(()=>{const C=g.balance.score;return C>=80?{status:"Îß§Ïö∞ Í∑†Ìòï",color:"text-green-600",icon:"üü¢"}:C>=60?{status:"Í∑†Ìòï ÏñëÌò∏",color:"text-blue-600",icon:"üîµ"}:C>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600",icon:"üü°"}:{status:"Î∂àÍ∑†Ìòï",color:"text-red-600",icon:"üî¥"}})();return g.total===0?a.jsx("div",{className:`flex items-center justify-center ${s}`,style:{height:e},children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üìä"}),a.jsx("div",{className:"text-lg font-medium",children:"Ïã≠ÏÑ± Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})}):a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${s}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"‚≠ê Ïã≠ÏÑ± Î∂ÑÌè¨ÎèÑ"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"10Í∞ÄÏßÄ Ïã≠ÏÑ±Ïùò Í∞ïÎèÑÏôÄ ÏÑ±Í≤© ÌäπÏÑ± Î∂ÑÏÑù"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("button",{onClick:()=>o("individual"),className:`px-3 py-1 text-xs transition-colors ${i==="individual"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Í∞úÎ≥ÑÏã≠ÏÑ±"}),a.jsx("button",{onClick:()=>o("category"),className:`px-3 py-1 text-xs transition-colors ${i==="category"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Ïπ¥ÌÖåÍ≥†Î¶¨"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${S.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:S.icon}),S.status]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Í∑†ÌòïÏ†êÏàò: ",g.balance.score.toFixed(0),"Ï†ê"]})]})]})]}),a.jsx("div",{className:"mb-6",style:{height:e-200},children:i==="individual"?n==="bar"?a.jsx(Xg,{data:f,options:b}):a.jsx(Qo,{data:f,options:y}):a.jsx(Qo,{data:x,options:y})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"üß† ÏÑ±Í≤© ÌäπÏÑ±"}),a.jsx("div",{className:"text-blue-700 dark:text-blue-300 text-sm",children:g.personality.overall})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"üí™ Í∞ïÌïú Ïã≠ÏÑ±"}),g.dominant.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm",children:g.dominant.map(C=>hs[C].koreanName).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"üéØ Ï∂îÏ≤ú Î∂ÑÏïº"}),g.recommendations.career.length>0?a.jsx("div",{className:"text-purple-700 dark:text-purple-300 text-sm",children:g.recommendations.career[0].field}):a.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm",children:"Îã§ÏñëÌïú Î∂ÑÏïº Ï†ÅÌï©"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ÌïµÏã¨ Îä•Î†•Ïπò"}),Object.entries({Î¶¨ÎçîÏã≠:g.personality.leadership,Ï∞ΩÏùòÏÑ±:g.personality.creativity,ÏïàÏ†ïÏÑ±:g.personality.stability,ÏÇ¨ÍµêÏÑ±:g.personality.sociability,ÎèÖÎ¶ΩÏÑ±:g.personality.independence}).map(([C,w])=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-16 text-xs text-gray-600 dark:text-gray-400",children:C}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-400 to-purple-500",style:{width:`${w}%`}})}),a.jsx("div",{className:"w-8 text-xs text-gray-500 text-right",children:w})]},C))]}),a.jsx("div",{className:"mt-6",children:a.jsx(Ni,{interpretation:l,loading:d,error:m,category:"personality"})})]})},Xe={ja:{name:"Ja",koreanName:"Ïûê",hanja:"Â≠ê",animal:"Ï•ê",animalEmoji:"üê≠",element:"water",season:"winter",month:11,direction:"Î∂Å",time:"23:00-01:00",color:{primary:"#1E40AF",secondary:"#3B82F6",background:"#EFF6FF"},characteristics:["ÏòÅÎ¶¨Ìï®","Ï†ÅÏùëÎ†•","Í∏∞ÌöåÌè¨Ï∞©"],positiveTraits:["ÏßÄÌòú","ÎØºÏ≤©ÏÑ±","Ïã§Ïö©ÏÑ±","ÏÉùÏ°¥Î†•"],negativeTraits:["ÏöïÏã¨","Í≥ÑÏÇ∞Ï†Å","ÏùòÏã¨","ÏÜåÏã¨Ìï®"],compatibility:["jin","sin"],conflict:["o"]},chuk:{name:"Chuk",koreanName:"Ï∂ï",hanja:"‰∏ë",animal:"ÏÜå",animalEmoji:"üêÇ",element:"earth",season:"winter",month:12,direction:"Î∂ÅÎèô",time:"01:00-03:00",color:{primary:"#92400E",secondary:"#D97706",background:"#FEF3C7"},characteristics:["ÏÑ±Ïã§Ìï®","Ïù∏ÎÇ¥Î†•","Ïã†Î¢∞ÏÑ±"],positiveTraits:["Í∑ºÎ©¥","Ïã†Ï§ëÌï®","Ï±ÖÏûÑÍ∞ê","ÏïàÏ†ïÏÑ±"],negativeTraits:["ÏôÑÍ≥†Ìï®","Î≥¥ÏàòÏ†Å","ÎäêÎ¶º","Í≥†Ïßë"],compatibility:["sa","yu"],conflict:["mi"]},in:{name:"In",koreanName:"Ïù∏",hanja:"ÂØÖ",animal:"Ìò∏ÎûëÏù¥",animalEmoji:"üêÖ",element:"wood",season:"spring",month:1,direction:"ÎèôÎ∂Å",time:"03:00-05:00",color:{primary:"#059669",secondary:"#10B981",background:"#ECFDF5"},characteristics:["Ïö©ÎßπÌï®","Î¶¨ÎçîÏã≠","Ï†ïÏùòÍ∞ê"],positiveTraits:["Ïö©Í∏∞","Ï∂îÏßÑÎ†•","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•"],negativeTraits:["ÏÑ±Í∏âÌï®","ÎèÖÏÑ†","Í≥†Ïßë","Í∞êÏ†ïÏ†Å"],compatibility:["o","sul"],conflict:["sin"]},myo:{name:"Myo",koreanName:"Î¨ò",hanja:"ÂçØ",animal:"ÌÜ†ÎÅº",animalEmoji:"üê∞",element:"wood",season:"spring",month:2,direction:"Îèô",time:"05:00-07:00",color:{primary:"#16A34A",secondary:"#22C55E",background:"#F0FDF4"},characteristics:["Ïò®ÌôîÌï®","ÏòàÏà†ÏÑ±","ÏßÅÍ¥ÄÎ†•"],positiveTraits:["Î∂ÄÎìúÎü¨ÏõÄ","ÏòàÏà†Í∞êÍ∞Å","ÌèâÌôîÏ£ºÏùò","ÏßÅÍ¥Ä"],negativeTraits:["Ïö∞Ïú†Î∂ÄÎã®","ÏÜåÏã¨Ìï®","ÏùòÏ°¥ÏÑ±","ÌòÑÏã§ÎèÑÌîº"],compatibility:["mi","hae"],conflict:["yu"]},jin:{name:"Jin",koreanName:"ÏßÑ",hanja:"Ëæ∞",animal:"Ïö©",animalEmoji:"üêâ",element:"earth",season:"spring",month:3,direction:"ÎèôÎÇ®",time:"07:00-09:00",color:{primary:"#CA8A04",secondary:"#EAB308",background:"#FEFCE8"},characteristics:["Ïó≠ÎèôÏÑ±","Î≥ÄÌôî","Ïã†ÎπÑÏÑ±"],positiveTraits:["Ìè¨Ïö©Î†•","Î≥ÄÌôîÏ†ÅÏùë","Ïã†ÎπÑÏÑ±","Ï∞ΩÏ°∞Î†•"],negativeTraits:["Î≥ÄÎçï","Í≥ºÎèÑÌï®","Ïã†Í≤ΩÏßà","Î∂àÏïàÏ†ï"],compatibility:["ja","yu"],conflict:["sul"]},sa:{name:"Sa",koreanName:"ÏÇ¨",hanja:"Â∑≥",animal:"Î±Ä",animalEmoji:"üêç",element:"fire",season:"summer",month:4,direction:"ÎÇ®Îèô",time:"09:00-11:00",color:{primary:"#DC2626",secondary:"#EF4444",background:"#FEF2F2"},characteristics:["ÏßÄÌòú","Ïã†Ï§ëÌï®","Ïã†ÎπÑÌï®"],positiveTraits:["ÏßÄÌòú","ÌÜµÏ∞∞Î†•","Ïã†Ï§ëÌï®","ÏßëÏ§ëÎ†•"],negativeTraits:["ÏùòÏã¨","ÏßàÌà¨","Î≥µÏû°Ìï®","ÏßëÏ∞©"],compatibility:["chuk","yu"],conflict:["hae"]},o:{name:"O",koreanName:"Ïò§",hanja:"Âçà",animal:"Îßê",animalEmoji:"üêé",element:"fire",season:"summer",month:5,direction:"ÎÇ®",time:"11:00-13:00",color:{primary:"#E11D48",secondary:"#F43F5E",background:"#FFF1F2"},characteristics:["ÌôúÎèôÏÑ±","Ïó¥Ï†ï","ÏûêÏú†Î°úÏõÄ"],positiveTraits:["ÌôúÎ†•","ÏûêÏú†Î°úÏõÄ","Ïó¥Ï†ï","ÏßÑÏ∑®ÏÑ±"],negativeTraits:["ÏÑ±Í∏âÌï®","Î≥ÄÎçï","Î∂àÏïàÏ†ï","ÏÇ∞ÎßåÌï®"],compatibility:["in","sul"],conflict:["ja"]},mi:{name:"Mi",koreanName:"ÎØ∏",hanja:"Êú™",animal:"Ïñë",animalEmoji:"üêë",element:"earth",season:"summer",month:6,direction:"ÎÇ®ÏÑú",time:"13:00-15:00",color:{primary:"#A16207",secondary:"#D97706",background:"#FEF3C7"},characteristics:["Ïò®ÏàúÌï®","ÌòëÏ°∞ÏÑ±","ÏòàÏà†ÏÑ±"],positiveTraits:["Ïò®ÏàúÌï®","ÌòëÏ°∞ÏÑ±","ÏòàÏà†ÏÑ±","ÌèâÌôîÏ£ºÏùò"],negativeTraits:["Ïö∞Ïú†Î∂ÄÎã®","ÏùòÏ°¥ÏÑ±","ÏÜåÍ∑πÏ†Å","Í±±Ï†ï"],compatibility:["myo","hae"],conflict:["chuk"]},sin:{name:"Sin",koreanName:"Ïã†",hanja:"Áî≥",animal:"ÏõêÏà≠Ïù¥",animalEmoji:"üêµ",element:"metal",season:"autumn",month:7,direction:"ÏÑúÎÇ®",time:"15:00-17:00",color:{primary:"#F59E0B",secondary:"#FBBF24",background:"#FFFBEB"},characteristics:["Ïû¨Ïπò","ÌôúÎ∞úÌï®","Î≥ÄÌôî"],positiveTraits:["Ïû¨Ïπò","ÌôúÎ∞úÌï®","Ï†ÅÏùëÎ†•","Ï∞ΩÏùòÏÑ±"],negativeTraits:["Î≥ÄÎçï","Í≤ΩÎ∞ïÌï®","Î∂àÏïàÏ†ï","Ïû•ÎÇú"],compatibility:["ja","jin"],conflict:["in"]},yu:{name:"Yu",koreanName:"Ïú†",hanja:"ÈÖâ",animal:"Îã≠",animalEmoji:"üêì",element:"metal",season:"autumn",month:8,direction:"ÏÑú",time:"17:00-19:00",color:{primary:"#D97706",secondary:"#F59E0B",background:"#FEF3C7"},characteristics:["Ï†ïÌôïÏÑ±","Î∂ÄÏßÄÎü∞Ìï®","ÏôÑÎ≤ΩÏ£ºÏùò"],positiveTraits:["Ï†ïÌôïÏÑ±","Î∂ÄÏßÄÎü∞Ìï®","ÏôÑÎ≤ΩÏ£ºÏùò","Ï±ÖÏûÑÍ∞ê"],negativeTraits:["ÍπåÎã§Î°úÏõÄ","ÎπÑÌåêÏ†Å","Í≤ΩÏßÅÏÑ±","Í±±Ï†ï"],compatibility:["chuk","sa","jin"],conflict:["myo"]},sul:{name:"Sul",koreanName:"Ïà†",hanja:"Êàå",animal:"Í∞ú",animalEmoji:"üêï",element:"earth",season:"autumn",month:9,direction:"ÏÑúÎ∂Å",time:"19:00-21:00",color:{primary:"#92400E",secondary:"#B45309",background:"#FEF3C7"},characteristics:["Ï∂©ÏÑ±Ïã¨","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•"],positiveTraits:["Ï∂©ÏÑ±Ïã¨","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•","Ïã†Î¢∞ÏÑ±"],negativeTraits:["ÏôÑÍ≥†Ìï®","ÏùòÏã¨","Î≥¥ÏàòÏ†Å","Í±±Ï†ï"],compatibility:["in","o"],conflict:["jin"]},hae:{name:"Hae",koreanName:"Ìï¥",hanja:"‰∫•",animal:"ÎèºÏßÄ",animalEmoji:"üê∑",element:"water",season:"winter",month:10,direction:"Î∂ÅÏÑú",time:"21:00-23:00",color:{primary:"#1E40AF",secondary:"#2563EB",background:"#EFF6FF"},characteristics:["Í¥ÄÎåÄÌï®","ÏÑ±Ïã§Ìï®","Îã®ÏàúÌï®"],positiveTraits:["Í¥ÄÎåÄÌï®","ÏÑ±Ïã§Ìï®","Ï†ïÏßÅÌï®","Ìè¨Ïö©Î†•"],negativeTraits:["Îã®ÏàúÌï®","Í≤åÏúºÎ¶Ñ","ÏöïÏã¨","Í≥†Ïßë"],compatibility:["myo","mi"],conflict:["sa"]}},KS={harmony:{name:"Ï°∞Ìôî",description:"ÏÑúÎ°úÎ•º Î≥¥ÏôÑÌïòÍ≥† Î∞úÏ†ÑÏãúÌÇ§Îäî Í¥ÄÍ≥Ñ",color:"#10B981",icon:"ü§ù"},conflict:{name:"Ï∂©Îèå",description:"ÏÑúÎ°ú ÎåÄÎ¶ΩÌïòÍ≥† Í≤¨Ï†úÌïòÎäî Í¥ÄÍ≥Ñ",color:"#EF4444",icon:"‚öîÔ∏è"},punishment:{name:"Ìòï",description:"ÏÑúÎ°úÎ•º ÏñµÏ†úÌïòÍ≥† Ï†úÏïΩÌïòÎäî Í¥ÄÍ≥Ñ",color:"#F59E0B",icon:"‚ö†Ô∏è"},destruction:{name:"ÌååÍ¥¥",description:"ÏÑúÎ°úÎ•º Ìï¥ÏπòÍ≥† ÌååÍ¥¥ÌïòÎäî Í¥ÄÍ≥Ñ",color:"#DC2626",icon:"üí•"},neutral:{name:"Ï§ëÎ¶Ω",description:"ÌäπÎ≥ÑÌïú ÏòÅÌñ•ÏùÑ Ï£ºÍ≥†Î∞õÏßÄ ÏïäÎäî Í¥ÄÍ≥Ñ",color:"#6B7280",icon:"‚ûñ"}};class qS{static analyzeFromSaju(e){const s={ja:Math.floor(Math.random()*30),chuk:Math.floor(Math.random()*30),in:Math.floor(Math.random()*30),myo:Math.floor(Math.random()*30),jin:Math.floor(Math.random()*30),sa:Math.floor(Math.random()*30),o:Math.floor(Math.random()*30),mi:Math.floor(Math.random()*30),sin:Math.floor(Math.random()*30),yu:Math.floor(Math.random()*30),sul:Math.floor(Math.random()*30),hae:Math.floor(Math.random()*30)},n=this.getYearBranch(e.birthInfo.year);return n&&(s[n]+=30),s}static performFullAnalysis(e){const s=this.analyzeFromSaju(e),n=Object.values(s).reduce((m,u)=>m+u,0),r=[],i=[];Object.entries(s).forEach(([m,u])=>{const g=m;u===0?i.push(g):u>=30&&r.push(g)});const o=this.analyzeInteractions(s),l=this.calculateOverallHarmony(s,o),c=this.calculateSeasonalBalance(s),d=this.analyzeAnimalPersonality(s,r),h=this.generateRecommendations(s,r,i);return{data:s,total:n,dominant:r,missing:i,interactions:o,overallHarmony:l,seasonalBalance:c,animalPersonality:d,recommendations:h}}static getYearBranch(e){const s=["sin","yu","sul","hae","ja","chuk","in","myo","jin","sa","o","mi"],n=e%12;return s[n]||null}static analyzeInteractions(e){const s={},n=Object.entries(e).filter(([r,i])=>i>10).map(([r])=>r);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const o=n[r],l=n[i],c=`${o}-${l}`;s[c]=this.analyzeRelationship(o,l)}return s}static analyzeRelationship(e,s){const n=Xe[e];return n.compatibility.includes(s)?{relationship:{type:"harmony",strength:80,description:"ÏÑúÎ°ú Ï°∞ÌôîÎ•º Ïù¥Î£®Î©∞ ÏãúÎÑàÏßÄÎ•º Î∞úÏÉùÏãúÌÇ¥"},effects:["Í∏çÏ†ïÏ†Å ÏóêÎÑàÏßÄ Ï¶ùÌè≠","Î™©Ìëú Îã¨ÏÑ± Ïö©Ïù¥","Í¥ÄÍ≥Ñ Í∞úÏÑ†"],recommendations:["Ìï®Íªò ÌòëÎ†•ÌïòÎ©¥ Ï¢ãÏùÄ Í≤∞Í≥º","ÌååÌä∏ÎÑàÏã≠ Í∞ïÌôî ÌïÑÏöî"]}:n.conflict.includes(s)?{relationship:{type:"conflict",strength:70,description:"ÏÑúÎ°ú ÎåÄÎ¶ΩÌïòÍ≥† Ï∂©ÎèåÌïòÎäî Í¥ÄÍ≥Ñ"},effects:["Í∞àÎì± Í∞ÄÎä•ÏÑ±","Ïä§Ìä∏Î†àÏä§ Ï¶ùÍ∞Ä","ÏùòÍ≤¨ Ï∂©Îèå"],recommendations:["Ï§ëÏû¨Ïûê ÌïÑÏöî","Í±∞Î¶¨ÎëêÍ∏∞ Í∂åÏû•","Ïù¥Ìï¥ÏôÄ Î∞∞Î†§ ÌïÑÏöî"]}:{relationship:{type:"neutral",strength:30,description:"ÌäπÎ≥ÑÌïú ÏòÅÌñ• ÏóÜÎäî Ï§ëÎ¶ΩÏ†Å Í¥ÄÍ≥Ñ"},effects:["ÌèâÎ≤îÌïú Í¥ÄÍ≥Ñ","ÌäπÎ≥ÑÌïú ÏòÅÌñ• ÏóÜÏùå"],recommendations:["ÏûêÏó∞Ïä§Îü¨Ïö¥ Í¥ÄÍ≥Ñ Ïú†ÏßÄ"]}}static calculateOverallHarmony(e,s){let n=50;Object.values(s).forEach(l=>{l.relationship.type==="harmony"?n+=10:l.relationship.type==="conflict"&&(n-=10)});const r=Object.values(e),i=r.reduce((l,c)=>l+c,0)/r.length,o=r.reduce((l,c)=>l+Math.pow(c-i,2),0)/r.length;return n+=Math.max(0,30-Math.sqrt(o)),Math.max(0,Math.min(100,n))}static calculateSeasonalBalance(e){const s=(e.in||0)+(e.myo||0)+(e.jin||0),n=(e.sa||0)+(e.o||0)+(e.mi||0),r=(e.sin||0)+(e.yu||0)+(e.sul||0),i=(e.hae||0)+(e.ja||0)+(e.chuk||0),o=s+n+r+i,l=o>0?s/o*100:25,c=o>0?n/o*100:25,d=o>0?r/o*100:25,h=o>0?i/o*100:25,m=[Math.abs(l-25),Math.abs(c-25),Math.abs(d-25),Math.abs(h-25)],u=Math.max(...m),g=Math.max(0,100-u*2);return{spring:l,summer:c,autumn:d,winter:h,balance:g}}static analyzeAnimalPersonality(e,s){const n=s[0]||"ja",r=Xe[n];return{primaryAnimal:`${r.animalEmoji} ${r.animal}Ìòï Ïù∏Í≤©`,traits:r.positiveTraits,compatibility:r.compatibility.map(i=>Xe[i].animal),cautions:r.negativeTraits,lifePattern:`${r.time} ÏãúÍ∞ÑÎåÄÏóê ÌôúÎèôÏ†Å, ${r.direction}Î∞©Ìñ• ÏÑ†Ìò∏`}}static generateRecommendations(e,s,n){const r=[],i=[],o=[],l=[];if(s.forEach(c=>{const d=Xe[c];r.push({color:d.color.primary,hex:d.color.primary,reason:`${d.animal}Ïùò Í∏∞Ïö¥ÏùÑ Í∞ïÌôî`}),i.push({direction:d.direction,benefit:`${d.element} Ïò§Ìñâ ÏóêÎÑàÏßÄ Ï¶ùÏßÑ`}),o.push({period:d.time,activity:"Ï§ëÏöîÌïú ÏùºÏ†ï",effect:"ÏµúÏÉÅÏùò Ïª®ÎîîÏÖòÍ≥º Ïö¥ÏÑ∏"})}),s.length>0){const c=Xe[s[0]];l.push({compatible:c.compatibility.map(d=>Xe[d].animal),avoid:c.conflict.map(d=>Xe[d].animal),reason:"Í∞ÑÏßÄ ÏÉÅÏÑ±Í≥º ÏÉÅÏ∂© Í¥ÄÍ≥Ñ"})}return{colors:r.slice(0,3),directions:i.slice(0,2),timing:o.slice(0,3),relationships:l.slice(0,1)}}}class At{static findMaximumValues(e){const s=[];return e.forEach((n,r)=>{const i=Math.max(...n.values),o=n.values.indexOf(i);s.push({datasetIndex:r,pointIndex:o,value:i})}),s}static createHighlightedPointStyles(e,s){const n=this.findMaximumValues(e);return e.map((r,i)=>{const o=n.find(m=>m.datasetIndex===i),l=r.values.map((m,u)=>o&&u===o.pointIndex?s.maxPointStyle.radius:s.normalPointStyle.radius),c=r.values.map((m,u)=>o&&u===o.pointIndex?s.maxPointStyle.backgroundColor:this.COLOR_PALETTE.primary[i%this.COLOR_PALETTE.primary.length]),d=r.values.map((m,u)=>o&&u===o.pointIndex?s.maxPointStyle.borderColor:this.COLOR_PALETTE.primary[i%this.COLOR_PALETTE.primary.length]),h=r.values.map((m,u)=>o&&u===o.pointIndex?s.maxPointStyle.borderWidth:s.normalPointStyle.borderWidth);return{label:r.label,data:r.values,backgroundColor:`${this.COLOR_PALETTE.primary[i%this.COLOR_PALETTE.primary.length]}20`,borderColor:this.COLOR_PALETTE.primary[i%this.COLOR_PALETTE.primary.length],pointBackgroundColor:c,pointBorderColor:d,pointRadius:l,pointBorderWidth:h,borderWidth:2,tension:.1}})}static applyDarkMode(e,s){var r,i,o,l,c,d,h,m,u,g,f,x;const n=s?this.COLOR_PALETTE.dark:this.COLOR_PALETTE.light;return{...e,plugins:{...e.plugins,legend:{...(r=e.plugins)==null?void 0:r.legend,labels:{...(o=(i=e.plugins)==null?void 0:i.legend)==null?void 0:o.labels,color:n.text}}},scales:{r:{...(l=e.scales)==null?void 0:l.r,ticks:{...(d=(c=e.scales)==null?void 0:c.r)==null?void 0:d.ticks,color:n.text,display:!1},grid:{...(m=(h=e.scales)==null?void 0:h.r)==null?void 0:m.grid,color:n.gridLines},angleLines:{...(g=(u=e.scales)==null?void 0:u.r)==null?void 0:g.angleLines,color:n.gridLines},pointLabels:{...(x=(f=e.scales)==null?void 0:f.r)==null?void 0:x.pointLabels,color:n.text}}}}}static createCompatibilityRadarConfig(e,s,n,r=!1){const i=this.createHighlightedPointStyles(s,n),o=this.applyDarkMode(this.DEFAULT_RADAR_OPTIONS,r);return{type:"radar",data:{labels:e,datasets:i},options:{...o,animation:{...o.animation,duration:n.animation.duration,easing:n.animation.easing}}}}static createStandardRadarConfig(e,s,n=!1,r=!0){const i={highlightMaximum:r,maxPointStyle:{radius:6,backgroundColor:this.COLOR_PALETTE.accent,borderColor:this.COLOR_PALETTE.accent,borderWidth:3},normalPointStyle:{radius:3,borderWidth:2},animation:{duration:1200,easing:"easeInOutQuart"}};return this.createCompatibilityRadarConfig(e,s,i,n)}static getGradeColor(e){const s={S:"#FFD700","A+":"#FF6B6B",A:"#4ECDC4","B+":"#45B7D1",B:"#96CEB4",C:"#FFEAA7",D:"#DDA0DD"};return s[e]||s.B}static getResponsiveOptions(e){const s=e<400?10:e<600?12:14;return{plugins:{legend:{labels:{font:{size:s}}}},scales:{r:{ticks:{font:{size:Math.max(8,s-2)}},pointLabels:{font:{size:s}}}}}}static getUpdateAnimation(){return{duration:800,easing:"easeInOutQuart",onComplete(){}}}static getCompatibilityColorScheme(e){return e>=90?["#FFD700","#FFA500","#FF8C00"]:e>=80?["#FF6B6B","#FF8A80","#FFAB91"]:e>=70?["#4ECDC4","#80DEEA","#B2EBF2"]:e>=60?["#45B7D1","#81C784","#A5D6A7"]:["#96CEB4","#BCAAA4","#D7CCC8"]}}$(At,"COLOR_PALETTE",{primary:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#FFB4B4"],accent:"#FFD700",success:"#4CAF50",warning:"#FF9800",danger:"#F44336",dark:{background:"rgba(255, 255, 255, 0.1)",text:"#ffffff",gridLines:"rgba(255, 255, 255, 0.2)"},light:{background:"rgba(0, 0, 0, 0.1)",text:"#333333",gridLines:"rgba(0, 0, 0, 0.1)"}}),$(At,"DEFAULT_RADAR_OPTIONS",{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12,weight:"normal"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#ffffff",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label(e){const s=e.dataset.label||"",n=Math.round(e.parsed.r*10)/10;return`${s}: ${n}Ï†ê`}}}},scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20,display:!1,font:{size:10}},grid:{color:"rgba(128, 128, 128, 0.2)",lineWidth:1},angleLines:{color:"rgba(128, 128, 128, 0.2)",lineWidth:1},pointLabels:{font:{size:12,weight:"bold"}}}},animation:{duration:1500,easing:"easeInOutQuart"}});At.COLOR_PALETTE.accent,At.COLOR_PALETTE.accent;dt.register(zt,Gt,Qe,wi,Ps,Ds);const JS=({sajuData:t,height:e=400,className:s="",showRelationships:n=!0,showSeasonalBalance:r=!0})=>{const[i,o]=v.useState("branches"),[l,c]=v.useState(!1);v.useEffect(()=>{const _=()=>{c(document.documentElement.classList.contains("dark"))};_();const E=new MutationObserver(_);return E.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>E.disconnect()},[]);const[d,h]=v.useState(null),[m,u]=v.useState(!1),[g,f]=v.useState(null),x=v.useMemo(()=>qS.performFullAnalysis(t),[t]);v.useEffect(()=>{(async()=>{if(t){u(!0),f(null);try{const E=await di.getSpiritualAnalysis(t);h({spiritual:E})}catch(E){console.error("Ïã†ÏÇ¥ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",E),f("Ïã†ÏÇ¥ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{u(!1)}}})()},[t]);const b=v.useMemo(()=>[{label:"12Í∞ÑÏßÄ Î∂ÑÌè¨",values:Object.values(x.data),timeFrame:"base"}],[x.data]),y=v.useMemo(()=>{const _=Object.keys(x.data).map(E=>{const T=Xe[E];return`${T.koreanName} ${T.animalEmoji}`});return At.createStandardRadarConfig(_,b,l,!0)},[b,l]),j=y.data,S=v.useMemo(()=>{const{seasonalBalance:_}=x;return[{label:"Í≥ÑÏ†àÎ≥Ñ Í∑†Ìòï",values:[_.spring,_.summer,_.autumn,_.winter],timeFrame:"base"}]},[x.seasonalBalance]),C=v.useMemo(()=>{const _=["Î¥Ñ üå∏","Ïó¨Î¶Ñ ‚òÄÔ∏è","Í∞ÄÏùÑ üçÇ","Í≤®Ïö∏ ‚ùÑÔ∏è"];return At.createStandardRadarConfig(_,S,l,!0)},[S,l]),w=C.data,M=v.useMemo(()=>{var E,T,R,P,O,D,F,L,I,H,G,Q,z;const _=i==="branches"?y.options:C.options;return{..._,responsive:!0,maintainAspectRatio:!1,plugins:{..._==null?void 0:_.plugins,legend:{...(E=_==null?void 0:_.plugins)==null?void 0:E.legend,display:!1},tooltip:{...(T=_==null?void 0:_.plugins)==null?void 0:T.tooltip,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{...(P=(R=_==null?void 0:_.plugins)==null?void 0:R.tooltip)==null?void 0:P.callbacks,label(J){const V=J.parsed.r,W=x.total>0?(V/x.total*100).toFixed(1):"0.0";if(i==="branches"){const Z=Object.keys(x.data)[J.dataIndex],U=Xe[Z];return[`${J.label}: ${V}Ï†ê (${W}%)`,`ÏõêÏÜå: ${U.element}`,`ÌäπÏÑ±: ${U.characteristics.join(", ")}`]}else return`${J.label}: ${V.toFixed(1)}Ï†ê`}}}},scales:{..._==null?void 0:_.scales,r:{...(O=_==null?void 0:_.scales)==null?void 0:O.r,beginAtZero:!0,min:0,max:i==="branches"?Math.max(...Object.values(x.data))*1.2:100,ticks:{...(F=(D=_==null?void 0:_.scales)==null?void 0:D.r)==null?void 0:F.ticks,stepSize:i==="branches"?10:20,display:!1,font:{family:"Noto Sans KR, sans-serif",size:10},color:l?"#9CA3AF":"#6B7280"},grid:{...(I=(L=_==null?void 0:_.scales)==null?void 0:L.r)==null?void 0:I.grid,color:l?"rgba(156, 163, 175, 0.2)":"rgba(156, 163, 175, 0.3)"},angleLines:{...(G=(H=_==null?void 0:_.scales)==null?void 0:H.r)==null?void 0:G.angleLines,color:l?"rgba(156, 163, 175, 0.2)":"rgba(156, 163, 175, 0.3)"},pointLabels:{...(z=(Q=_==null?void 0:_.scales)==null?void 0:Q.r)==null?void 0:z.pointLabels,font:{family:"Noto Sans KR, sans-serif",size:11,weight:"500"},color:l?"#E5E7EB":"#1F2937",padding:10}}},animation:{..._==null?void 0:_.animation,duration:1e3}}},[i,y,C,x.data,x.total,l]),k=(()=>{const _=x.overallHarmony;return _>=80?{status:"Îß§Ïö∞ Ï°∞Ìôî",color:"text-green-600 dark:text-green-400",icon:"üü¢"}:_>=60?{status:"Ï°∞Ìôî ÏñëÌò∏",color:"text-blue-600 dark:text-blue-400",icon:"üîµ"}:_>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600 dark:text-yellow-400",icon:"üü°"}:{status:"Î∂ÄÏ°∞Ìôî",color:"text-red-600 dark:text-red-400",icon:"üî¥"}})();return x.total===0?a.jsx("div",{className:`flex items-center justify-center ${s}`,style:{height:e},children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üê≤"}),a.jsx("div",{className:"text-lg font-medium",children:"12Í∞ÑÏßÄ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})}):a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${s}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"üê≤ 12Í∞ÑÏßÄ ÏÉÅÌò∏ÏûëÏö©"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"12ÏßÄÏßÄÏùò Î∂ÑÌè¨ÏôÄ ÏÉÅÌò∏ Í¥ÄÍ≥Ñ Î∂ÑÏÑù"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[a.jsx("button",{onClick:()=>o("branches"),className:`px-3 py-1 text-xs transition-colors ${i==="branches"?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"12Í∞ÑÏßÄ"}),a.jsx("button",{onClick:()=>o("seasonal"),className:`px-3 py-1 text-xs transition-colors ${i==="seasonal"?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"Í≥ÑÏ†àÍ∑†Ìòï"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${k.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:k.icon}),k.status]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ï°∞ÌôîÎèÑ: ",x.overallHarmony.toFixed(0),"Ï†ê"]})]})]})]}),a.jsx("div",{className:"mb-6",style:{height:e-250},children:a.jsx(oc,{data:i==="branches"?j:w,options:M})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:x.animalPersonality.primaryAnimal}),a.jsx("div",{className:"text-purple-700 dark:text-purple-300 text-sm",children:x.animalPersonality.traits.slice(0,3).join(", ")})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"üí™ Í∞ïÌïú Í∞ÑÏßÄ"}),x.dominant.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm",children:x.dominant.map(_=>{const E=Xe[_];return`${E.koreanName}(${E.animal})`}).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),r&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"üåà Í≥ÑÏ†à Í∑†Ìòï"}),a.jsxs("div",{className:"text-blue-700 dark:text-blue-300 text-sm",children:["Í∑†ÌòïÎèÑ: ",x.seasonalBalance.balance.toFixed(0),"Ï†ê"]})]})]}),n&&x.dominant.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ï£ºÏöî Í¥ÄÍ≥Ñ Ìå®ÌÑ¥"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x.interactions).slice(0,3).map(([_,E])=>{const[T,R]=_.split("-"),P=KS[E.relationship.type];return a.jsxs("div",{className:"px-2 py-1 text-xs rounded-full flex items-center space-x-1",style:{backgroundColor:`${P.color}20`,color:P.color},children:[a.jsx("span",{children:P.icon}),a.jsxs("span",{children:[Xe[T].koreanName,"-",Xe[R].koreanName]})]},_)})})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Ni,{interpretation:d,loading:m,error:g,category:"spiritual"})})]})},Qg=v.createContext({});function XS(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const lc=typeof window<"u",QS=lc?v.useLayoutEffect:v.useEffect,cc=v.createContext(null);function dc(t,e){t.indexOf(e)===-1&&t.push(e)}function hc(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Dt=(t,e,s)=>s>e?e:s<t?t:s;let uc=()=>{};const Pt={},Zg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ef(t){return typeof t=="object"&&t!==null}const tf=t=>/^0[^.\s]+$/u.test(t);function mc(t){let e;return()=>(e===void 0&&(e=t()),e)}const st=t=>t,ZS=(t,e)=>s=>e(t(s)),Rr=(...t)=>t.reduce(ZS),ur=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class gc{constructor(){this.subscriptions=[]}add(e){return dc(this.subscriptions,e),()=>hc(this.subscriptions,e)}notify(e,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,n);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pt=t=>t*1e3,bt=t=>t/1e3;function sf(t,e){return e?t*(1e3/e):0}const nf=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,e4=1e-7,t4=12;function s4(t,e,s,n,r){let i,o,l=0;do o=e+(s-e)/2,i=nf(o,n,r)-t,i>0?s=o:e=o;while(Math.abs(i)>e4&&++l<t4);return o}function Lr(t,e,s,n){if(t===e&&s===n)return st;const r=i=>s4(i,0,1,t,s);return i=>i===0||i===1?i:nf(r(i),e,n)}const rf=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,af=t=>e=>1-t(1-e),of=Lr(.33,1.53,.69,.99),fc=af(of),lf=rf(fc),cf=t=>(t*=2)<1?.5*fc(t):.5*(2-Math.pow(2,-10*(t-1))),xc=t=>1-Math.sin(Math.acos(t)),df=af(xc),hf=rf(xc),n4=Lr(.42,0,1,1),r4=Lr(0,0,.58,1),uf=Lr(.42,0,.58,1),a4=t=>Array.isArray(t)&&typeof t[0]!="number",mf=t=>Array.isArray(t)&&typeof t[0]=="number",i4={linear:st,easeIn:n4,easeInOut:uf,easeOut:r4,circIn:xc,circInOut:hf,circOut:df,backIn:fc,backInOut:lf,backOut:of,anticipate:cf},o4=t=>typeof t=="string",ru=t=>{if(mf(t)){uc(t.length===4);const[e,s,n,r]=t;return Lr(e,s,n,r)}else if(o4(t))return i4[t];return t},la=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function l4(t,e){let s=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,u=!1)=>{const f=u&&r?s:n;return m&&o.add(h),f.has(h)||f.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[s,n]=[n,s],s.forEach(c),s.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const c4=40;function gf(t,e){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=la.reduce((S,C)=>(S[C]=l4(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:u,render:g,postRender:f}=o,x=()=>{const S=Pt.useManualTiming?r.timestamp:performance.now();s=!1,Pt.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(S-r.timestamp,c4),1)),r.timestamp=S,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),h.process(r),m.process(r),u.process(r),g.process(r),f.process(r),r.isProcessing=!1,s&&e&&(n=!1,t(x))},b=()=>{s=!0,n=!0,r.isProcessing||t(x)};return{schedule:la.reduce((S,C)=>{const w=o[C];return S[C]=(M,N=!1,k=!1)=>(s||b(),w.schedule(M,N,k)),S},{}),cancel:S=>{for(let C=0;C<la.length;C++)o[la[C]].cancel(S)},state:r,steps:o}}const{schedule:ge,cancel:Jt,state:_e,steps:no}=gf(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0);let Sa;function d4(){Sa=void 0}const Be={now:()=>(Sa===void 0&&Be.set(_e.isProcessing||Pt.useManualTiming?_e.timestamp:performance.now()),Sa),set:t=>{Sa=t,queueMicrotask(d4)}},ff=t=>e=>typeof e=="string"&&e.startsWith(t),pc=ff("--"),h4=ff("var(--"),bc=t=>h4(t)?u4.test(t.split("/*")[0].trim()):!1,u4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,un={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mr={...un,transform:t=>Dt(0,1,t)},ca={...un,default:1},Yn=t=>Math.round(t*1e5)/1e5,yc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m4(t){return t==null}const g4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vc=(t,e)=>s=>!!(typeof s=="string"&&g4.test(s)&&s.startsWith(t)||e&&!m4(s)&&Object.prototype.hasOwnProperty.call(s,e)),xf=(t,e,s)=>n=>{if(typeof n!="string")return n;const[r,i,o,l]=n.match(yc);return{[t]:parseFloat(r),[e]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},f4=t=>Dt(0,255,t),ro={...un,transform:t=>Math.round(f4(t))},fs={test:vc("rgb","red"),parse:xf("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+ro.transform(t)+", "+ro.transform(e)+", "+ro.transform(s)+", "+Yn(mr.transform(n))+")"};function x4(t){let e="",s="",n="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Zo={test:vc("#"),parse:x4,transform:fs.transform},Or=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ot=Or("deg"),yt=Or("%"),K=Or("px"),p4=Or("vh"),b4=Or("vw"),au={...yt,parse:t=>yt.parse(t)/100,transform:t=>yt.transform(t*100)},$s={test:vc("hsl","hue"),parse:xf("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+yt.transform(Yn(e))+", "+yt.transform(Yn(s))+", "+Yn(mr.transform(n))+")"},ke={test:t=>fs.test(t)||Zo.test(t)||$s.test(t),parse:t=>fs.test(t)?fs.parse(t):$s.test(t)?$s.parse(t):Zo.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fs.transform(t):$s.transform(t),getAnimatableNone:t=>{const e=ke.parse(t);return e.alpha=0,ke.transform(e)}},y4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v4(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yc))==null?void 0:e.length)||0)+(((s=t.match(y4))==null?void 0:s.length)||0)>0}const pf="number",bf="color",j4="var",w4="var(",iu="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gr(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(k4,c=>(ke.test(c)?(n.color.push(i),r.push(bf),s.push(ke.parse(c))):c.startsWith(w4)?(n.var.push(i),r.push(j4),s.push(c)):(n.number.push(i),r.push(pf),s.push(parseFloat(c))),++i,iu)).split(iu);return{values:s,split:l,indexes:n,types:r}}function yf(t){return gr(t).values}function vf(t){const{split:e,types:s}=gr(t),n=e.length;return r=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],r[o]!==void 0){const l=s[o];l===pf?i+=Yn(r[o]):l===bf?i+=ke.transform(r[o]):i+=r[o]}return i}}const N4=t=>typeof t=="number"?0:ke.test(t)?ke.getAnimatableNone(t):t;function S4(t){const e=yf(t);return vf(t)(e.map(N4))}const Xt={test:v4,parse:yf,createTransformer:vf,getAnimatableNone:S4};function ao(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function C4({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let r=0,i=0,o=0;if(!e)r=i=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;r=ao(c,l,t+1/3),i=ao(c,l,t),o=ao(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function za(t,e){return s=>s>0?e:t}const xe=(t,e,s)=>t+(e-t)*s,io=(t,e,s)=>{const n=t*t,r=s*(e*e-n)+n;return r<0?0:Math.sqrt(r)},_4=[Zo,fs,$s],M4=t=>_4.find(e=>e.test(t));function ou(t){const e=M4(t);if(!e)return!1;let s=e.parse(t);return e===$s&&(s=C4(s)),s}const lu=(t,e)=>{const s=ou(t),n=ou(e);if(!s||!n)return za(t,e);const r={...s};return i=>(r.red=io(s.red,n.red,i),r.green=io(s.green,n.green,i),r.blue=io(s.blue,n.blue,i),r.alpha=xe(s.alpha,n.alpha,i),fs.transform(r))},el=new Set(["none","hidden"]);function E4(t,e){return el.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function T4(t,e){return s=>xe(t,e,s)}function jc(t){return typeof t=="number"?T4:typeof t=="string"?bc(t)?za:ke.test(t)?lu:P4:Array.isArray(t)?jf:typeof t=="object"?ke.test(t)?lu:A4:za}function jf(t,e){const s=[...t],n=s.length,r=t.map((i,o)=>jc(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)s[o]=r[o](i);return s}}function A4(t,e){const s={...t,...e},n={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(n[r]=jc(t[r])(t[r],e[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function D4(t,e){const s=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][n[i]],l=t.values[o]??0;s[r]=l,n[i]++}return s}const P4=(t,e)=>{const s=Xt.createTransformer(e),n=gr(t),r=gr(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?el.has(t)&&!r.values.length||el.has(e)&&!n.values.length?E4(t,e):Rr(jf(D4(n,r),r.values),s):za(t,e)};function wf(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?xe(t,e,s):jc(t)(t,e)}const R4=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>ge.update(e,s),stop:()=>Jt(e),now:()=>_e.isProcessing?_e.timestamp:Be.now()}},kf=(t,e,s=10)=>{let n="";const r=Math.max(Math.round(e/s),2);for(let i=0;i<r;i++)n+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ua=2e4;function wc(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<Ua;)e+=s,n=t.next(e);return e>=Ua?1/0:e}function L4(t,e=100,s){const n=s({...t,keyframes:[0,e]}),r=Math.min(wc(n),Ua);return{type:"keyframes",ease:i=>n.next(r*i).value/e,duration:bt(r)}}const O4=5;function Nf(t,e,s){const n=Math.max(e-O4,0);return sf(s-t(n),e-n)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oo=.001;function I4({duration:t=pe.duration,bounce:e=pe.bounce,velocity:s=pe.velocity,mass:n=pe.mass}){let r,i,o=1-e;o=Dt(pe.minDamping,pe.maxDamping,o),t=Dt(pe.minDuration,pe.maxDuration,bt(t)),o<1?(r=d=>{const h=d*o,m=h*t,u=h-s,g=tl(d,o),f=Math.exp(-m);return oo-u/g*f},i=d=>{const m=d*o*t,u=m*s+s,g=Math.pow(o,2)*Math.pow(d,2)*t,f=Math.exp(-m),x=tl(Math.pow(d,2),o);return(-r(d)+oo>0?-1:1)*((u-g)*f)/x}):(r=d=>{const h=Math.exp(-d*t),m=(d-s)*t+1;return-oo+h*m},i=d=>{const h=Math.exp(-d*t),m=(s-d)*(t*t);return h*m});const l=5/t,c=B4(r,i,l);if(t=pt(t),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const F4=12;function B4(t,e,s){let n=s;for(let r=1;r<F4;r++)n=n-t(n)/e(n);return n}function tl(t,e){return t*Math.sqrt(1-e*e)}const $4=["duration","bounce"],V4=["stiffness","damping","mass"];function cu(t,e){return e.some(s=>t[s]!==void 0)}function H4(t){let e={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...t};if(!cu(t,V4)&&cu(t,$4))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*Dt(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:pe.mass,stiffness:r,damping:i}}else{const s=I4(t);e={...e,...s,mass:pe.mass},e.isResolvedFromDuration=!0}return e}function Wa(t=pe.visualDuration,e=pe.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:u,isResolvedFromDuration:g}=H4({...s,velocity:-bt(s.velocity||0)}),f=u||0,x=d/(2*Math.sqrt(c*h)),b=o-i,y=bt(Math.sqrt(c/h)),j=Math.abs(b)<5;n||(n=j?pe.restSpeed.granular:pe.restSpeed.default),r||(r=j?pe.restDelta.granular:pe.restDelta.default);let S;if(x<1){const w=tl(y,x);S=M=>{const N=Math.exp(-x*y*M);return o-N*((f+x*y*b)/w*Math.sin(w*M)+b*Math.cos(w*M))}}else if(x===1)S=w=>o-Math.exp(-y*w)*(b+(f+y*b)*w);else{const w=y*Math.sqrt(x*x-1);S=M=>{const N=Math.exp(-x*y*M),k=Math.min(w*M,300);return o-N*((f+x*y*b)*Math.sinh(k)+w*b*Math.cosh(k))/w}}const C={calculatedDuration:g&&m||null,next:w=>{const M=S(w);if(g)l.done=w>=m;else{let N=w===0?f:0;x<1&&(N=w===0?pt(f):Nf(S,w,M));const k=Math.abs(N)<=n,_=Math.abs(o-M)<=r;l.done=k&&_}return l.value=l.done?o:M,l},toString:()=>{const w=Math.min(wc(C),Ua),M=kf(N=>C.next(w*N).value,w,30);return w+"ms "+M},toTransition:()=>{}};return C}Wa.applyToOptions=t=>{const e=L4(t,100,Wa);return t.ease=e.ease,t.duration=pt(e.duration),t.type="keyframes",t};function sl({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],u={done:!1,value:m},g=k=>l!==void 0&&k<l||c!==void 0&&k>c,f=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let x=s*e;const b=m+x,y=o===void 0?b:o(b);y!==b&&(x=y-m);const j=k=>-x*Math.exp(-k/n),S=k=>y+j(k),C=k=>{const _=j(k),E=S(k);u.done=Math.abs(_)<=d,u.value=u.done?y:E};let w,M;const N=k=>{g(u.value)&&(w=k,M=Wa({keyframes:[u.value,f(u.value)],velocity:Nf(S,k,u.value),damping:r,stiffness:i,restDelta:d,restSpeed:h}))};return N(0),{calculatedDuration:null,next:k=>{let _=!1;return!M&&w===void 0&&(_=!0,C(k),N(k)),w!==void 0&&k>=w?M.next(k-w):(!_&&C(k),u)}}}function z4(t,e,s){const n=[],r=s||Pt.mix||wf,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||st:e;l=Rr(c,l)}n.push(l)}return n}function U4(t,e,{clamp:s=!0,ease:n,mixer:r}={}){const i=t.length;if(uc(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=z4(e,n,r),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const u=ur(t[m],t[m+1],h);return l[m](u)};return s?h=>d(Dt(t[0],t[i-1],h)):d}function W4(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const r=ur(0,e,n);t.push(xe(s,1,r))}}function Y4(t){const e=[0];return W4(e,t.length-1),e}function G4(t,e){return t.map(s=>s*e)}function K4(t,e){return t.map(()=>e||uf).splice(0,t.length-1)}function Gn({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const r=a4(n)?n.map(ru):ru(n),i={done:!1,value:e[0]},o=G4(s&&s.length===e.length?s:Y4(e),t),l=U4(o,e,{ease:Array.isArray(r)?r:K4(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const q4=t=>t!==null;function kc(t,{repeat:e,repeatType:s="loop"},n,r=1){const i=t.filter(q4),l=r<0||e&&s!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const J4={decay:sl,inertia:sl,tween:Gn,keyframes:Gn,spring:Wa};function Sf(t){typeof t.type=="string"&&(t.type=J4[t.type])}class Nc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const X4=t=>t/100;class Sc extends Nc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==Be.now()&&this.tick(Be.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Sf(e);const{type:s=Gn,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=s||Gn;c!==Gn&&typeof l[0]!="number"&&(this.mixKeyframes=Rr(X4,wf(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=wc(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=d}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:u,repeatDelay:g,type:f,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let S=this.currentTime,C=n;if(m){const k=Math.min(this.currentTime,r)/l;let _=Math.floor(k),E=k%1;!E&&k>=1&&(E=1),E===1&&_--,_=Math.min(_,m+1),!!(_%2)&&(u==="reverse"?(E=1-E,g&&(E-=g/l)):u==="mirror"&&(C=o)),S=Dt(0,1,E)*l}const w=j?{done:!1,value:h[0]}:C.next(S);i&&(w.value=i(w.value));let{done:M}=w;!j&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return N&&f!==sl&&(w.value=kc(h,this.options,b,this.speed)),x&&x(w.value),N&&this.finish(),w}then(e,s){return this.finished.then(e,s)}get duration(){return bt(this.calculatedDuration)}get time(){return bt(this.currentTime)}set time(e){var s;e=pt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Be.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=bt(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=R4,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Be.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function Q4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xs=t=>t*180/Math.PI,nl=t=>{const e=xs(Math.atan2(t[1],t[0]));return rl(e)},Z4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nl,rotateZ:nl,skewX:t=>xs(Math.atan(t[1])),skewY:t=>xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rl=t=>(t=t%360,t<0&&(t+=360),t),du=nl,hu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uu=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),e6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hu,scaleY:uu,scale:t=>(hu(t)+uu(t))/2,rotateX:t=>rl(xs(Math.atan2(t[6],t[5]))),rotateY:t=>rl(xs(Math.atan2(-t[2],t[0]))),rotateZ:du,rotate:du,skewX:t=>xs(Math.atan(t[4])),skewY:t=>xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function al(t){return t.includes("scale")?1:0}function il(t,e){if(!t||t==="none")return al(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=e6,r=s;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Z4,r=l}if(!r)return al(e);const i=n[e],o=r[1].split(",").map(s6);return typeof i=="function"?i(o):o[i]}const t6=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return il(s,e)};function s6(t){return parseFloat(t.trim())}const mn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gn=new Set(mn),mu=t=>t===un||t===K,n6=new Set(["x","y","z"]),r6=mn.filter(t=>!n6.has(t));function a6(t){const e=[];return r6.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const js={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>il(e,"x"),y:(t,{transform:e})=>il(e,"y")};js.translateX=js.x;js.translateY=js.y;const ws=new Set;let ol=!1,ll=!1,cl=!1;function Cf(){if(ll){const t=Array.from(ws).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const r=a6(n);r.length&&(s.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ll=!1,ol=!1,ws.forEach(t=>t.complete(cl)),ws.clear()}function _f(){ws.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ll=!0)})}function i6(){cl=!0,_f(),Cf(),cl=!1}class Cc{constructor(e,s,n,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ws.add(this),ol||(ol=!0,ge.read(_f),ge.resolveKeyframes(Cf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&s){const l=n.readValue(s,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}Q4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ws.delete(this)}cancel(){this.state==="scheduled"&&(ws.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o6=t=>t.startsWith("--");function l6(t,e,s){o6(e)?t.style.setProperty(e,s):t.style[e]=s}const c6=mc(()=>window.ScrollTimeline!==void 0),d6={};function h6(t,e){const s=mc(t);return()=>d6[e]??s()}const Mf=h6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ln=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,gu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ln([0,.65,.55,1]),circOut:Ln([.55,0,1,.45]),backIn:Ln([.31,.01,.66,-.59]),backOut:Ln([.33,1.53,.69,.99])};function Ef(t,e){if(t)return typeof t=="function"?Mf()?kf(t,e):"ease-out":mf(t)?Ln(t):Array.isArray(t)?t.map(s=>Ef(s,e)||gu.easeOut):gu[t]}function u6(t,e,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:s};c&&(h.offset=c);const m=Ef(l,r);Array.isArray(m)&&(h.easing=m);const u={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(u.pseudoElement=d),t.animate(h,u)}function Tf(t){return typeof t=="function"&&"applyToOptions"in t}function m6({type:t,...e}){return Tf(t)&&Mf()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class g6 extends Nc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,uc(typeof e.type!="string");const d=m6(e);this.animation=u6(s,n,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=kc(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):l6(s,n,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,n;const e=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return bt(Number(e))}get time(){return bt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&c6()?(this.animation.timeline=e,st):s(this)}}const Af={anticipate:cf,backInOut:lf,circInOut:hf};function f6(t){return t in Af}function x6(t){typeof t.ease=="string"&&f6(t.ease)&&(t.ease=Af[t.ease])}const fu=10;class p6 extends g6{constructor(e){x6(e),Sf(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:r,element:i,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const l=new Sc({...o,autoplay:!1}),c=pt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-fu).value,l.sample(c).value,fu),l.stop()}}const xu=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xt.test(t)||t==="0")&&!t.startsWith("url("));function b6(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function y6(t,e,s,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xu(r,e),l=xu(i,e);return!o||!l?!1:b6(t)||(s==="spring"||Tf(s))&&n}function dl(t){t.duration=0,t.type}const v6=new Set(["opacity","clipPath","filter","transform"]),j6=mc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w6(t){var h;const{motionValue:e,name:s,repeatDelay:n,repeatType:r,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return j6()&&s&&v6.has(s)&&(s!=="transform"||!d)&&!c&&!n&&r!=="mirror"&&i!==0&&o!=="inertia"}const k6=40;class N6 extends Nc{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var f;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Be.now();const u={autoplay:e,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||Cc;this.keyframeResolver=new g(l,(x,b,y)=>this.onKeyframesResolved(x,b,u,!y),c,d,h),(f=this.keyframeResolver)==null||f.scheduleResolve()}onKeyframesResolved(e,s,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=Be.now(),y6(e,i,o,l)||((Pt.instantAnimations||!c)&&(h==null||h(kc(e,n,s))),e[0]=e[e.length-1],dl(n),n.repeat=0);const u={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>k6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},g=!d&&w6(u)?new p6({...u,element:u.motionValue.owner.current}):new Sc(u);g.finished.then(()=>this.notifyFinished()).catch(st),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),i6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const S6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C6(t){const e=S6.exec(t);if(!e)return[,];const[,s,n,r]=e;return[`--${s??n}`,r]}function Df(t,e,s=1){const[n,r]=C6(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Zg(o)?parseFloat(o):o}return bc(r)?Df(r,e,s+1):r}function _c(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Pf=new Set(["width","height","top","left","right","bottom",...mn]),_6={test:t=>t==="auto",parse:t=>t},Rf=t=>e=>e.test(t),Lf=[un,K,yt,Ot,b4,p4,_6],pu=t=>Lf.find(Rf(t));function M6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tf(t):!0}const E6=new Set(["brightness","contrast","saturate","opacity"]);function T6(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(yc)||[];if(!n)return t;const r=s.replace(n,"");let i=E6.has(e)?1:0;return n!==s&&(i*=100),e+"("+i+r+")"}const A6=/\b([a-z-]*)\(.*?\)/gu,hl={...Xt,getAnimatableNone:t=>{const e=t.match(A6);return e?e.map(T6).join(" "):t}},bu={...un,transform:Math.round},D6={rotate:Ot,rotateX:Ot,rotateY:Ot,rotateZ:Ot,scale:ca,scaleX:ca,scaleY:ca,scaleZ:ca,skew:Ot,skewX:Ot,skewY:Ot,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:mr,originX:au,originY:au,originZ:K},Mc={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...D6,zIndex:bu,fillOpacity:mr,strokeOpacity:mr,numOctaves:bu},P6={...Mc,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:hl,WebkitFilter:hl},Of=t=>P6[t];function If(t,e){let s=Of(t);return s!==hl&&(s=Xt),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const R6=new Set(["auto","none","0"]);function L6(t,e,s){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!R6.has(i)&&gr(i).values.length&&(r=t[n]),n++}if(r&&s)for(const i of e)t[i]=If(s,r)}class O6 extends Cc{constructor(e,s,n,r,i){super(e,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),bc(d))){const h=Df(d,s.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Pf.has(n)||e.length!==2)return;const[r,i]=e,o=pu(r),l=pu(i);if(o!==l)if(mu(o)&&mu(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else js[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||M6(e[r]))&&n.push(r);n.length&&L6(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=js[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=js[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function I6(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=(s==null?void 0:s[t])??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Ff=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function F6(t){return ef(t)&&"offsetHeight"in t}const yu=30,B6=t=>!isNaN(parseFloat(t));class $6{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const r=Be.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Be.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new gc);const n=this.events[e].add(s);return e==="change"?()=>{n(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Be.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yu)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,yu);return sf(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function on(t,e){return new $6(t,e)}const{schedule:Ec}=gf(queueMicrotask,!1),at={x:!1,y:!1};function Bf(){return at.x||at.y}function V6(t){return t==="x"||t==="y"?at[t]?null:(at[t]=!0,()=>{at[t]=!1}):at.x||at.y?null:(at.x=at.y=!0,()=>{at.x=at.y=!1})}function $f(t,e){const s=I6(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[s,r,()=>n.abort()]}function vu(t){return!(t.pointerType==="touch"||Bf())}function H6(t,e,s={}){const[n,r,i]=$f(t,s),o=l=>{if(!vu(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{vu(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,r)};return n.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const Vf=(t,e)=>e?t===e?!0:Vf(t,e.parentElement):!1,Tc=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,z6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U6(t){return z6.has(t.tagName)||t.tabIndex!==-1}const Ca=new WeakSet;function ju(t){return e=>{e.key==="Enter"&&t(e)}}function lo(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W6=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=ju(()=>{if(Ca.has(s))return;lo(s,"down");const r=ju(()=>{lo(s,"up")}),i=()=>lo(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function wu(t){return Tc(t)&&!Bf()}function Y6(t,e,s={}){const[n,r,i]=$f(t,s),o=l=>{const c=l.currentTarget;if(!wu(l))return;Ca.add(c);const d=e(c,l),h=(g,f)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",u),Ca.has(c)&&Ca.delete(c),wu(g)&&typeof d=="function"&&d(g,{success:f})},m=g=>{h(g,c===window||c===document||s.useGlobalTarget||Vf(c,g.target))},u=g=>{h(g,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",u,r)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),F6(l)&&(l.addEventListener("focus",d=>W6(d,r)),!U6(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Hf(t){return ef(t)&&"ownerSVGElement"in t}function G6(t){return Hf(t)&&t.tagName==="svg"}const De=t=>!!(t&&t.getVelocity),K6=[...Lf,ke,Xt],q6=t=>K6.find(Rf(t)),zf=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function J6(t=!0){const e=v.useContext(cc);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=e,i=v.useId();v.useEffect(()=>{if(t)return r(i)},[t]);const o=v.useCallback(()=>t&&n&&n(i),[i,n,t]);return!s&&n?[!1,o]:[!0]}const Uf=v.createContext({strict:!1}),ku={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ln={};for(const t in ku)ln[t]={isEnabled:e=>ku[t].some(s=>!!e[s])};function X6(t){for(const e in t)ln[e]={...ln[e],...t[e]}}const Q6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ya(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q6.has(t)}let Wf=t=>!Ya(t);function Z6(t){typeof t=="function"&&(Wf=e=>e.startsWith("on")?!Ya(e):t(e))}try{Z6(require("@emotion/is-prop-valid").default)}catch{}function e3(t,e,s){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||(Wf(r)||s===!0&&Ya(r)||!e&&!Ya(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}const Si=v.createContext({});function Ci(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fr(t){return typeof t=="string"||Array.isArray(t)}const Ac=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dc=["initial",...Ac];function _i(t){return Ci(t.animate)||Dc.some(e=>fr(t[e]))}function Yf(t){return!!(_i(t)||t.variants)}function t3(t,e){if(_i(t)){const{initial:s,animate:n}=t;return{initial:s===!1||fr(s)?s:void 0,animate:fr(n)?n:void 0}}return t.inherit!==!1?e:{}}function s3(t){const{initial:e,animate:s}=t3(t,v.useContext(Si));return v.useMemo(()=>({initial:e,animate:s}),[Nu(e),Nu(s)])}function Nu(t){return Array.isArray(t)?t.join(" "):t}const xr={};function n3(t){for(const e in t)xr[e]=t[e],pc(e)&&(xr[e].isCSSVariable=!0)}function Gf(t,{layout:e,layoutId:s}){return gn.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!xr[t]||t==="opacity")}const r3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a3=mn.length;function i3(t,e,s){let n="",r=!0;for(let i=0;i<a3;i++){const o=mn[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Ff(l,Mc[o]);if(!c){r=!1;const h=r3[o]||o;n+=`${h}(${d}) `}s&&(e[o]=d)}}return n=n.trim(),s?n=s(e,r?"":n):r&&(n="none"),n}function Pc(t,e,s){const{style:n,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(gn.has(c)){o=!0;continue}else if(pc(c)){r[c]=d;continue}else{const h=Ff(d,Mc[c]);c.startsWith("origin")?(l=!0,i[c]=h):n[c]=h}}if(e.transform||(o||s?n.transform=i3(e,t.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;n.transformOrigin=`${c} ${d} ${h}`}}const Rc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kf(t,e,s){for(const n in e)!De(e[n])&&!Gf(n,s)&&(t[n]=e[n])}function o3({transformTemplate:t},e){return v.useMemo(()=>{const s=Rc();return Pc(s,e,t),Object.assign({},s.vars,s.style)},[e])}function l3(t,e){const s=t.style||{},n={};return Kf(n,s,t),Object.assign(n,o3(t,e)),n}function c3(t,e){const s={},n=l3(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const d3={offset:"stroke-dashoffset",array:"stroke-dasharray"},h3={offset:"strokeDashoffset",array:"strokeDasharray"};function u3(t,e,s=1,n=0,r=!0){t.pathLength=1;const i=r?d3:h3;t[i.offset]=K.transform(-n);const o=K.transform(e),l=K.transform(s);t[i.array]=`${o} ${l}`}function qf(t,{attrX:e,attrY:s,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(Pc(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:u}=t;m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),r!==void 0&&u3(m,r,i,o,!1)}const Jf=()=>({...Rc(),attrs:{}}),Xf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m3(t,e,s,n){const r=v.useMemo(()=>{const i=Jf();return qf(i,e,Xf(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Kf(i,t.style,t),r.style={...i,...r.style}}return r}const g3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lc(t){return typeof t!="string"||t.includes("-")?!1:!!(g3.indexOf(t)>-1||/[A-Z]/u.test(t))}function f3(t,e,s,{latestValues:n},r,i=!1){const l=(Lc(t)?m3:c3)(e,n,r,t),c=e3(e,typeof t=="string",i),d=t!==v.Fragment?{...c,...l,ref:s}:{},{children:h}=e,m=v.useMemo(()=>De(h)?h.get():h,[h]);return v.createElement(t,{...d,children:m})}function Su(t){const e=[{},{}];return t==null||t.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Oc(t,e,s,n){if(typeof e=="function"){const[r,i]=Su(n);e=e(s!==void 0?s:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Su(n);e=e(s!==void 0?s:t.custom,r,i)}return e}function _a(t){return De(t)?t.get():t}function x3({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,r){return{latestValues:p3(s,n,r,t),renderState:e()}}function p3(t,e,s,n){const r={},i=n(t,{});for(const u in i)r[u]=_a(i[u]);let{initial:o,animate:l}=t;const c=_i(t),d=Yf(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=s?s.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Ci(m)){const u=Array.isArray(m)?m:[m];for(let g=0;g<u.length;g++){const f=Oc(t,u[g]);if(f){const{transitionEnd:x,transition:b,...y}=f;for(const j in y){let S=y[j];if(Array.isArray(S)){const C=h?S.length-1:0;S=S[C]}S!==null&&(r[j]=S)}for(const j in x)r[j]=x[j]}}}return r}const Qf=t=>(e,s)=>{const n=v.useContext(Si),r=v.useContext(cc),i=()=>x3(t,e,n,r);return s?i():XS(i)};function Ic(t,e,s){var i;const{style:n}=t,r={};for(const o in n)(De(n[o])||e.style&&De(e.style[o])||Gf(o,t)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=n[o]);return r}const b3=Qf({scrapeMotionValuesFromProps:Ic,createRenderState:Rc});function Zf(t,e,s){const n=Ic(t,e,s);for(const r in t)if(De(t[r])||De(e[r])){const i=mn.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}const y3=Qf({scrapeMotionValuesFromProps:Zf,createRenderState:Jf}),v3=Symbol.for("motionComponentSymbol");function Vs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j3(t,e,s){return v.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):Vs(s)&&(s.current=n))},[e])}const Fc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w3="framerAppearId",ex="data-"+Fc(w3),tx=v.createContext({});function k3(t,e,s,n,r){var x,b;const{visualElement:i}=v.useContext(Si),o=v.useContext(Uf),l=v.useContext(cc),c=v.useContext(zf).reducedMotion,d=v.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=v.useContext(tx);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&N3(d.current,s,r,m);const u=v.useRef(!1);v.useInsertionEffect(()=>{h&&u.current&&h.update(s,l)});const g=s[ex],f=v.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return QS(()=>{h&&(u.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),f.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),f.current=!1),h.enteringChildren=void 0)}),h}function N3(t,e,s,n){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:sx(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&Vs(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function sx(t){if(t)return t.options.allowProjection!==!1?t.projection:sx(t.parent)}function co(t,{forwardMotionProps:e=!1}={},s,n){s&&X6(s);const r=Lc(t)?y3:b3;function i(l,c){let d;const h={...v.useContext(zf),...l,layoutId:S3(l)},{isStatic:m}=h,u=s3(l),g=r(l,m);if(!m&&lc){C3();const f=_3(h);d=f.MeasureLayout,u.visualElement=k3(t,g,h,n,f.ProjectionNode)}return a.jsxs(Si.Provider,{value:u,children:[d&&u.visualElement?a.jsx(d,{visualElement:u.visualElement,...h}):null,f3(t,l,j3(g,u.visualElement,c),g,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(i);return o[v3]=t,o}function S3({layoutId:t}){const e=v.useContext(Qg).id;return e&&t!==void 0?e+"-"+t:t}function C3(t,e){v.useContext(Uf).strict}function _3(t){const{drag:e,layout:s}=ln;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function M3(t,e){if(typeof Proxy>"u")return co;const s=new Map,n=(i,o)=>co(i,o,t,e),r=(i,o)=>n(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?n:(s.has(o)||s.set(o,co(o,void 0,t,e)),s.get(o))})}function nx({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function E3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T3(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function ho(t){return t===void 0||t===1}function ul({scale:t,scaleX:e,scaleY:s}){return!ho(t)||!ho(e)||!ho(s)}function ds(t){return ul(t)||rx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rx(t){return Cu(t.x)||Cu(t.y)}function Cu(t){return t&&t!=="0%"}function Ga(t,e,s){const n=t-s,r=e*n;return s+r}function _u(t,e,s,n,r){return r!==void 0&&(t=Ga(t,r,n)),Ga(t,s,n)+e}function ml(t,e=0,s=1,n,r){t.min=_u(t.min,e,s,n,r),t.max=_u(t.max,e,s,n,r)}function ax(t,{x:e,y:s}){ml(t.x,e.translate,e.scale,e.originPoint),ml(t.y,s.translate,s.scale,s.originPoint)}const Mu=.999999999999,Eu=1.0000000000001;function A3(t,e,s,n=!1){const r=s.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ax(t,o)),n&&ds(i.latestValues)&&zs(t,i.latestValues))}e.x<Eu&&e.x>Mu&&(e.x=1),e.y<Eu&&e.y>Mu&&(e.y=1)}function Hs(t,e){t.min=t.min+e,t.max=t.max+e}function Tu(t,e,s,n,r=.5){const i=xe(t.min,t.max,r);ml(t,e,s,i,n)}function zs(t,e){Tu(t.x,e.x,e.scaleX,e.scale,e.originX),Tu(t.y,e.y,e.scaleY,e.scale,e.originY)}function ix(t,e){return nx(T3(t.getBoundingClientRect(),e))}function D3(t,e,s){const n=ix(t,s),{scroll:r}=e;return r&&(Hs(n.x,r.offset.x),Hs(n.y,r.offset.y)),n}const Au=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:Au(),y:Au()}),Du=()=>({min:0,max:0}),ve=()=>({x:Du(),y:Du()}),gl={current:null},ox={current:!1};function P3(){if(ox.current=!0,!!lc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gl.current=t.matches;t.addEventListener("change",e),e()}else gl.current=!1}const R3=new WeakMap;function L3(t,e,s){for(const n in e){const r=e[n],i=s[n];if(De(r))t.addValue(n,r);else if(De(i))t.addValue(n,on(r,{owner:t}));else if(i!==r)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(n);t.addValue(n,on(o!==void 0?o:r,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const Pu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O3{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=Be.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,ge.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=_i(s),this.isVariantNode=Yf(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const u in m){const g=m[u];c[u]!==void 0&&De(g)&&g.set(c[u])}}mount(e){var s;this.current=e,R3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ox.current||P3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gl.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Jt(this.notifyUpdate),Jt(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=gn.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ge.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ln){const s=ln[e];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Pu.length;n++){const r=Pu[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=L3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=on(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Zg(n)||tf(n))?n=parseFloat(n):!q6(n)&&Xt.test(s)&&(n=If(e,s)),this.setBaseTarget(e,De(n)?n.get():n)),De(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var i;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=Oc(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!De(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new gc),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ec.render(this.render)}}class lx extends O3{constructor(){super(...arguments),this.KeyframeResolver=O6}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;De(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function cx(t,{style:e,vars:s},n,r){const i=t.style;let o;for(o in e)i[o]=e[o];r==null||r.applyProjectionStyles(i,n);for(o in s)i.setProperty(o,s[o])}function I3(t){return window.getComputedStyle(t)}class F3 extends lx{constructor(){super(...arguments),this.type="html",this.renderInstance=cx}readValueFromInstance(e,s){var n;if(gn.has(s))return(n=this.projection)!=null&&n.isProjecting?al(s):t6(e,s);{const r=I3(e),i=(pc(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return ix(e,s)}build(e,s,n){Pc(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Ic(e,s,n)}}const dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B3(t,e,s,n){cx(t,e,void 0,n);for(const r in e.attrs)t.setAttribute(dx.has(r)?r:Fc(r),e.attrs[r])}class $3 extends lx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(gn.has(s)){const n=Of(s);return n&&n.default||0}return s=dx.has(s)?s:Fc(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Zf(e,s,n)}build(e,s,n){qf(e,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,s,n,r){B3(e,s,n,r)}mount(e){this.isSVGTag=Xf(e.tagName),super.mount(e)}}const V3=(t,e)=>Lc(t)?new $3(e):new F3(e,{allowProjection:t!==v.Fragment});function Gs(t,e,s){const n=t.getProps();return Oc(n,e,s!==void 0?s:n.custom,t)}const fl=t=>Array.isArray(t);function H3(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,on(s))}function z3(t){return fl(t)?t[t.length-1]||0:t}function U3(t,e){const s=Gs(t,e);let{transitionEnd:n={},transition:r={},...i}=s||{};i={...i,...n};for(const o in i){const l=z3(i[o]);H3(t,o,l)}}function W3(t){return!!(De(t)&&t.add)}function xl(t,e){const s=t.getValue("willChange");if(W3(s))return s.add(e);if(!s&&Pt.WillChange){const n=new Pt.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function hx(t){return t.props[ex]}const Y3=t=>t!==null;function G3(t,{repeat:e,repeatType:s="loop"},n){const r=t.filter(Y3),i=e&&s!=="loop"&&e%2===1?0:r.length-1;return r[i]}const K3={type:"spring",stiffness:500,damping:25,restSpeed:10},q3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J3={type:"keyframes",duration:.8},X3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q3=(t,{keyframes:e})=>e.length>2?J3:gn.has(t)?t.startsWith("scale")?q3(e[1]):K3:X3;function Z3({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const Bc=(t,e,s,n={},r,i)=>o=>{const l=_c(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-pt(c);const h={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:u=>{e.set(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};Z3(l)||Object.assign(h,Q3(t,h)),h.duration&&(h.duration=pt(h.duration)),h.repeatDelay&&(h.repeatDelay=pt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(dl(h),h.delay===0&&(m=!0)),(Pt.instantAnimations||Pt.skipAnimations)&&(m=!0,dl(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const u=G3(h.keyframes,l);if(u!==void 0){ge.update(()=>{h.onUpdate(u),h.onComplete()});return}}return l.isSync?new Sc(h):new N6(h)};function eC({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function ux(t,e,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),u=l[h];if(u===void 0||d&&eC(d,h))continue;const g={delay:s,..._c(i||{},h)},f=m.get();if(f!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===f&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=hx(t);if(y){const j=window.MotionHandoffAnimation(y,h,ge);j!==null&&(g.startTime=j,x=!0)}}xl(t,h),m.start(Bc(h,m,u,t.shouldReduceMotion&&Pf.has(h)?{type:!1}:g,t,x));const b=m.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ge.update(()=>{o&&U3(t,o)})}),c}function mx(t,e,s,n=0,r=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*n;return typeof s=="function"?s(i,o):r===1?i*n:l-i*n}function pl(t,e,s={}){var c;const n=Gs(t,e,s.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const i=n?()=>Promise.all(ux(t,n,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:u}=r;return tC(t,e,d,h,m,u,s)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(s.delay)])}function tC(t,e,s=0,n=0,r=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(pl(c,e,{...o,delay:s+(typeof n=="function"?0:n)+mx(t.variantChildren,c,n,r,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function sC(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(i=>pl(t,i,s));n=Promise.all(r)}else if(typeof e=="string")n=pl(t,e,s);else{const r=typeof e=="function"?Gs(t,e,s.custom):e;n=Promise.all(ux(t,r,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}function gx(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const nC=Dc.length;function fx(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?fx(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<nC;s++){const n=Dc[s],r=t.props[n];(fr(r)||r===!1)&&(e[n]=r)}return e}const rC=[...Ac].reverse(),aC=Ac.length;function iC(t){return e=>Promise.all(e.map(({animation:s,options:n})=>sC(t,s,n)))}function oC(t){let e=iC(t),s=Ru(),n=!0;const r=c=>(d,h)=>{var u;const m=Gs(t,h,c==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);if(m){const{transition:g,transitionEnd:f,...x}=m;d={...d,...x,...f}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=fx(t.parent)||{},m=[],u=new Set;let g={},f=1/0;for(let b=0;b<aC;b++){const y=rC[b],j=s[y],S=d[y]!==void 0?d[y]:h[y],C=fr(S),w=y===c?j.isActive:null;w===!1&&(f=b);let M=S===h[y]&&S!==d[y]&&C;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),j.protectedKeys={...g},!j.isActive&&w===null||!S&&!j.prevProp||Ci(S)||typeof S=="boolean")continue;const N=lC(j.prevProp,S);let k=N||y===c&&j.isActive&&!M&&C||b>f&&C,_=!1;const E=Array.isArray(S)?S:[S];let T=E.reduce(r(y),{});w===!1&&(T={});const{prevResolvedValues:R={}}=j,P={...R,...T},O=L=>{k=!0,u.has(L)&&(_=!0,u.delete(L)),j.needsAnimating[L]=!0;const I=t.getValue(L);I&&(I.liveStyle=!1)};for(const L in P){const I=T[L],H=R[L];if(g.hasOwnProperty(L))continue;let G=!1;fl(I)&&fl(H)?G=!gx(I,H):G=I!==H,G?I!=null?O(L):u.add(L):I!==void 0&&u.has(L)?O(L):j.protectedKeys[L]=!0}j.prevProp=S,j.prevResolvedValues=T,j.isActive&&(g={...g,...T}),n&&t.blockInitialAnimation&&(k=!1);const D=M&&N;k&&(!D||_)&&m.push(...E.map(L=>{const I={type:y};if(typeof L=="string"&&n&&!D&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,G=Gs(H,L);if(H.enteringChildren&&G){const{delayChildren:Q}=G.transition||{};I.delay=mx(H.enteringChildren,t,Q)}}return{animation:L,options:I}}))}if(u.size){const b={};if(typeof d.initial!="boolean"){const y=Gs(t,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(b.transition=y.transition)}u.forEach(y=>{const j=t.getBaseTarget(y),S=t.getValue(y);S&&(S.liveStyle=!0),b[y]=j??null}),m.push({animation:b})}let x=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(m):Promise.resolve()}function l(c,d){var m;if(s[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(u=>{var g;return(g=u.animationState)==null?void 0:g.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const u in s)s[u].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Ru(),n=!0}}}function lC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gx(e,t):!1}function os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ru(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class ts{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cC extends ts{constructor(e){super(e),e.animationState||(e.animationState=oC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ci(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let dC=0;class hC extends ts{constructor(){super(...arguments),this.id=dC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uC={animation:{Feature:cC},exit:{Feature:hC}};function pr(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Ir(t){return{point:{x:t.pageX,y:t.pageY}}}const mC=t=>e=>Tc(e)&&t(e,Ir(e));function Kn(t,e,s,n){return pr(t,e,mC(s),n)}const xx=1e-4,gC=1-xx,fC=1+xx,px=.01,xC=0-px,pC=0+px;function Re(t){return t.max-t.min}function bC(t,e,s){return Math.abs(t-e)<=s}function Lu(t,e,s,n=.5){t.origin=n,t.originPoint=xe(e.min,e.max,t.origin),t.scale=Re(s)/Re(e),t.translate=xe(s.min,s.max,t.origin)-t.originPoint,(t.scale>=gC&&t.scale<=fC||isNaN(t.scale))&&(t.scale=1),(t.translate>=xC&&t.translate<=pC||isNaN(t.translate))&&(t.translate=0)}function qn(t,e,s,n){Lu(t.x,e.x,s.x,n?n.originX:void 0),Lu(t.y,e.y,s.y,n?n.originY:void 0)}function Ou(t,e,s){t.min=s.min+e.min,t.max=t.min+Re(e)}function yC(t,e,s){Ou(t.x,e.x,s.x),Ou(t.y,e.y,s.y)}function Iu(t,e,s){t.min=e.min-s.min,t.max=t.min+Re(e)}function Jn(t,e,s){Iu(t.x,e.x,s.x),Iu(t.y,e.y,s.y)}function Je(t){return[t("x"),t("y")]}const bx=({current:t})=>t?t.ownerDocument.defaultView:null,Fu=(t,e)=>Math.abs(t-e);function vC(t,e){const s=Fu(t.x,e.x),n=Fu(t.y,e.y);return Math.sqrt(s**2+n**2)}class yx{constructor(e,s,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=mo(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,f=vC(u.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!f)return;const{point:x}=u,{timestamp:b}=_e;this.history.push({...x,timestamp:b});const{onStart:y,onMove:j}=this.handlers;g||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,u)},this.handlePointerMove=(u,g)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=uo(g,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(u,g)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mo(u.type==="pointercancel"?this.lastMoveEventInfo:uo(g,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,y),x&&x(u,y)},!Tc(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const l=Ir(e),c=uo(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=_e;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=s;m&&m(e,mo(c,this.history)),this.removeListeners=Rr(Kn(this.contextWindow,"pointermove",this.handlePointerMove),Kn(this.contextWindow,"pointerup",this.handlePointerUp),Kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jt(this.updatePoint)}}function uo(t,e){return e?{point:e(t.point)}:t}function Bu(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mo({point:t},e){return{point:t,delta:Bu(t,vx(e)),offset:Bu(t,jC(e)),velocity:wC(e,.1)}}function jC(t){return t[0]}function vx(t){return t[t.length-1]}function wC(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const r=vx(t);for(;s>=0&&(n=t[s],!(r.timestamp-n.timestamp>pt(e)));)s--;if(!n)return{x:0,y:0};const i=bt(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kC(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?xe(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?xe(s,t,n.max):Math.min(t,s)),t}function $u(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function NC(t,{top:e,left:s,bottom:n,right:r}){return{x:$u(t.x,s,r),y:$u(t.y,e,n)}}function Vu(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function SC(t,e){return{x:Vu(t.x,e.x),y:Vu(t.y,e.y)}}function CC(t,e){let s=.5;const n=Re(t),r=Re(e);return r>n?s=ur(e.min,e.max-n,t.min):n>r&&(s=ur(t.min,t.max-r,e.min)),Dt(0,1,s)}function _C(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const bl=.35;function MC(t=bl){return t===!1?t=0:t===!0&&(t=bl),{x:Hu(t,"left","right"),y:Hu(t,"top","bottom")}}function Hu(t,e,s){return{min:zu(t,e),max:zu(t,s)}}function zu(t,e){return typeof t=="number"?t:t[e]||0}const EC=new WeakMap;class TC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ir(m).point)},o=(m,u)=>{const{drag:g,dragPropagation:f,onDragStart:x}=this.getProps();if(g&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V6(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Je(y=>{let j=this.getAxisMotionValue(y).get()||0;if(yt.test(j)){const{projection:S}=this.visualElement;if(S&&S.layout){const C=S.layout.layoutBox[y];C&&(j=Re(C)*(parseFloat(j)/100))}}this.originPoint[y]=j}),x&&ge.postRender(()=>x(m,u)),xl(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u;const{dragPropagation:g,dragDirectionLock:f,onDirectionLock:x,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:y}=u;if(f&&this.currentDirection===null){this.currentDirection=AC(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),b&&b(m,u)},c=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u,this.stop(m,u),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Je(m=>{var u;return this.getAnimationState(m)==="paused"&&((u=this.getAxisMotionValue(m).animation)==null?void 0:u.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yx(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:bx(this.visualElement)})}stop(e,s){const n=e||this.latestPointerEvent,r=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ge.postRender(()=>l(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:r}=this.getProps();if(!n||!da(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=kC(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&Vs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=NC(n.layoutBox,e):this.constraints=!1,this.elastic=MC(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Je(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_C(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Vs(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=D3(n,r.root,this.visualElement.getTransformPagePoint());let o=SC(r.layout.layoutBox,i);if(s){const l=s(E3(o));this.hasMutatedConstraints=!!l,l&&(o=nx(l))}return o}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Je(h=>{if(!da(h,s,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const u=r?200:1e6,g=r?40:1e7,f={type:"inertia",velocity:n?e[h]:0,bounceStiffness:u,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,f)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return xl(this.visualElement,e),n.start(Bc(e,n,0,s,this.visualElement,!1))}stopAnimation(){Je(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Je(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Je(s=>{const{drag:n}=this.getProps();if(!da(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(s);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[s];i.set(e[s]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Vs(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Je(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=CC({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Je(o=>{if(!da(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(xe(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;EC.set(this.visualElement,this);const e=this.visualElement.current,s=Kn(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Vs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ge.read(n);const o=pr(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Je(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=bl,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function da(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function AC(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class DC extends ts{constructor(e){super(e),this.removeGroupControls=st,this.removeListeners=st,this.controls=new TC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uu=t=>(e,s)=>{t&&ge.postRender(()=>t(e,s))};class PC extends ts{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(e){this.session=new yx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Uu(e),onStart:Uu(s),onMove:n,onEnd:(i,o)=>{delete this.session,r&&ge.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Kn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ma={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wu(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const En={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const s=Wu(t,e.target.x),n=Wu(t,e.target.y);return`${s}% ${n}%`}},RC={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,r=Xt.parse(t);if(r.length>5)return n;const i=Xt.createTransformer(t),o=typeof r[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=xe(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};let go=!1;class LC extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;n3(OC),i&&(s.group&&s.group.add(i),n&&n.register&&r&&n.register(i),go&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ma.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,go=!0,r||e.layoutDependency!==s||s===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ge.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ec.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=e;go=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jx(t){const[e,s]=J6(),n=v.useContext(Qg);return a.jsx(LC,{...t,layoutGroup:n,switchLayoutGroup:v.useContext(tx),isPresent:e,safeToRemove:s})}const OC={borderRadius:{...En,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:En,borderTopRightRadius:En,borderBottomLeftRadius:En,borderBottomRightRadius:En,boxShadow:RC};function IC(t,e,s){const n=De(t)?t:on(t);return n.start(Bc("",n,e,s)),n.animation}const FC=(t,e)=>t.depth-e.depth;class BC{constructor(){this.children=[],this.isDirty=!1}add(e){dc(this.children,e),this.isDirty=!0}remove(e){hc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FC),this.isDirty=!1,this.children.forEach(e)}}function $C(t,e){const s=Be.now(),n=({timestamp:r})=>{const i=r-s;i>=e&&(Jt(n),t(i-e))};return ge.setup(n,!0),()=>Jt(n)}const wx=["TopLeft","TopRight","BottomLeft","BottomRight"],VC=wx.length,Yu=t=>typeof t=="string"?parseFloat(t):t,Gu=t=>typeof t=="number"||K.test(t);function HC(t,e,s,n,r,i){r?(t.opacity=xe(0,s.opacity??1,zC(n)),t.opacityExit=xe(e.opacity??1,0,UC(n))):i&&(t.opacity=xe(e.opacity??1,s.opacity??1,n));for(let o=0;o<VC;o++){const l=`border${wx[o]}Radius`;let c=Ku(e,l),d=Ku(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Gu(c)===Gu(d)?(t[l]=Math.max(xe(Yu(c),Yu(d),n),0),(yt.test(d)||yt.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=xe(e.rotate||0,s.rotate||0,n))}function Ku(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zC=kx(0,.5,df),UC=kx(.5,.95,st);function kx(t,e,s){return n=>n<t?0:n>e?1:s(ur(t,e,n))}function qu(t,e){t.min=e.min,t.max=e.max}function qe(t,e){qu(t.x,e.x),qu(t.y,e.y)}function Ju(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Xu(t,e,s,n,r){return t-=e,t=Ga(t,1/s,n),r!==void 0&&(t=Ga(t,1/r,n)),t}function WC(t,e=0,s=1,n=.5,r,i=t,o=t){if(yt.test(e)&&(e=parseFloat(e),e=xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=xe(i.min,i.max,n);t===i&&(l-=e),t.min=Xu(t.min,e,s,l,r),t.max=Xu(t.max,e,s,l,r)}function Qu(t,e,[s,n,r],i,o){WC(t,e[s],e[n],e[r],e.scale,i,o)}const YC=["x","scaleX","originX"],GC=["y","scaleY","originY"];function Zu(t,e,s,n){Qu(t.x,e,YC,s?s.x:void 0,n?n.x:void 0),Qu(t.y,e,GC,s?s.y:void 0,n?n.y:void 0)}function e0(t){return t.translate===0&&t.scale===1}function Nx(t){return e0(t.x)&&e0(t.y)}function t0(t,e){return t.min===e.min&&t.max===e.max}function KC(t,e){return t0(t.x,e.x)&&t0(t.y,e.y)}function s0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Sx(t,e){return s0(t.x,e.x)&&s0(t.y,e.y)}function n0(t){return Re(t.x)/Re(t.y)}function r0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qC{constructor(){this.members=[]}add(e){dc(this.members,e),e.scheduleRender()}remove(e){if(hc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JC(t,e,s){let n="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((r||i||o)&&(n=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:u,skewX:g,skewY:f}=s;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),u&&(n+=`rotateY(${u}deg) `),g&&(n+=`skewX(${g}deg) `),f&&(n+=`skewY(${f}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const fo=["","X","Y","Z"],XC=1e3;let QC=0;function xo(t,e,s,n){const{latestValues:r}=e;r[t]&&(s[t]=r[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Cx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=hx(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ge,!(r||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Cx(n)}function _x({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=QC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(t_),this.nodes.forEach(a_),this.nodes.forEach(i_),this.nodes.forEach(s_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gc),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Hf(o)&&!G6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const u=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{m=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,h&&h(),h=$C(u,250),Ma.hasAnimatedSinceResize&&(Ma.hasAnimatedSinceResize=!1,this.nodes.forEach(o0)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:u,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||d.getDefaultTransition()||h_,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!Sx(this.targetLayout,g),j=!m&&u;if(this.options.layoutRoot||this.resumeFrom||j||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={..._c(f,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,j)}else m||o0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(r_),this.nodes.forEach(ZC),this.nodes.forEach(e_)):this.nodes.forEach(i0),this.clearAllSnapshots();const l=Be.now();_e.delta=Dt(0,1e3/60,l-_e.timestamp),_e.timestamp=l,_e.isProcessing=!0,no.update.process(_e),no.preRender.process(_e),no.render.process(_e),_e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ec.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n_),this.sharedNodes.forEach(l_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Re(this.snapshot.measuredBox.x)&&!Re(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Nx(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ds(this.latestValues)||h)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),u_(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ve();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(m_))){const{scroll:h}=this.root;h&&(Hs(l.x,h.offset.x),Hs(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=ve();if(qe(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:u}=h;h!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&qe(l,o),Hs(l.x,m.offset.x),Hs(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=ve();qe(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zs(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ds(h.latestValues)&&zs(c,h.latestValues)}return ds(this.latestValues)&&zs(c,this.latestValues),c}removeTransform(o){const l=ve();qe(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ds(d.latestValues))continue;ul(d.latestValues)&&d.updateSnapshot();const h=ve(),m=d.measurePageBox();qe(h,m),Zu(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ds(this.latestValues)&&Zu(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=_e.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Jn(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qe(this.target,this.layout.layoutBox),ax(this.target,this.targetDelta)):qe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Jn(this.relativeTargetOrigin,this.target,g.target),qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ul(this.parent.latestValues)||rx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_e.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;qe(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,u=this.treeScale.y;A3(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ve());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ju(this.prevProjectionDelta.x,this.projectionDelta.x),Ju(this.prevProjectionDelta.y,this.projectionDelta.y)),qn(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==u||!r0(this.projectionDelta.x,this.prevProjectionDelta.x)||!r0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const u=ve(),g=c?c.source:void 0,f=this.layout?this.layout.source:void 0,x=g!==f,b=this.getStack(),y=!b||b.members.length<=1,j=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(d_));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const w=C/1e3;l0(m.x,o.x,w),l0(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jn(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c_(this.relativeTarget,this.relativeTargetOrigin,u,w),S&&KC(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ve()),qe(S,this.relativeTarget)),x&&(this.animationValues=h,HC(h,d,this.latestValues,w,j,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Jt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{Ma.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=on(0)),this.currentAnimation=IC(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Mx(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ve();const m=Re(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const u=Re(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+u}qe(l,c),zs(l,h),qn(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qC),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&xo("z",o,d,this.animationValues);for(let h=0;h<fo.length;h++)xo(`rotate${fo[h]}`,o,d,this.animationValues),xo(`skew${fo[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_a(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_a(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=JC(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:u,y:g}=this.projectionDelta;o.transformOrigin=`${u.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in xr){if(h[f]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:y}=xr[f],j=m==="none"?h[f]:x(h[f],d);if(b){const S=b.length;for(let C=0;C<S;C++)o[b[C]]=j}else y?this.options.visualElement.renderState.vars[f]=j:o[f]=j}this.options.layoutId&&(o.pointerEvents=d===this?_a(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(a0),this.root.sharedNodes.clear()}}}function ZC(t){t.updateLayout()}function e_(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Je(m=>{const u=o?e.measuredBox[m]:e.layoutBox[m],g=Re(u);u.min=n[m].min,u.max=u.min+g}):Mx(i,e.layoutBox,n)&&Je(m=>{const u=o?e.measuredBox[m]:e.layoutBox[m],g=Re(n[m]);u.max=u.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const l=Us();qn(l,n,e.layoutBox);const c=Us();o?qn(c,t.applyTransform(r,!0),e.measuredBox):qn(c,n,e.layoutBox);const d=!Nx(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:g}=m;if(u&&g){const f=ve();Jn(f,e.layoutBox,u.layoutBox);const x=ve();Jn(x,n,g.layoutBox),Sx(f,x)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=f,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function t_(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n_(t){t.clearSnapshot()}function a0(t){t.clearMeasurements()}function i0(t){t.isLayoutDirty=!1}function r_(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function o0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a_(t){t.resolveTargetDelta()}function i_(t){t.calcProjection()}function o_(t){t.resetSkewAndRotation()}function l_(t){t.removeLeadSnapshot()}function l0(t,e,s){t.translate=xe(e.translate,0,s),t.scale=xe(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function c0(t,e,s,n){t.min=xe(e.min,s.min,n),t.max=xe(e.max,s.max,n)}function c_(t,e,s,n){c0(t.x,e.x,s.x,n),c0(t.y,e.y,s.y,n)}function d_(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h_={duration:.45,ease:[.4,0,.1,1]},d0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),h0=d0("applewebkit/")&&!d0("chrome/")?Math.round:st;function u0(t){t.min=h0(t.min),t.max=h0(t.max)}function u_(t){u0(t.x),u0(t.y)}function Mx(t,e,s){return t==="position"||t==="preserve-aspect"&&!bC(n0(e),n0(s),.2)}function m_(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const g_=_x({attachResizeListener:(t,e)=>pr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),po={current:void 0},Ex=_x({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!po.current){const t=new g_({});t.mount(window),t.setOptions({layoutScroll:!0}),po.current=t}return po.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),f_={pan:{Feature:PC},drag:{Feature:DC,ProjectionNode:Ex,MeasureLayout:jx}};function m0(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,i=n[r];i&&ge.postRender(()=>i(e,Ir(e)))}class x_ extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=H6(e,(s,n)=>(m0(this.node,n,"Start"),r=>m0(this.node,r,"End"))))}unmount(){}}class p_ extends ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rr(pr(this.node.current,"focus",()=>this.onFocus()),pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g0(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),i=n[r];i&&ge.postRender(()=>i(e,Ir(e)))}class b_ extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=Y6(e,(s,n)=>(g0(this.node,n,"Start"),(r,{success:i})=>g0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yl=new WeakMap,bo=new WeakMap,y_=t=>{const e=yl.get(t.target);e&&e(t)},v_=t=>{t.forEach(y_)};function j_({root:t,...e}){const s=t||document;bo.has(s)||bo.set(s,{});const n=bo.get(s),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(v_,{root:t,...e})),n[r]}function w_(t,e,s){const n=j_(e);return yl.set(t,s),n.observe(t),()=>{yl.delete(t),n.unobserve(t)}}const k_={some:0,all:1};class N_ extends ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:i}=e,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:k_[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),u=d?h:m;u&&u(c)};return w_(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(S_(e,s))&&this.startObserver()}unmount(){}}function S_({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const C_={inView:{Feature:N_},tap:{Feature:b_},focus:{Feature:p_},hover:{Feature:x_}},__={layout:{ProjectionNode:Ex,MeasureLayout:jx}},M_={...uC,...C_,...f_,...__},E_=M3(M_,V3),Tx=({birthInfo:t,fourPillars:e,userName:s,className:n="",showEditButton:r=!0,onEditClick:i})=>{const o=u=>{const g=["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"],f=new Date(u.year,u.month-1,u.day),x=g[f.getDay()];return`${u.year}ÎÖÑ ${u.month}Ïõî ${u.day}Ïùº ${u.hour}Ïãú ${u.minute||0}Î∂Ñ (${x}ÏöîÏùº) ${u.isLunar?"ÏùåÎ†•":"ÏñëÎ†•"}`},l=u=>`${u.year.heavenly}${u.year.earthly}ÎÖÑ ${u.month.heavenly}${u.month.earthly}Ïõî ${u.day.heavenly}${u.day.earthly}Ïùº ${u.hour.heavenly}${u.hour.earthly}Ïãú`,c=u=>({Í∞ë:"text-emerald-600 dark:text-emerald-400",ÏùÑ:"text-green-600 dark:text-green-400",Î≥ë:"text-red-600 dark:text-red-400",Ï†ï:"text-pink-600 dark:text-pink-400",Î¨¥:"text-yellow-600 dark:text-yellow-400",Í∏∞:"text-amber-600 dark:text-amber-400",Í≤Ω:"text-slate-600 dark:text-slate-400",Ïã†:"text-gray-600 dark:text-gray-400",ÏûÑ:"text-blue-600 dark:text-blue-400",Í≥Ñ:"text-cyan-600 dark:text-cyan-400"})[u]||"text-gray-600 dark:text-gray-400",d=u=>({Ïûê:"text-blue-800 dark:text-blue-300",Ìï¥:"text-cyan-800 dark:text-cyan-300",Ï∂ï:"text-yellow-800 dark:text-yellow-300",ÏßÑ:"text-amber-800 dark:text-amber-300",ÎØ∏:"text-orange-800 dark:text-orange-300",Ïà†:"text-yellow-800 dark:text-yellow-300",Ïù∏:"text-green-800 dark:text-green-300",Î¨ò:"text-emerald-800 dark:text-emerald-300",ÏÇ¨:"text-red-800 dark:text-red-300",Ïò§:"text-rose-800 dark:text-rose-300",Ïã†:"text-gray-800 dark:text-gray-300",Ïú†:"text-slate-800 dark:text-slate-300"})[u]||"text-gray-800 dark:text-gray-300",h=u=>({Í∞ë:"Êú®(Î™©)",ÏùÑ:"Êú®(Î™©)",Î≥ë:"ÁÅ´(Ìôî)",Ï†ï:"ÁÅ´(Ìôî)",Î¨¥:"Âúü(ÌÜ†)",Í∏∞:"Âúü(ÌÜ†)",Í≤Ω:"Èáë(Í∏à)",Ïã†:"Èáë(Í∏à)",ÏûÑ:"Ê∞¥(Ïàò)",Í≥Ñ:"Ê∞¥(Ïàò)"})[u]||"",m=u=>({Ïûê:"Ê∞¥(Ïàò)",Ìï¥:"Ê∞¥(Ïàò)",Ï∂ï:"Âúü(ÌÜ†)",ÏßÑ:"Âúü(ÌÜ†)",ÎØ∏:"Âúü(ÌÜ†)",Ïà†:"Âúü(ÌÜ†)",Ïù∏:"Êú®(Î™©)",Î¨ò:"Êú®(Î™©)",ÏÇ¨:"ÁÅ´(Ìôî)",Ïò§:"ÁÅ´(Ìôî)",Ïã†:"Èáë(Í∏à)",Ïú†:"Èáë(Í∏à)"})[u]||`${u}(?)`;return a.jsxs(E_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-800 dark:to-purple-900/30 rounded-xl shadow-lg border border-purple-200 dark:border-purple-700/50 p-6 mb-8 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"üë§"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:s||t.name||"ÏÇ¨Ï£º Î∂ÑÏÑù ÎåÄÏÉÅ"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Ï∂úÏÉù Ï†ïÎ≥¥ Í∏∞Î∞ò Î∂ÑÏÑù"})]})]}),r&&i&&a.jsx("button",{onClick:i,className:"px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-300 dark:border-gray-600 transition-colors text-sm font-medium",title:"Ï∂úÏÉù Ï†ïÎ≥¥ ÏàòÏ†ï",children:"‚öôÔ∏è ÏàòÏ†ï"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üéÇ"}),"Ï∂úÏÉù Ï†ïÎ≥¥"]}),a.jsx("div",{className:"bg-white dark:bg-gray-700/50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ÏÉùÎÖÑÏõîÏùºÏãú:"}),a.jsx("span",{className:"ml-2 text-gray-800 dark:text-gray-200 font-medium",children:o(t)})]}),t.gender&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ÏÑ±Î≥Ñ:"}),a.jsx("span",{className:"ml-2 text-gray-800 dark:text-gray-200 font-medium",children:t.gender==="male"?"ÎÇ®ÏÑ±":"Ïó¨ÏÑ±"})]})]})})]}),e&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center",children:[a.jsx("span",{className:"mr-2",children:"üîÆ"}),"ÏÇ¨Ï£º (ÂõõÊü±)"]}),a.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-semibold text-red-800 dark:text-red-200",children:"ÎÖÑÏ£º (Âπ¥Êü±)"}),a.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.year.combined}),a.jsxs("div",{className:"text-xs flex items-center justify-between mt-1",children:[a.jsxs("span",{className:`font-medium ${c(e.year.heavenly)}`,children:[e.year.heavenly,"(",h(e.year.heavenly),")"]}),a.jsxs("span",{className:`font-medium ${d(e.year.earthly)}`,children:[e.year.earthly,"(",m(e.year.earthly),")"]})]})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-semibold text-green-800 dark:text-green-200",children:"ÏõîÏ£º (ÊúàÊü±)"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.month.combined}),a.jsxs("div",{className:"text-xs flex items-center justify-between mt-1",children:[a.jsxs("span",{className:`font-medium ${c(e.month.heavenly)}`,children:[e.month.heavenly,"(",h(e.month.heavenly),")"]}),a.jsxs("span",{className:`font-medium ${d(e.month.earthly)}`,children:[e.month.earthly,"(",m(e.month.earthly),")"]})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"ÏùºÏ£º (Êó•Êü±)"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.day.combined}),a.jsxs("div",{className:"text-xs flex items-center justify-between mt-1",children:[a.jsxs("span",{className:`font-medium ${c(e.day.heavenly)}`,children:[e.day.heavenly,"(",h(e.day.heavenly),") (ÏùºÍ∞Ñ)"]}),a.jsxs("span",{className:`font-medium ${d(e.day.earthly)}`,children:[e.day.earthly,"(",m(e.day.earthly),")"]})]})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-semibold text-purple-800 dark:text-purple-200",children:"ÏãúÏ£º (ÊôÇÊü±)"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:e.hour.combined}),a.jsxs("div",{className:"text-xs flex items-center justify-between mt-1",children:[a.jsxs("span",{className:`font-medium ${c(e.hour.heavenly)}`,children:[e.hour.heavenly,"(",h(e.hour.heavenly),")"]}),a.jsxs("span",{className:`font-medium ${d(e.hour.earthly)}`,children:[e.hour.earthly,"(",m(e.hour.earthly),")"]})]})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:l(e)}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"ÏôÑÏ†ÑÌïú ÏÇ¨Ï£º(ÂõõÊü±)"})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 text-center font-medium",children:"üåü Ïò§Ìñâ(‰∫îË°å) Íµ¨ÏÑ± ÏïàÎÇ¥"}),a.jsxs("div",{className:"grid grid-cols-5 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-1",children:"üå≥"}),a.jsx("div",{className:"font-medium text-green-700 dark:text-green-300",children:"Êú®(Î™©)"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Í∞ëÏùÑÏù∏Î¨ò"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-1",children:"üî•"}),a.jsx("div",{className:"font-medium text-red-700 dark:text-red-300",children:"ÁÅ´(Ìôî)"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Î≥ëÏ†ïÏÇ¨Ïò§"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center mx-auto mb-1",children:"üèîÔ∏è"}),a.jsx("div",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Âúü(ÌÜ†)"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Î¨¥Í∏∞ÏßÑÎØ∏Ï∂ïÏà†"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-900/30 rounded-full flex items-center justify-center mx-auto mb-1",children:"‚öîÔ∏è"}),a.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Èáë(Í∏à)"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Í≤ΩÏã†Ïã†Ïú†"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-1",children:"üíß"}),a.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Ê∞¥(Ïàò)"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"ÏûÑÍ≥ÑÏûêÌï¥"})]})]})]})]})]})]})]})]})},T_=()=>{const t=ze(),{birthInfo:e}=sr(),[s,n]=v.useState("fiveElements"),[r,i]=v.useState("bar"),o=v.useMemo(()=>{if(!e)return null;try{return qm(e)}catch(l){return console.error("ÏÇ¨Ï£º Í≥ÑÏÇ∞ Ïò§Î•ò:",l),null}},[e]);return!e||!o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üìä"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ï∞®Ìä∏Î•º ÌôïÏù∏ÌïòÎ†§Î©¥ Î®ºÏ†Ä ÏÉùÎÖÑÏõîÏùº Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."}),a.jsx("button",{onClick:()=>t("/settings"),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"ÏÉùÎÖÑÏõîÏùº ÏûÖÎ†•ÌïòÍ∏∞"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsx(Tx,{birthInfo:e,fourPillars:{year:{heavenly:o.fourPillars.year.heavenly,earthly:o.fourPillars.year.earthly,combined:`${o.fourPillars.year.heavenly}${o.fourPillars.year.earthly}`},month:{heavenly:o.fourPillars.month.heavenly,earthly:o.fourPillars.month.earthly,combined:`${o.fourPillars.month.heavenly}${o.fourPillars.month.earthly}`},day:{heavenly:o.fourPillars.day.heavenly,earthly:o.fourPillars.day.earthly,combined:`${o.fourPillars.day.heavenly}${o.fourPillars.day.earthly}`},hour:{heavenly:o.fourPillars.hour.heavenly,earthly:o.fourPillars.hour.earthly,combined:`${o.fourPillars.hour.heavenly}${o.fourPillars.hour.earthly}`}},userName:e.name,showEditButton:!0,onEditClick:()=>t("/settings")})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>n("fiveElements"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="fiveElements"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"üéØ Ïò§ÌñâÍ∑†ÌòïÎèÑ"}),a.jsx("button",{onClick:()=>n("tenGods"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="tenGods"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"‚≠ê Ïã≠ÏÑ±Î∂ÑÌè¨ÎèÑ"}),a.jsx("button",{onClick:()=>n("twelveEarthly"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="twelveEarthly"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"üê≤ 12Í∞ÑÏßÄÏÉÅÌò∏ÏûëÏö©"})]}),s==="tenGods"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï∞®Ìä∏ ÌÉÄÏûÖ:"}),a.jsxs("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[a.jsx("button",{onClick:()=>i("bar"),className:`px-3 py-1 text-sm transition-colors ${r==="bar"?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"ÎßâÎåÄ"}),a.jsx("button",{onClick:()=>i("doughnut"),className:`px-3 py-1 text-sm transition-colors ${r==="doughnut"?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"ÎèÑÎÑõ"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.jsx("div",{className:"lg:col-span-2",children:s==="fiveElements"?a.jsx(YS,{sajuData:o,height:450,showLegend:!0,showTooltips:!0}):s==="tenGods"?a.jsx(GS,{sajuData:o,height:450,chartType:r,showCategory:!0}):a.jsx(JS,{sajuData:o,height:450,showRelationships:!0,showSeasonalBalance:!0})})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï¥ùÏ†ê"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[o.totalScore.toFixed(0),"Ï†ê"]})]}),a.jsx("div",{className:"text-4xl",children:"üíØ"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÌèâÍ∑†"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[o.averageScore.toFixed(1),"Ï†ê"]})]}),a.jsx("div",{className:"text-4xl",children:"üìä"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÏùºÍ∞Ñ"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:o.dayMaster})]}),a.jsx("div",{className:"text-4xl",children:"‚òØÔ∏è"})]})})]}),a.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/saju"),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"ÏÇ¨Ï£º Î∂ÑÏÑùÏúºÎ°ú"}),a.jsx("button",{onClick:()=>t("/six-areas"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"6ÎåÄ ÏòÅÏó≠ Î∂ÑÏÑù"})]})]})})},A_=[{id:"basic",name:"Í∏∞Î≥∏ Î∂ÑÏÑù",icon:"üîç",color:"blue"},{id:"personality",name:"ÏÑ±Í≤© Î∂ÑÏÑù",icon:"üß†",color:"purple"},{id:"fortune",name:"Ïö¥ÏÑ∏ Î∂ÑÏÑù",icon:"üåü",color:"yellow"},{id:"career",name:"ÏßÅÏóÖ ÏßÄÎèÑ",icon:"üíº",color:"green"},{id:"relationship",name:"Í¥ÄÍ≥Ñ Î∂ÑÏÑù",icon:"‚ù§Ô∏è",color:"red"},{id:"health",name:"Í±¥Í∞ï ÏßÄÎèÑ",icon:"üè•",color:"cyan"},{id:"spiritual",name:"Ïã†ÏÇ¥ Î∂ÑÏÑù",icon:"‚ö°",color:"indigo"},{id:"johoo",name:"Ï°∞ÌõÑ Î∂ÑÏÑù",icon:"üå°Ô∏è",color:"orange"}],D_=()=>{const t=ze(),{birthInfo:e}=sr(),[s,n]=v.useState("basic"),[r,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(null),h=v.useMemo(()=>{if(!e)return null;try{return qm(e)}catch(m){return console.error("ÏÇ¨Ï£º Í≥ÑÏÇ∞ Ïò§Î•ò:",m),null}},[e]);return v.useEffect(()=>{(async()=>{if(h){l(!0),d(null);try{const u=await di.getComprehensiveInterpretation(h);i(u)}catch(u){console.error("Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",u),d("Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{l(!1)}}})()},[h]),!e||!h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üìö"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ï¢ÖÌï© Ìï¥ÏÑùÏùÑ ÌôïÏù∏ÌïòÎ†§Î©¥ Î®ºÏ†Ä ÏÉùÎÖÑÏõîÏùº Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."}),a.jsx("button",{onClick:()=>t("/settings"),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"ÏÉùÎÖÑÏõîÏùº ÏûÖÎ†•ÌïòÍ∏∞"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsx(Tx,{birthInfo:e,fourPillars:{year:{heavenly:h.fourPillars.year.heavenly,earthly:h.fourPillars.year.earthly,combined:`${h.fourPillars.year.heavenly}${h.fourPillars.year.earthly}`},month:{heavenly:h.fourPillars.month.heavenly,earthly:h.fourPillars.month.earthly,combined:`${h.fourPillars.month.heavenly}${h.fourPillars.month.earthly}`},day:{heavenly:h.fourPillars.day.heavenly,earthly:h.fourPillars.day.earthly,combined:`${h.fourPillars.day.heavenly}${h.fourPillars.day.earthly}`},hour:{heavenly:h.fourPillars.hour.heavenly,earthly:h.fourPillars.hour.earthly,combined:`${h.fourPillars.hour.heavenly}${h.fourPillars.hour.earthly}`}},userName:e.name,showEditButton:!0,onEditClick:()=>t("/settings")})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"üìö Ï¢ÖÌï© ÏÇ¨Ï£º Ìï¥ÏÑù"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"5ÎåÄ Í≥†Ï†ÑÏùÑ Í∏∞Î∞òÏúºÎ°ú Ìïú Ïã¨Ï∏µ Î∂ÑÏÑù"})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 mb-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:A_.map(m=>a.jsxs("button",{onClick:()=>n(m.id),className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center space-x-2 ${s===m.id?`bg-${m.color}-500 text-white shadow-lg transform scale-105`:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("span",{className:"text-xl",children:m.icon}),a.jsx("span",{className:"text-sm",children:m.name})]},m.id))})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:a.jsx(Ni,{interpretation:r,loading:o,error:c,category:s,showTabs:!1,fullHeight:!0})}),a.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/saju-chart"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"üìä Ï∞®Ìä∏ Î≥¥Í∏∞"}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"üìÖ Ï∫òÎ¶∞ÎçîÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"})]})]})})},ks=["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"],Ns=["Ïûê","Ï∂ï","Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨","Ïò§","ÎØ∏","Ïã†","Ïú†","Ïà†","Ìï¥"],de={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},Ze={Ïù∏:"Î™©",Î¨ò:"Î™©",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÏßÑ:"ÌÜ†",Ïà†:"ÌÜ†",Ï∂ï:"ÌÜ†",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïûê:"Ïàò",Ìï¥:"Ïàò"},Ax={Í∑ºÎ≥∏:["ÌÜ†","Î™©"],ÏÇ¨Í≥†:["Ïàò","Í∏à"],Ïù∏Ïó∞:["Ìôî","Î™©"],ÌñâÎèô:["Ìôî","Î™©"],ÌñâÏö¥:["Ìôî","Ïàò"],ÌôòÍ≤Ω:["ÌÜ†","Ïàò"],Í±¥Í∞ï:["Î™©","Ïàò"],ÏÑ±Í≤©:["Ìôî","ÌÜ†"],ÏßÄÌòú:["Ïàò","Í∏à"],Í¥ÄÍ≥Ñ:["Ìôî","Î™©"],Ïû¨Î¨º:["Í∏à","ÌÜ†"],Î™ÖÏòà:["Ìôî","Í∏à"],Í∞êÏÑ±:["Ìôî","Ïàò"],ÎÖºÎ¶¨ÏÑ±:["Í∏à","Ïàò"],ÏòàÏà†ÏÑ±:["Î™©","Ìôî"],Ïù¥ÏÑ±:["Í∏à","Ïàò"],Ïù∏ÏÑ±:["Î™©","ÌÜ†"],ÏßÄÏÑ±:["Ïàò","Í∏à"],ÌïôÏäµÏÑ±:["Î™©","Ïàò"],Í¥ÄÎåÄÌï®:["Î™©","Ìôî"],ÎÅàÍ∏∞:["ÌÜ†","Í∏à"],Î¶¨ÎçîÏã≠:["Ìôî","Í∏à"],Î∂ÑÏÑùÎ†•:["Ïàò","Í∏à"],ÏàúÏàòÌï®:["Î™©","Ïàò"],Ïö©Í∏∞:["Ìôî","Î™©"],Í∂åÎ†•Ïöï:["Í∏à","Ìôî"],Í∏∞ÏÅ®:["Ìôî","Î™©"],ÎÖ∏Ïó¨ÏõÄ:["Ìôî","Í∏à"],ÎëêÎ†§ÏõÄ:["Ïàò","Í∏à"],Î™ÖÏòàÏöï:["Ìôî","Í∏à"],Î¨ºÏöï:["Í∏à","ÌÜ†"],ÎØ∏ÏõÄ:["Í∏à","Ìôî"],ÏÇ¨Îûå:["Ìôî","Î™©"],ÏÉâÏöï:["Ïàò","Ìôî"],ÏÜåÏú†Ïöï:["ÌÜ†","Í∏à"],ÏàòÎ©¥Ïöï:["Ïàò","ÌÜ†"],Ïä¨Ìîî:["Ïàò","ÌÜ†"],ÏäπÎ∂ÄÏöï:["Ìôî","Í∏à"],ÏãùÏöï:["ÌÜ†","Ïàò"],ÏöïÏã¨:["Í∏à","ÌÜ†"],Ï¶êÍ±∞ÏõÄ:["Ìôî","Î™©"],Ïï†Ï†ïÏöï:["Ìôî","Î™©"],ÏßÄÎ∞∞Ïöï:["Í∏à","Ìôî"],ÏÑ±Ïöï:["Ïàò","Ìôî"],ÏßÄÏãùÏöï:["Ïàò","Î™©"],Ïù∏Ï†ïÏöï:["Ìôî","ÌÜ†"],ÏûêÏú†Ïöï:["Î™©","Ìôî"],Ï∞ΩÏ°∞Ïöï:["Î™©","Ïàò"],ÌÉêÍµ¨Ïöï:["Ïàò","Í∏à"],ÌëúÌòÑÏöï:["Ìôî","Î™©"],Ìú¥ÏãùÏöï:["ÌÜ†","Ïàò"],Í∞Ñ:["Î™©","Ìôî"],Í∞ëÏÉÅÏÑ†:["Ìôî","Ïàò"],Í∑ºÏú°:["Î™©","ÌÜ†"],ÎáåÌïòÏàòÏ≤¥:["Ïàò","Í∏à"],ÎåÄÏÇ¨:["Ìôî","ÌÜ†"],Ïä§Ìä∏Î†àÏä§:["Ìôî","Í∏à"],Ïã†Ïû•:["Ïàò","Î™©"],Ïã¨Ïû•:["Ìôî","Î™©"],Ïú†Ï†Ñ:["Î™©","Ïàò"],ÏßÄÎ∞©:["ÌÜ†","Ïàò"],Ìò∏Î•¥Î™¨:["Ïàò","Ìôî"],ÌôúÎèôÎüâ:["Ìôî","Î™©"],Í∞ïÎ∞ï:["Í∏à","ÌÜ†"],Í±±Ï†ï:["ÌÜ†","Ïàò"],Í≥µÌè¨:["Ïàò","Í∏à"],ÎÇôÍ¥Ä:["Ìôî","Î™©"],Î¨¥Í∏∞Î†•:["ÌÜ†","Ïàò"],Î∂àÏïà:["Ïàò","Ìôî"],Ïä§Ìä∏Î†àÏä§Ïã¨Î¶¨:["Ìôî","Í∏à"],Ïö∞Ïö∏:["Ïàò","ÌÜ†"],ÏûêÏã†Í∞ê:["Ìôî","Î™©"],ÏßëÏ∞©:["ÌÜ†","Í∏à"],Ï∂©Îèô:["Ìôî","Î™©"],ÌöåÌîº:["Ïàò","ÌÜ†"],Í±¥Î¨º:["ÌÜ†","Í∏à"],Í≥µÏû•:["Í∏à","Ìôî"],Îã§Í∞ÄÍµ¨:["ÌÜ†","Î™©"],Î∂ÄÎèôÏÇ∞:["ÌÜ†","Í∏à"],Îã§ÏÑ∏ÎåÄ:["ÌÜ†","Î™©"],Îã®ÎèÖ:["ÌÜ†","Î™©"],ÎåÄÏßÄ:["ÌÜ†"],ÏÉÅÍ∞Ä:["Í∏à","Ìôî"],ÏïÑÌååÌä∏:["ÌÜ†","Í∏à"],Ïó∞Î¶Ω:["ÌÜ†","Î™©"],Ïò§ÌîºÏä§:["Í∏à","ÌÜ†"],Ï£ºÏÉÅÎ≥µÌï©:["ÌÜ†","Í∏à"],Ï£ºÌÉù:["ÌÜ†","Î™©"],ÎåÄÏó¨:["Í∏à","Ïàò"],ÎèôÏÇ∞:["Í∏à","Î™©"],ÏÇ¨ÏóÖ:["Ìôî","Í∏à"],Ï£ºÏãù:["Ïàò","Í∏à"],Ï±ÑÍ∂å:["Í∏à","ÌÜ†"],Ìà¨Ïûê:["Í∏à","Ïàò"],ÌéÄÎìú:["Ïàò","Í∏à"],ÌòÑÍ∏à:["Í∏à"],Í∏∞Ïà†:["Í∏à","Ïàò"],Î∞©ÏÜ°:["Ìôî","Î™©"],ÏÑ†Î¨º:["Ïàò","Í∏à"],ÏòàÎä•:["Ìôî","Î™©"],Ïù∏Î†•:["Î™©","Ìôî"],Ï†úÌíà:["Í∏à","ÌÜ†"],Ïô∏Í∞ÄÏπúÏ≤ô:["Î™©","Ïàò"],Ïô∏Í∞ìÏßë:["Î™©","ÌÜ†"],Ïô∏ÏÇºÏ¥å:["Î™©","Ìôî"],Ïô∏ÏàôÎ™®:["Ïàò","Î™©"],Ïô∏Ï°∞Î™®:["ÌÜ†","Ïàò"],Ïô∏Ï°∞Î∂Ä:["Î™©","Í∏à"],Ïô∏Ï¢ÖÌòïÏ†ú:["Î™©","Ìôî"],Ïù¥Î™®:["Ïàò","Î™©"],Ïù¥Î™®Î∂Ä:["Ìôî","Î™©"],ÌÅ∞Ïù¥Î™®:["Ïàò","ÌÜ†"],ÎÇ®Ïûê:["Ìôî","Î™©"],Î∞∞Ïö∞Ïûê:["ÌÜ†","Ïàò"],Ïï†Ïù∏:["Ìôî","Î™©"],Ïó¨Ïûê:["Ïàò","Î™©"],Ïó∞Ïù∏:["Ìôî","Ïàò"],Ïù¥ÏÑ±Í¥ÄÍ≥Ñ:["Ìôî","Ïàò"],Í≥ÑÏÇ∞:["Í∏à","Ïàò"],Í≥ºÌïô:["Ïàò","Í∏à"],Í¥ÄÏ∞∞:["Ïàò","Î™©"],ÎÖºÎ¶¨ÏùºÎ∞ò:["Ïàò","Í∏à"],ÎÖºÏ¶ù:["Í∏à","Ïàò"],ÎèÑÌòï:["ÌÜ†","Í∏à"],Î¨∏Ïû•:["Î™©","Ïàò"],Î≤ïÏπô:["Í∏à","ÌÜ†"],Î∂ÑÎ•ò:["Í∏à","Ïàò"],Î∂ÑÏÑù:["Ïàò","Í∏à"],ÎπÑÍµê:["Í∏à","Ïàò"],ÎπÑÌåê:["Í∏à","Ìôî"],ÏàòÎ¶¨:["Í∏à","Ïàò"],Ïó∞Ïó≠:["Í∏à","Ïàò"],ÏöîÏïΩ:["Í∏à","ÌÜ†"],ÏõêÏù∏:["Ïàò","Î™©"],ÏùëÏö©:["Ìôî","Í∏à"],Ïù¥Ìï¥:["Ïàò","Î™©"],Ïù∏Í≥º:["Î™©","Ïàò"],Ï†ÑÎûµ:["Í∏à","Ìôî"],Ï∂îÎ°†:["Ïàò","Í∏à"],ÌÜµÍ≥Ñ:["Í∏à","Ïàò"],ÌåêÎã®:["Í∏à","Ìôî"],Ìï¥ÏÑù:["Ïàò","Î™©"],Í≥µÍ∞Ñ:["ÌÜ†","Î™©"],Í≥µÏòà:["ÌÜ†","Î™©"],ÎÜçÎã¥:["Ìôî","Î™©"],ÎåÑÏä§:["Ìôî","Î™©"],ÎîîÏûêÏù∏:["Î™©","Ìôî"],Î¶¨Îì¨:["Ìôî","Ïàò"],ÎßåÌôî:["Î™©","Ìôî"],Î©úÎ°úÎîî:["Ïàò","Î™©"],Î¨¥Ïö©:["Ìôî","Î™©"],Î¨∏Ìïô:["Î™©","Ïàò"],ÎØ∏Ïà†:["Î™©","ÌÜ†"],Î∞ïÏûê:["Ìôî","Í∏à"],ÏÇ¨ÏßÑ:["Í∏à","Ïàò"],ÏÉâÏ±Ñ:["Ìôî","Î™©"],Ïó∞Í∑π:["Ìôî","Î™©"],Ïó∞Í∏∞:["Ìôî","Ïàò"],ÏòÅÏÉÅ:["Ìôî","Í∏à"],ÏòÅÌôî:["Ìôî","Í∏à"],ÏòàÏà†ÏùºÎ∞ò:["Î™©","Ìôî"],ÏùåÏïÖ:["Ïàò","Î™©"],Ï°∞Í∞Å:["ÌÜ†","Í∏à"],Ï°∞Ìòï:["ÌÜ†","Î™©"],Ï∞ΩÏûë:["Î™©","Ìôî"],ÌôîÏùå:["Ïàò","Î™©"],Í≤©Î†§:["Ìôî","Î™©"],Í≤∞Îã®:["Í∏à","Ìôî"],Í≥ÑÌöç:["Í∏à","Ïàò"],Í≥†Ïßë:["ÌÜ†","Í∏à"],Í≥µÍ∞ê:["Ïàò","Î™©"],Í¥ÄÎ¶¨:["Í∏à","ÌÜ†"],ÍµêÏú°:["Î™©","Ïàò"],Í∏çÏ†ï:["Ìôî","Î™©"],Í∏∞Ìöç:["Ïàò","Í∏à"],ÎåÄÌôî:["Î™©","Ìôî"],ÎèÑÎçï:["Î™©","ÌÜ†"],Î™ÖÎ†π:["Í∏à","Ìôî"],Î¥âÏÇ¨:["Î™©","Ïàò"],ÎπÑÌåêÏóÖÎ¨¥:["Í∏à","Ìôî"],ÏÇ¨Íµê:["Ìôî","Î™©"],ÏÉÅÎã¥:["Ïàò","Î™©"],ÏÑ¨ÏÑ∏:["Ïàò","Î™©"],ÏÑ±Ïã§:["ÌÜ†","Í∏à"],ÏÜåÌÜµ:["Î™©","Ìôî"],ÏÜîÏÑ†:["Ìôî","Î™©"],ÏàòÎ¶¨ÏóÖÎ¨¥:["Í∏à","Ïàò"],ÏãúÍ∞Ñ:["Í∏à","ÌÜ†"],Ïã†Î¢∞:["ÌÜ†","Í∏à"],Ïã§Ï≤ú:["Ìôî","ÌÜ†"],Ïñ∏Ïñ¥:["Î™©","Ïàò"],ÏòàÏùò:["Î™©","ÌÜ†"],Ïú†Î®∏:["Ìôî","Î™©"],ÏùëÏö©ÏóÖÎ¨¥:["Ïàò","Í∏à"],Ïù∏ÎÇ¥:["ÌÜ†","Í∏à"],Ï†ÅÏùë:["Ïàò","Î™©"],Ï†ïÎ¶¨:["Í∏à","ÌÜ†"],Ï†ïÏßÅ:["ÌÜ†","Î™©"],Ï°∞Ï†ï:["Ïàò","ÌÜ†"],Ï£ºÎèÑ:["Ìôî","Í∏à"],Ï±ÖÏûÑ:["ÌÜ†","Í∏à"],Ï∂îÏßÑ:["Ìôî","Î™©"],ÌÉÄÌòë:["Ïàò","ÌÜ†"],Ìè¨Ïö©:["Î™©","Ïàò"],Í∞úÎ∞©Ï†Å:["Î™©","Ìôî"],Í≥ÑÏÇ∞Ï†Å:["Í∏à","Ïàò"],Í∏çÏ†ïÏ†Å:["Ìôî","Î™©"],Î∞∞ÌÉÄÏ†Å:["Í∏à","ÌÜ†"],Î∂ÄÏ†ïÏ†Å:["Ïàò","Í∏à"],ÏÇ¨ÍµêÏ†Å:["Ìôî","Î™©"],Ïù¥Í∏∞Ï†Å:["Í∏à","Ìôî"],ÏßÑÏ∑®Ï†Å:["Ìôî","Î™©"],Ìï©Î¶¨Ï†Å:["Í∏à","Ïàò"],Ìù¨ÏÉùÏ†Å:["Î™©","Ïàò"],Í±¥Í∞ïÏö¥:["Î™©","Ïàò"],Í≤∞ÌòºÏö¥:["Ìôî","ÌÜ†"],Í∏àÏ†ÑÏö¥:["Í∏à","ÌÜ†"],ÎåÄÏù∏Ïö¥:["Ìôî","Î™©"],ÏÇ¨ÏóÖÏö¥:["Ìôî","Í∏à"],ÏÑ±Í≥µÏö¥:["Ìôî","Î™©"],ÏäπÏßÑÏö¥:["Ìôî","Í∏à"],ÏãúÌóòÏö¥:["Ïàò","Î™©"],Ïû¨Î¨ºÏö¥:["Í∏à","ÌÜ†"],ÏßÅÏû•Ïö¥:["ÌÜ†","Í∏à"],Ï∑®ÏóÖÏö¥:["Í∏à","Ìôî"],ÌïôÏóÖÏö¥:["Ïàò","Î™©"],Ïó¨ÌñâÏö¥:["Î™©","Ìôî"],Ïù¥ÏÇ¨Ïö¥:["ÌÜ†","Î™©"],Ïù¥ÏßÅÏö¥:["Í∏à","Ìôî"],Ïù∏Í∏∞Ïö¥:["Ìôî","Î™©"],ÏûêÎÖÄÏö¥:["Î™©","Ìôî"],Ìà¨ÏûêÏö¥:["Í∏à","Ïàò"],ÌïôÏö¥:["Ïàò","Î™©"],Ìï¥Ïô∏Ïö¥:["Ïàò","Î™©"],ÌòºÏù∏Ïö¥:["Ìôî","ÌÜ†"],Ïó∞Ïï†Ïö¥:["Ìôî","Î™©"],Ïï†Ï†ïÏö¥:["Ìôî","Ïàò"]},Ka={ÏÉÅÏÉù:{Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"},ÏÉÅÍ∑π:{Î™©:"ÌÜ†",Ìôî:"Í∏à",ÌÜ†:"Ïàò",Í∏à:"Î™©",Ïàò:"Ìôî"}},P_={1:{Ïàò:20,ÌÜ†:15},2:{Î™©:20,Ìôî:10,Í∏à:-10},3:{Î™©:20,Ìôî:10,Í∏à:-10},4:{Î™©:15,ÌÜ†:20,Í∏à:-5},5:{Ìôî:20,ÌÜ†:10,Ïàò:-10},6:{Ìôî:20,ÌÜ†:10,Ïàò:-10},7:{Ìôî:15,ÌÜ†:20,Ïàò:-5},8:{Í∏à:20,Ïàò:10,Î™©:-10},9:{Í∏à:20,Ïàò:10,Î™©:-10},10:{Í∏à:15,ÌÜ†:20,Î™©:-5},11:{Ïàò:20,Î™©:10,Ìôî:-10},12:{Ïàò:20,Î™©:10,Ìôî:-10}},R_={23:{Ïàò:15},0:{Ïàò:15},1:{Ïàò:15},3:{Î™©:15},4:{Î™©:15},5:{Î™©:15},7:{ÌÜ†:10},8:{ÌÜ†:10},9:{Ìôî:15},10:{Ìôî:15},11:{Ìôî:15},12:{Ìôî:15},13:{ÌÜ†:10},14:{ÌÜ†:10},15:{Í∏à:15},16:{Í∏à:15},17:{Í∏à:15},18:{Í∏à:15},19:{ÌÜ†:10},20:{ÌÜ†:10},21:{Ïàò:15},22:{Ïàò:15}};function L_(t,e,s,n){let r=0;switch(n){case"today":t.day.gan===e&&(r+=20),t.day.ji===s&&(r+=15);break;case"month":t.month.gan===e&&(r+=18),t.month.ji===s&&(r+=12);break;case"year":t.year.gan===e&&(r+=15),t.year.ji===s&&(r+=10);break}return r}function O_(t,e,s){let n=0;const i={today:{ÏÉÅÏÉù:25,ÎπÑÌôî:15,ÏÉÅÍ∑π:-15},month:{ÏÉÅÏÉù:20,ÎπÑÌôî:12,ÏÉÅÍ∑π:-12},year:{ÏÉÅÏÉù:15,ÎπÑÌôî:10,ÏÉÅÍ∑π:-10}}[s];return t.forEach(o=>{Ka.ÏÉÅÏÉù[e]===o?n+=i.ÏÉÅÏÉù:e===o?n+=i.ÎπÑÌôî:Ka.ÏÉÅÍ∑π[e]===o&&(n+=i.ÏÉÅÍ∑π)}),n}function I_(t,e){const s=P_[e]||{};let n=0;return t.forEach(r=>{const i=s[r]||0;n+=i*.5}),n}function F_(t,e){const s=R_[e]||{};let n=0;return t.forEach(r=>{const i=s[r]||0;n+=i*.3}),n}function ha(t,e,s,n){const r=Dx(t,e),i=new Date,o=i.getFullYear(),l=i.getMonth()+1,c=i.getDate(),d=i.getHours(),h=Ax[t]||[];if(h.length===0)return r;let m=8,u,g,f;switch(s){case"today":u=ks[Math.abs((c-1)%10)],g=Ns[Math.abs((c-1)%12)],f=de[u],m+=F_(h,d);break;case"month":u=ks[Math.abs((l-1)%10)],g=Ns[Math.abs((l-1)%12)],f=de[u],m+=I_(h,l);break;case"year":u=ks[Math.abs((o-1984)%10)],g=Ns[Math.abs((o-1984)%12)],f=de[u];break;default:return r}m+=L_(e,u,g,s),m+=O_(h,f,s),m+=(Math.random()-.5)*8;const x=Math.round(r+m);return Math.max(20,Math.min(90,x))}function Dx(t,e){var c,d,h,m;let s=50;if(!e||!((c=e.year)!=null&&c.gan)||!((d=e.month)!=null&&d.gan)||!((h=e.day)!=null&&h.gan)||!((m=e.time)!=null&&m.gan))return console.log("[Í≤ΩÍ≥†] Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ - ÎûúÎç§ Ï†êÏàò ÏÇ¨Ïö©"),Math.floor(Math.random()*30)+40;console.log(`[ÏÇ¨Ï£º Ï†êÏàò Í≥ÑÏÇ∞] Ìï≠Î™©: ${t}, ÏÇ¨Ï£º: ${e.fullSaju}`);const n=Ax[t]||[];if(n.length===0)return console.log(`[Í≤ΩÍ≥†] ${t} Ìï≠Î™©Ïù¥ Ïò§Ìñâ Îß§ÌïëÏóê ÏóÜÏùå - ÎûúÎç§ Ï†êÏàò ÏÇ¨Ïö©`),Math.floor(Math.random()*30)+40;console.log(`[Ïò§Ìñâ Îß§Ìïë] ${t} ‚Üí [${n.join(", ")}]`);const r=[];try{r.push(de[e.year.gan]),r.push(de[e.month.gan]),r.push(de[e.day.gan]),r.push(de[e.time.gan]),r.push(Ze[e.year.ji]),r.push(Ze[e.month.ji]),r.push(Ze[e.day.ji]),r.push(Ze[e.time.ji])}catch(u){return console.error("[Ïò§Ìñâ Î∂ÑÌè¨ Í≥ÑÏÇ∞ Ïò§Î•ò]",u),Math.floor(Math.random()*30)+40}n.forEach(u=>{const g=r.filter(f=>f===u).length;s+=g*5,r.forEach(f=>{Ka.ÏÉÅÏÉù[f]===u&&(s+=8),Ka.ÏÉÅÍ∑π[f]===u&&(s-=5)})});const i=B_(e.ohHaengBalance,n);s+=i;const o=de[e.day.gan];n.includes(o)&&(s+=10);const l=Math.max(20,Math.min(85,Math.round(s)));return console.log(`[ÏµúÏ¢Ö Ï†êÏàò] ${t}: ${l}Ï†ê (Í≥ÑÏÇ∞Í∞í: ${s})`),l}function B_(t,e){let s=0;return e.forEach(n=>{const r=t[n];r>=40&&r<=60?s+=5:r>=70?s+=8:r<=20&&(s-=3)}),s}function $_(){return{year:{gan:"Í∞ë",ji:"Ïûê"},month:{gan:"Î≥ë",ji:"Ïù∏"},day:{gan:"Î¨¥",ji:"ÏßÑ"},time:{gan:"Í≤Ω",ji:"Ïã†"},ohHaengBalance:{Î™©:30,Ìôî:25,ÌÜ†:20,Í∏à:15,Ïàò:10},fullSaju:"Í∞ëÏûê Î≥ëÏù∏ Î¨¥ÏßÑ Í≤ΩÏã†"}}const br={Í∞ë:"Í∏∞",ÏùÑ:"Í≤Ω",Î≥ë:"Ïã†",Ï†ï:"ÏûÑ",Î¨¥:"Í≥Ñ",Í∏∞:"Í∞ë",Í≤Ω:"ÏùÑ",Ïã†:"Î≥ë",ÏûÑ:"Ï†ï",Í≥Ñ:"Î¨¥"},Px={Ïù∏:["Ïò§","Ïà†"],Ïò§:["Ïù∏","Ïà†"],Ïà†:["Ïù∏","Ïò§"],Ïã†:["Ïûê","ÏßÑ"],Ïûê:["Ïã†","ÏßÑ"],ÏßÑ:["Ïã†","Ïûê"],Ìï¥:["Î¨ò","ÎØ∏"],Î¨ò:["Ìï¥","ÎØ∏"],ÎØ∏:["Ìï¥","Î¨ò"],ÏÇ¨:["Ïú†","Ï∂ï"],Ïú†:["ÏÇ¨","Ï∂ï"],Ï∂ï:["ÏÇ¨","Ïú†"]},qa={Ïûê:"Ï∂ï",Ï∂ï:"Ïûê",Ïù∏:"Ìï¥",Ìï¥:"Ïù∏",Î¨ò:"Ïà†",Ïà†:"Î¨ò",ÏßÑ:"Ïú†",Ïú†:"ÏßÑ",ÏÇ¨:"Ïã†",Ïã†:"ÏÇ¨",Ïò§:"ÎØ∏",ÎØ∏:"Ïò§"},yr={Ïûê:"Ïò§",Ïò§:"Ïûê",Ï∂ï:"ÎØ∏",ÎØ∏:"Ï∂ï",Ïù∏:"Ïã†",Ïã†:"Ïù∏",Î¨ò:"Ïú†",Ïú†:"Î¨ò",ÏßÑ:"Ïà†",Ïà†:"ÏßÑ",ÏÇ¨:"Ìï¥",Ìï¥:"ÏÇ¨"},Ja={Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"},vr={Î™©:"ÌÜ†",Ìôî:"Í∏à",ÌÜ†:"Ïàò",Í∏à:"Î™©",Ïàò:"Ìôî"};function V_(t,e){const s=H_(t),n=z_(t),r=U_(t),i=W_(t),o=Y_(s,n,r,i),l=[];new Date().getFullYear();for(let d=0;d<=95;d++){const h=e+d,m=Math.floor(d/10),u=G_(t,m),g=J_(t,h),f=X_(t,d);let x=o*.4+u*.3+g*.2+f*.1;x=Q_(x,d);const b=Z_(t,d);x+=b,x=Math.max(0,Math.min(100,x)),l.push(x)}const c=e8(l);return{baseScore:o,yearlyScores:l,pattern:c,keyCharacteristics:{elementBalance:s,dayMasterStrength:n,harmonyLevel:r,conflictLevel:i}}}function H_(t){const e={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};e[de[t.year.gan]]++,e[de[t.month.gan]]++,e[de[t.day.gan]]++,e[de[t.time.gan]]++,e[Ze[t.year.ji]]++,e[Ze[t.month.ji]]++,e[Ze[t.day.ji]]++,e[Ze[t.time.ji]]++;const s=Object.values(e),n=Math.max(...s),r=Math.min(...s),i=s.reduce((c,d)=>c+d)/s.length,o=s.reduce((c,d)=>c+Math.pow(d-i,2),0)/s.length;return Math.max(0,100-Math.sqrt(o)*25-(n-r)*10)}function z_(t){var c;const e=t.day.gan,s=de[e];let n=50;const r=[t.year.gan,t.month.gan,t.time.gan,t.year.ji,t.month.ji,t.day.ji,t.time.ji].filter(d=>de[d]===s||Ze[d]===s).length;n+=r*5;const i=(c=Object.entries(Ja).find(([d,h])=>h===s))==null?void 0:c[0];if(i){const d=[t.year.gan,t.month.gan,t.time.gan,t.year.ji,t.month.ji,t.day.ji,t.time.ji].filter(h=>de[h]===i||Ze[h]===i).length;n+=d*3}const o=vr[s],l=[t.year.gan,t.month.gan,t.time.gan,t.year.ji,t.month.ji,t.day.ji,t.time.ji].filter(d=>de[d]===o||Ze[d]===o).length;return n-=l*4,Math.max(0,Math.min(100,n))}function U_(t){let e=50;const s=[t.year.gan,t.month.gan,t.day.gan,t.time.gan];for(let r=0;r<s.length;r++)for(let i=r+1;i<s.length;i++)br[s[r]]===s[i]&&(e+=10);const n=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++)qa[n[r]]===n[i]&&(e+=8);for(const r of n){const i=Px[r];if(i){const o=i.filter(l=>n.includes(l)).length;e+=o*5}}return Math.min(100,e)}function W_(t){let e=0;const s=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(let r=0;r<s.length;r++)for(let i=r+1;i<s.length;i++)yr[s[r]]===s[i]&&(e+=15);const n=[de[t.year.gan],de[t.month.gan],de[t.day.gan],de[t.time.gan]];for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++)vr[n[r]]===n[i]&&(e+=10);return Math.min(100,e)}function Y_(t,e,s,n){const r=t*.3+e*.3+s*.25+(100-n)*.15;return Math.round(r)}function G_(t,e){const s=t.month.ji,n=t.day.gan,r=["Í∞ë","Î≥ë","Î¨¥","Í≤Ω","ÏûÑ"].includes(n),i=ks.indexOf(t.month.gan),o=Ns.indexOf(s);let l,c;r?(l=(i+e+1)%10,c=(o+e+1)%12):(l=(i-e-1+10)%10,c=(o-e-1+12)%12);const d=ks[l],h=Ns[c];let m=50;const u=de[t.day.gan],g=de[d];Ja[g]===u?m+=45:Ja[u]===g&&(m+=35),vr[g]===u?m-=50:vr[u]===g&&(m-=40),u===g&&(m+=10),(br[t.day.gan]===d||br[d]===t.day.gan)&&(m+=35),(yr[t.day.ji]===h||yr[h]===t.day.ji)&&(m-=25),(qa[t.day.ji]===h||qa[h]===t.day.ji)&&(m+=20);const f=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],x=Px[h];if(x){const j=x.filter(S=>f.includes(S)).length;m+=j*12}const b=K_(t,e,d,h);m+=b;const y=q_(s,h);return m+=y,Math.max(10,Math.min(90,m))}function K_(t,e,s,n){let r=0;const i=$c(t),o=[i%3+1,i%5+3,i%7+6];o.includes(e)&&(r=(i+e)%2===0?45:-45,e===o[0]&&(r*=1.5));const l=ks.indexOf(s)*12+Ns.indexOf(n);[13,27,41,55].includes(l)&&(r+=(i%3-1)*30);const d=Math.sin((e+i)*.7)*20;return r+=d,r}function q_(t,e){const s={Ïù∏:"Î¥Ñ",Î¨ò:"Î¥Ñ",ÏßÑ:"Î¥ÑÎßê",ÏÇ¨:"Ïó¨Î¶Ñ",Ïò§:"Ïó¨Î¶Ñ",ÎØ∏:"Ïó¨Î¶ÑÎßê",Ïã†:"Í∞ÄÏùÑ",Ïú†:"Í∞ÄÏùÑ",Ïà†:"Í∞ÄÏùÑÎßê",Ïûê:"Í≤®Ïö∏",Ï∂ï:"Í≤®Ïö∏Îßê",Ìï¥:"Í≤®Ïö∏"},n=s[t],r=s[e];return n===r?8:{Î¥Ñ:"Í∞ÄÏùÑ",Í∞ÄÏùÑ:"Î¥Ñ",Ïó¨Î¶Ñ:"Í≤®Ïö∏",Í≤®Ïö∏:"Ïó¨Î¶Ñ"}[n]===r?-5:0}function J_(t,e){const s=(e-4)%10,n=(e-4)%12,r=ks[s],i=Ns[n];let o=50;br[t.day.gan]===r&&(o+=15),qa[t.day.ji]===i&&(o+=12),yr[t.day.ji]===i&&(o-=18);const l=de[t.day.gan],c=de[r];return Ja[c]===l&&(o+=8),vr[c]===l&&(o-=12),Math.max(0,Math.min(100,o))}function X_(t,e){const s=$c(t),n=Math.sin(e*2*Math.PI/23)*15,r=Math.sin(e*2*Math.PI/28)*10,i=Math.sin(e*2*Math.PI/33)*8,o=Math.sin((e+s)*.15)*25+Math.cos((e+s*2)*.08)*15+Math.sin((e+s*3)*.3)*10,l=50+n+r+i+o;return Math.max(0,Math.min(100,l))}function $c(t){const e={Í∞ë:1,ÏùÑ:2,Î≥ë:3,Ï†ï:4,Î¨¥:5,Í∏∞:6,Í≤Ω:7,Ïã†:8,ÏûÑ:9,Í≥Ñ:10},s={Ïûê:1,Ï∂ï:2,Ïù∏:3,Î¨ò:4,ÏßÑ:5,ÏÇ¨:6,Ïò§:7,ÎØ∏:8,Ïã†:9,Ïú†:10,Ïà†:11,Ìï¥:12},n=((e[t.year.gan]-1)*12+(s[t.year.ji]-1))%60,r=((e[t.month.gan]-1)*12+(s[t.month.ji]-1))%60,i=((e[t.day.gan]-1)*12+(s[t.day.ji]-1))%60,o=((e[t.time.gan]-1)*12+(s[t.time.ji]-1))%60,l={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};[t.year.gan,t.month.gan,t.day.gan,t.time.gan].forEach(C=>{l[de[C]]++}),[t.year.ji,t.month.ji,t.day.ji,t.time.ji].forEach(C=>{l[Ze[C]]++});const c=Object.values(l),d=Math.max(...c),h=Math.min(...c),m=(d-h)*100;let u=0,g=0;const f=[t.year.gan,t.month.gan,t.day.gan,t.time.gan];for(let C=0;C<f.length;C++)for(let w=C+1;w<f.length;w++)br[f[C]]===f[w]&&(u+=(C+1)*(w+1)*10);const x=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(let C=0;C<x.length;C++)for(let w=C+1;w<x.length;w++)yr[x[C]]===x[w]&&(g+=(C+1)*(w+1)*15);de[t.day.gan];const b=e[t.day.gan]*s[t.day.ji]*5,y=t.month.ji,j=s[y]*7;return n*1e3+r*500+i*800+o*300+m*20+u*3+g*2+b+j*10}function Q_(t,e){return e<=10?t*.9+10:e<=20?t*1.1:e<=35?t*1.05:e<=55?t*.95+5:t*(1-(e-55)*.003)}function Z_(t,e){const s=$c(t),n=Math.sin((e+s*.1)*.3)*3,r=Math.cos((e+s*.2)*.5)*2,i=Math.sin(e*s*.01*.7)*1.5;return n+r+i}function e8(t){const e=t.reduce((c,d)=>c+d)/t.length,s=t.reduce((c,d)=>c+Math.pow(d-e,2),0)/t.length,n=Math.sqrt(s)/50,r=t.slice(0,48).reduce((c,d)=>c+d)/48,i=t.slice(48).reduce((c,d)=>c+d)/48;let o;i-r>10?o="ascending":r-i>10?o="descending":n>.5?o="cyclic":o="stable";let l="ÏïàÏ†ïÌòï";return n>.7?l="Í≤©Î≥ÄÌòï":n>.5?l="Î≥ÄÎèôÌòï":o==="ascending"?l="ÏÉÅÏäπÌòï":o==="descending"&&(l="ÌïòÍ∞ïÌòï"),{type:l,volatility:Math.min(1,n),trend:o}}const t8=Al("saju");async function s8(){try{console.log("üîÆ Î∞±ÏóîÎìú ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ ÏöîÏ≤≠...");const t=await fetch(`${t8}/categories`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();return console.log("‚úÖ ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ ÏàòÏã† ÏôÑÎ£å:",e),e}catch(t){throw console.error("‚ùå ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:",t),t}}function n8(t){const e=[];if(t.positive){const s=Object.entries(t.positive).map(([n,r])=>({id:n.toLowerCase().replace(/\s+/g,"_"),name:n,items:r.items.map((i,o)=>({id:`${n.toLowerCase()}_${o}`,name:i.name,baseScore:Math.round(i.weight*i.confidence)}))}));e.push({id:"juneung",name:"Ï£ºÎä•",icon:"‚ö°",description:"Îä•Î†•Í≥º Ïû†Ïû¨Î†• Î∂ÑÏÑù",subcategories:s})}if(t.negative){const s=Object.entries(t.negative).map(([n,r])=>({id:n.toLowerCase().replace(/\s+/g,"_"),name:n,items:r.items.map((i,o)=>({id:`${n.toLowerCase()}_${o}`,name:i.name,baseScore:Math.round((100-i.weight)*i.confidence)}))}));e.push({id:"juhyung",name:"Ï£ºÌùâ",icon:"‚ö†Ô∏è",description:"ÏúÑÌóòÍ≥º Ï£ºÏùòÏÇ¨Ìï≠ Î∂ÑÏÑù",subcategories:s})}return e}let vl=null,Rx=0;const r8=5*60*1e3;function a8(){return vl&&Date.now()-Rx<r8?(console.log("üíæ Ï∫êÏãúÎêú ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©"),vl):null}function i8(t){vl=t,Rx=Date.now(),console.log("üíæ ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ Ï∫êÏãú Ï†ÄÏû•")}async function o8(){const t=a8();if(t)return t;const e=await s8(),s=n8(e.data);return i8(s),s}let Lx=null;function yo(t){Lx=t}function p(t,e){try{const s=Lx||$_();return Dx(t,s)}catch{return e}}const us=[{id:"jubon",name:"Ï£ºÎ≥∏",icon:"üéØ",description:"Í∑ºÎ≥∏Î≥∏, ÏÑ±Ìñ•, ÏöïÏ†ï, Ï£ºÍ≤©, Ï£ºÏö¥ Î∂ÑÏÑù",subcategories:[{id:"geunbonbon",name:"Í∑ºÎ≥∏Î≥∏",items:[{id:"geunbon",name:"Í∑ºÎ≥∏",baseScore:p("Í∑ºÎ≥∏",75)},{id:"sago",name:"ÏÇ¨Í≥†",baseScore:p("ÏÇ¨Í≥†",70)},{id:"inyeon",name:"Ïù∏Ïó∞",baseScore:p("Ïù∏Ïó∞",65)},{id:"haengdong",name:"ÌñâÎèô",baseScore:p("ÌñâÎèô",72)},{id:"haengun",name:"ÌñâÏö¥",baseScore:p("ÌñâÏö¥",68)},{id:"hwangyeong",name:"ÌôòÍ≤Ω",baseScore:p("ÌôòÍ≤Ω",70)}]},{id:"seonghyang",name:"ÏÑ±Ìñ•",items:[{id:"gamseong",name:"Í∞êÏÑ±",baseScore:p("Í∞êÏÑ±",70)},{id:"nonriseong",name:"ÎÖºÎ¶¨ÏÑ±",baseScore:p("ÎÖºÎ¶¨ÏÑ±",68)},{id:"yesulseong",name:"ÏòàÏà†ÏÑ±",baseScore:p("ÏòàÏà†ÏÑ±",65)},{id:"iseong",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",72)},{id:"inseong",name:"Ïù∏ÏÑ±",baseScore:p("Ïù∏ÏÑ±",75)},{id:"jiseong",name:"ÏßÄÏÑ±",baseScore:p("ÏßÄÏÑ±",70)},{id:"hakseupseong",name:"ÌïôÏäµÏÑ±",baseScore:p("ÌïôÏäµÏÑ±",68)}]},{id:"yokjeong",name:"ÏöïÏ†ï",items:[{id:"gwonryeokyok",name:"Í∂åÎ†•Ïöï",baseScore:p("Í∂åÎ†•Ïöï",60)},{id:"gippeum",name:"Í∏∞ÏÅ®",baseScore:p("Í∏∞ÏÅ®",75)},{id:"noyeoum",name:"ÎÖ∏Ïó¨ÏõÄ",baseScore:p("ÎÖ∏Ïó¨ÏõÄ",45)},{id:"duryeoum",name:"ÎëêÎ†§ÏõÄ",baseScore:p("ÎëêÎ†§ÏõÄ",40)},{id:"myeongyeyok",name:"Î™ÖÏòàÏöï",baseScore:p("Î™ÖÏòàÏöï",65)},{id:"muryok",name:"Î¨ºÏöï",baseScore:p("Î¨ºÏöï",55)},{id:"mium",name:"ÎØ∏ÏõÄ",baseScore:p("ÎØ∏ÏõÄ",35)},{id:"saram",name:"ÏÇ¨Îûå",baseScore:p("ÏÇ¨Îûå",70)},{id:"saegyok",name:"ÏÉâÏöï",baseScore:p("ÏÉâÏöï",50)},{id:"soyuyok",name:"ÏÜåÏú†Ïöï",baseScore:p("ÏÜåÏú†Ïöï",60)},{id:"sumyeonyok",name:"ÏàòÎ©¥Ïöï",baseScore:p("ÏàòÎ©¥Ïöï",65)},{id:"seulpeum",name:"Ïä¨Ìîî",baseScore:p("Ïä¨Ìîî",45)},{id:"seungbuyok",name:"ÏäπÎ∂ÄÏöï",baseScore:p("ÏäπÎ∂ÄÏöï",70)},{id:"sigyok",name:"ÏãùÏöï",baseScore:p("ÏãùÏöï",60)},{id:"yoksim",name:"ÏöïÏã¨",baseScore:p("ÏöïÏã¨",55)},{id:"jeulgeoum",name:"Ï¶êÍ±∞ÏõÄ",baseScore:p("Ï¶êÍ±∞ÏõÄ",75)}]},{id:"jugak",name:"Ï£ºÍ≤©",items:[{id:"gaebangjeogin",name:"Í∞úÎ∞©Ï†Å",baseScore:p("Í∞úÎ∞©Ï†Å",70)},{id:"gyesanjeogin",name:"Í≥ÑÏÇ∞Ï†Å",baseScore:p("Í≥ÑÏÇ∞Ï†Å",65)},{id:"geungjeongjeeogin",name:"Í∏çÏ†ïÏ†Å",baseScore:p("Í∏çÏ†ïÏ†Å",75)},{id:"baetajeogin",name:"Î∞∞ÌÉÄÏ†Å",baseScore:p("Î∞∞ÌÉÄÏ†Å",45)},{id:"bujeongjeogin",name:"Î∂ÄÏ†ïÏ†Å",baseScore:p("Î∂ÄÏ†ïÏ†Å",40)},{id:"sagyojeogin",name:"ÏÇ¨ÍµêÏ†Å",baseScore:p("ÏÇ¨ÍµêÏ†Å",70)},{id:"igijeogin",name:"Ïù¥Í∏∞Ï†Å",baseScore:p("Ïù¥Í∏∞Ï†Å",50)},{id:"jinchwijeogin",name:"ÏßÑÏ∑®Ï†Å",baseScore:p("ÏßÑÏ∑®Ï†Å",72)},{id:"haprijeogin",name:"Ìï©Î¶¨Ï†Å",baseScore:p("Ìï©Î¶¨Ï†Å",75)},{id:"heuisaengjeogin",name:"Ìù¨ÏÉùÏ†Å",baseScore:p("Ìù¨ÏÉùÏ†Å",65)}]},{id:"juun",name:"Ï£ºÏö¥",items:[{id:"geongangun",name:"Í±¥Í∞ïÏö¥",baseScore:p("Í±¥Í∞ïÏö¥",70)},{id:"gyeolhonun",name:"Í≤∞ÌòºÏö¥",baseScore:p("Í≤∞ÌòºÏö¥",65)},{id:"gwonryeogun",name:"Í∂åÎ†•Ïö¥",baseScore:p("Í∂åÎ†•Ïö¥",60)},{id:"myeongyeun",name:"Î™ÖÏòàÏö¥",baseScore:p("Î™ÖÏòàÏö¥",62)},{id:"sagoun",name:"ÏÇ¨Í≥†Ïö¥",baseScore:p("ÏÇ¨Í≥†Ïö¥",45)},{id:"saeobun",name:"ÏÇ¨ÏóÖÏö¥",baseScore:p("ÏÇ¨ÏóÖÏö¥",68)},{id:"idongun",name:"Ïù¥ÎèôÏö¥",baseScore:p("Ïù¥ÎèôÏö¥",55)},{id:"ibyeorun",name:"Ïù¥Î≥ÑÏö¥",baseScore:p("Ïù¥Î≥ÑÏö¥",40)},{id:"inyeonun",name:"Ïù∏Ïó∞Ïö¥",baseScore:p("Ïù∏Ïó∞Ïö¥",72)},{id:"jasigun",name:"ÏûêÏãùÏö¥",baseScore:p("ÏûêÏãùÏö¥",65)},{id:"jaeneungun",name:"Ïû¨Îä•Ïö¥",baseScore:p("Ïû¨Îä•Ïö¥",70)},{id:"jaemorun",name:"Ïû¨Î¨ºÏö¥",baseScore:p("Ïû¨Î¨ºÏö¥",60)},{id:"josangun",name:"Ï°∞ÏÉÅÏö¥",baseScore:p("Ï°∞ÏÉÅÏö¥",58)},{id:"jigeobun",name:"ÏßÅÏóÖÏö¥",baseScore:p("ÏßÅÏóÖÏö¥",68)},{id:"jibangun",name:"ÏßëÏïàÏö¥",baseScore:p("ÏßëÏïàÏö¥",65)},{id:"hageobun",name:"ÌïôÏóÖÏö¥",baseScore:p("ÌïôÏóÖÏö¥",70)},{id:"haengunun",name:"ÌñâÏö¥Ïö¥",baseScore:p("ÌñâÏö¥Ïö¥",60)}]}]},{id:"jugeon",name:"Ï£ºÍ±¥",icon:"üí™",description:"ÎπÑÎßå, Ïã¨Î¶¨, Ïù∏Ï≤¥Í≥Ñ, Ï†ïÎ†•, ÏßàÌôò, Îáå Î∂ÑÏÑù",subcategories:[{id:"biman",name:"ÎπÑÎßå",items:[{id:"geongangsikpum",name:"Í±¥Í∞ïÏãùÌíà",baseScore:p("Í±¥Í∞ïÏãùÌíà",70)},{id:"gwanri",name:"Í¥ÄÎ¶¨",baseScore:p("Í¥ÄÎ¶¨",65)},{id:"dansik",name:"Îã®Ïãù",baseScore:p("Îã®Ïãù",50)},{id:"boyak",name:"Î≥¥ÏïΩ",baseScore:p("Î≥¥ÏïΩ",60)},{id:"sangdam",name:"ÏÉÅÎã¥",baseScore:p("ÏÉÅÎã¥",65)},{id:"sumyeon",name:"ÏàòÎ©¥",baseScore:p("ÏàòÎ©¥",70)},{id:"subun",name:"ÏàòÎ∂Ñ",baseScore:p("ÏàòÎ∂Ñ",75)},{id:"undong",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",68)},{id:"eumsik",name:"ÏùåÏãù",baseScore:p("ÏùåÏãù",65)},{id:"chehyeong",name:"Ï≤¥Ìòï",baseScore:p("Ï≤¥Ìòï",60)},{id:"chiryo",name:"ÏπòÎ£å",baseScore:p("ÏπòÎ£å",70)},{id:"keondisyeon",name:"Ïª®ÎîîÏÖò",baseScore:p("Ïª®ÎîîÏÖò",72)}]},{id:"simri",name:"Ïã¨Î¶¨",items:[{id:"galdeung",name:"Í∞àÎì±",baseScore:p("Í∞àÎì±",45)},{id:"gonoe",name:"Í≥†Îáå",baseScore:p("Í≥†Îáå",40)},{id:"nakgwan",name:"ÎÇôÍ¥Ä",baseScore:p("ÎÇôÍ¥Ä",75)},{id:"mugwansim",name:"Î¨¥Í¥ÄÏã¨",baseScore:p("Î¨¥Í¥ÄÏã¨",50)},{id:"buran",name:"Î∂àÏïà",baseScore:p("Î∂àÏïà",45)},{id:"sinjung",name:"Ïã†Ï§ë",baseScore:p("Ïã†Ï§ë",70)},{id:"uul",name:"Ïö∞Ïö∏",baseScore:p("Ïö∞Ïö∏",35)},{id:"uisim",name:"ÏùòÏã¨",baseScore:p("ÏùòÏã¨",50)},{id:"jiltu",name:"ÏßàÌà¨",baseScore:p("ÏßàÌà¨",40)},{id:"jjajeung",name:"ÏßúÏ¶ù",baseScore:p("ÏßúÏ¶ù",45)},{id:"hogisim",name:"Ìò∏Í∏∞Ïã¨",baseScore:p("Ìò∏Í∏∞Ïã¨",75)},{id:"heungbun",name:"Ìù•Î∂Ñ",baseScore:p("Ìù•Î∂Ñ",60)}]},{id:"inchegye",name:"Ïù∏Ï≤¥Í≥Ñ",items:[{id:"golgegyae",name:"Í≥®Í≤©Í≥Ñ",baseScore:p("Í≥®Í≤©Í≥Ñ",65)},{id:"geunukgye",name:"Í∑ºÏú°Í≥Ñ",baseScore:p("Í∑ºÏú°Í≥Ñ",68)},{id:"namsaengsiggye",name:"ÎÇ®ÏÉùÏãùÍ∏∞",baseScore:p("ÎÇ®ÏÉùÏãùÍ∏∞",60)},{id:"naebungye",name:"ÎÇ¥Î∂ÑÎπÑÍ≥Ñ",baseScore:p("ÎÇ¥Î∂ÑÎπÑÍ≥Ñ",70)},{id:"sohwagye",name:"ÏÜåÌôîÍ≥Ñ",baseScore:p("ÏÜåÌôîÍ≥Ñ",68)},{id:"sunhwangye",name:"ÏàúÌôòÍ≥Ñ",baseScore:p("ÏàúÌôòÍ≥Ñ",72)},{id:"singyeonggye",name:"Ïã†Í≤ΩÍ≥Ñ",baseScore:p("Ïã†Í≤ΩÍ≥Ñ",75)},{id:"oebungye",name:"Ïô∏Î∂ÑÎπÑÍ≥Ñ",baseScore:p("Ïô∏Î∂ÑÎπÑÍ≥Ñ",65)},{id:"oehyeonggye",name:"Ïô∏ÌòïÍ≥Ñ",baseScore:p("Ïô∏ÌòïÍ≥Ñ",60)},{id:"jeonsingye",name:"Ï†ïÏã†Í≥Ñ",baseScore:p("Ï†ïÏã†Í≥Ñ",70)},{id:"pibugye",name:"ÌîºÎ∂ÄÍ≥Ñ",baseScore:p("ÌîºÎ∂ÄÍ≥Ñ",65)},{id:"hoheupgye",name:"Ìò∏Ìù°Í≥Ñ",baseScore:p("Ìò∏Ìù°Í≥Ñ",72)}]},{id:"jeongryeok",name:"Ï†ïÎ†•",items:[{id:"dolbal",name:"ÎèåÎ∞ú",baseScore:p("ÎèåÎ∞ú",55)},{id:"sekseu",name:"ÏÑπÏä§",baseScore:p("ÏÑπÏä§",65)},{id:"seutemina",name:"Ïä§ÌÖåÎØ∏ÎÇò",baseScore:p("Ïä§ÌÖåÎØ∏ÎÇò",70)},{id:"oreugarijeum",name:"Ïò§Î•¥Í∞ÄÏ¶ò",baseScore:p("Ïò§Î•¥Í∞ÄÏ¶ò",60)},{id:"joyeol",name:"Ï°∞Ï†à",baseScore:p("Ï°∞Ï†à",68)},{id:"junbi",name:"Ï§ÄÎπÑ",baseScore:p("Ï§ÄÎπÑ",65)},{id:"chungdong",name:"Ï∂©Îèô",baseScore:p("Ï∂©Îèô",60)},{id:"taim",name:"ÌÉÄÏûÑ",baseScore:p("ÌÉÄÏûÑ",62)}]},{id:"jilhwan",name:"ÏßàÌôò",items:[{id:"gamyeomseong",name:"Í∞êÏóºÏÑ±ÏßàÌôò",baseScore:p("Í∞êÏóºÏÑ±ÏßàÌôò",40)},{id:"golsuseong",name:"Í≥®ÏàòÏÑ±ÌòàÏï°ÏßàÌôò",baseScore:p("Í≥®ÏàòÏÑ±ÌòàÏï°ÏßàÌôò",35)},{id:"gugangmit",name:"Íµ¨Í∞ïÎ∞èÏïÖÏïàÎ©¥Î≥ëÎ¶¨",baseScore:p("Íµ¨Í∞ïÎ∞èÏïÖÏïàÎ©¥Î≥ëÎ¶¨",45)},{id:"geungolggyae",name:"Í∑ºÍ≥®Í≤©Í≥ÑÏû•Ïï†",baseScore:p("Í∑ºÍ≥®Í≤©Í≥ÑÏû•Ïï†",50)},{id:"geunuk",name:"Í∑ºÏú°ÏßàÌôò",baseScore:p("Í∑ºÏú°ÏßàÌôò",45)},{id:"naebunbi",name:"ÎÇ¥Î∂ÑÎπÑÏßàÌôò",baseScore:p("ÎÇ¥Î∂ÑÎπÑÏßàÌôò",40)},{id:"noejilhwan",name:"ÎáåÏßàÌôò",baseScore:p("ÎáåÏßàÌôò",35)},{id:"rimpeu",name:"Î¶ºÌîÑÍ≥ÑÎ©¥Ïó≠Ïû•Ïï†",baseScore:p("Î¶ºÌîÑÍ≥ÑÎ©¥Ïó≠Ïû•Ïï†",40)},{id:"manseong",name:"ÎßåÏÑ±ÌîºÎ°ú",baseScore:p("ÎßåÏÑ±ÌîºÎ°ú",50)},{id:"binyugi",name:"ÎπÑÎá®Í∏∞Í≥ÑÏßàÌôò",baseScore:p("ÎπÑÎá®Í∏∞Í≥ÑÏßàÌôò",45)},{id:"biman_jilhwan",name:"ÎπÑÎßåÏßàÌôò",baseScore:p("ÎπÑÎßåÏßàÌôò",40)},{id:"ppyeogol",name:"ÎºàÍ≥®Ï†àÏßàÌôò",baseScore:p("ÎºàÍ≥®Ï†àÏßàÌôò",35)},{id:"saengsiggye",name:"ÏÉùÏãùÍ∏∞ÏßàÌôò",baseScore:p("ÏÉùÏãùÍ∏∞ÏßàÌôò",40)},{id:"seoncheonseong",name:"ÏÑ†Ï≤úÏÑ±ÏßàÌôò",baseScore:p("ÏÑ†Ï≤úÏÑ±ÏßàÌôò",30)},{id:"sohwa",name:"ÏÜåÌôîÏßàÌôò",baseScore:p("ÏÜåÌôîÏßàÌôò",45)},{id:"sunhwan",name:"ÏàúÌôòÏßàÌôò",baseScore:p("ÏàúÌôòÏßàÌôò",40)},{id:"singyeonggye_jilhwan",name:"Ïã†Í≤ΩÍ≥ÑÏßàÌôò",baseScore:p("Ïã†Í≤ΩÍ≥ÑÏßàÌôò",35)},{id:"simhyeolgwan",name:"Ïã¨ÌòàÍ¥ÄÏßàÌôò",baseScore:p("Ïã¨ÌòàÍ¥ÄÏßàÌôò",40)},{id:"angwa",name:"ÏïàÍ≥ºÏßàÌôò",baseScore:p("ÏïàÍ≥ºÏßàÌôò",50)},{id:"am",name:"Ïïî",baseScore:p("Ïïî",25)},{id:"janggi",name:"Ïû•Í∏∞ÏßàÌôò",baseScore:p("Ïû•Í∏∞ÏßàÌôò",40)},{id:"jeongsin",name:"Ï†ïÏã†Ïû•Ïï†",baseScore:p("Ï†ïÏã†Ïû•Ïï†",35)},{id:"jeunghugun",name:"Ï¶ùÌõÑÍµ∞",baseScore:p("Ï¶ùÌõÑÍµ∞",40)},{id:"taae",name:"ÌÉúÏïÑÏßàÌôò",baseScore:p("ÌÉúÏïÑÏßàÌôò",30)},{id:"pibu",name:"ÌîºÎ∂ÄÏßàÌôò",baseScore:p("ÌîºÎ∂ÄÏßàÌôò",50)},{id:"horumon",name:"Ìò∏Î•¥Î™¨ÏßàÌôò",baseScore:p("Ìò∏Î•¥Î™¨ÏßàÌôò",40)},{id:"hoheup",name:"Ìò∏Ìù°ÏßàÌôò",baseScore:p("Ìò∏Ìù°ÏßàÌôò",45)}]},{id:"noe",name:"Îáå",items:[{id:"gannoe",name:"Í∞ÑÎáå",baseScore:p("Í∞ÑÎáå",65)},{id:"noehasuche",name:"ÎáåÌïòÏàòÏ≤¥",baseScore:p("ÎáåÌïòÏàòÏ≤¥",68)},{id:"daenoe",name:"ÎåÄÎáå",baseScore:p("ÎåÄÎáå",75)},{id:"duchungeop",name:"ÎëêÏ∂©ÏóΩ",baseScore:p("ÎëêÏ∂©ÏóΩ",60)},{id:"byeongyeongeop",name:"Î≥ÄÏó∞ÏóΩ",baseScore:p("Î≥ÄÏó∞ÏóΩ",62)},{id:"sonoe",name:"ÏÜåÎáå",baseScore:p("ÏÜåÎáå",70)},{id:"sisang",name:"ÏãúÏÉÅ",baseScore:p("ÏãúÏÉÅ",65)},{id:"sisanghabu",name:"ÏãúÏÉÅÌïòÎ∂Ä",baseScore:p("ÏãúÏÉÅÌïòÎ∂Ä",68)},{id:"yeonsu",name:"Ïó∞Ïàò",baseScore:p("Ïó∞Ïàò",72)},{id:"jeondueop",name:"Ï†ÑÎëêÏóΩ",baseScore:p("Ï†ÑÎëêÏóΩ",75)},{id:"jeoneop",name:"Ï†ÑÏóΩ",baseScore:p("Ï†ÑÏóΩ",70)},{id:"jungnoe",name:"Ï§ëÎáå",baseScore:p("Ï§ëÎáå",68)},{id:"jungeop",name:"Ï§ëÏóΩ",baseScore:p("Ï§ëÏóΩ",65)},{id:"cheoksu",name:"Ï≤ôÏàò",baseScore:p("Ï≤ôÏàò",60)},{id:"cheukdueop",name:"Ï∏°ÎëêÏóΩ",baseScore:p("Ï∏°ÎëêÏóΩ",70)},{id:"hutueop",name:"ÌõÑÌà¨ÏóΩ",baseScore:p("ÌõÑÌà¨ÏóΩ",65)},{id:"hueop",name:"ÌõÑÏóΩ",baseScore:p("ÌõÑÏóΩ",68)}]}]},{id:"jumul",name:"Ï£ºÎ¨º",icon:"üí∞",description:"Î∂ÄÎèôÏÇ∞, Ïû¨Î¨º, Ìà¨Ïûê Î∂ÑÏÑù",subcategories:[{id:"budongsan",name:"Î∂ÄÎèôÏÇ∞",items:[{id:"geonmul",name:"Í±¥Î¨º",baseScore:p("Í±¥Î¨º",65)},{id:"gongjang",name:"Í≥µÏû•",baseScore:p("Í≥µÏû•",60)},{id:"dagagu",name:"Îã§Í∞ÄÍµ¨",baseScore:p("Îã§Í∞ÄÍµ¨",62)},{id:"budongsan_item",name:"Î∂ÄÎèôÏÇ∞",baseScore:p("Î∂ÄÎèôÏÇ∞",70)},{id:"dasedae",name:"Îã§ÏÑ∏ÎåÄ",baseScore:p("Îã§ÏÑ∏ÎåÄ",63)},{id:"dandok",name:"Îã®ÎèÖ",baseScore:p("Îã®ÎèÖ",68)},{id:"daeji",name:"ÎåÄÏßÄ",baseScore:p("ÎåÄÏßÄ",65)},{id:"sangga",name:"ÏÉÅÍ∞Ä",baseScore:p("ÏÉÅÍ∞Ä",72)},{id:"apateu",name:"ÏïÑÌååÌä∏",baseScore:p("ÏïÑÌååÌä∏",75)},{id:"yeonrip",name:"Ïó∞Î¶Ω",baseScore:p("Ïó∞Î¶Ω",60)},{id:"opiseu",name:"Ïò§ÌîºÏä§",baseScore:p("Ïò§ÌîºÏä§",70)},{id:"jusangbokhap",name:"Ï£ºÏÉÅÎ≥µÌï©",baseScore:p("Ï£ºÏÉÅÎ≥µÌï©",68)},{id:"jutaek",name:"Ï£ºÌÉù",baseScore:p("Ï£ºÌÉù",67)}]},{id:"jaemul",name:"Ïû¨Î¨º",items:[{id:"daeyeo",name:"ÎåÄÏó¨",baseScore:p("ÎåÄÏó¨",55)},{id:"dongsan",name:"ÎèôÏÇ∞",baseScore:p("ÎèôÏÇ∞",60)},{id:"budongsan_jaemul",name:"Î∂ÄÎèôÏÇ∞",baseScore:p("Î∂ÄÎèôÏÇ∞",70)},{id:"saeop",name:"ÏÇ¨ÏóÖ",baseScore:p("ÏÇ¨ÏóÖ",65)},{id:"jusik",name:"Ï£ºÏãù",baseScore:p("Ï£ºÏãù",62)},{id:"chaegwon",name:"Ï±ÑÍ∂å",baseScore:p("Ï±ÑÍ∂å",58)},{id:"tuja",name:"Ìà¨Ïûê",baseScore:p("Ìà¨Ïûê",60)},{id:"peondeu",name:"ÌéÄÎìú",baseScore:p("ÌéÄÎìú",57)},{id:"hyeongeum",name:"ÌòÑÍ∏à",baseScore:p("ÌòÑÍ∏à",75)}]},{id:"tuja_jumul",name:"Ìà¨Ïûê",items:[{id:"daeyeo_tuja",name:"ÎåÄÏó¨",baseScore:p("ÎåÄÏó¨",55)},{id:"dongsan_tuja",name:"ÎèôÏÇ∞",baseScore:p("ÎèôÏÇ∞",58)},{id:"budongsan_tuja",name:"Î∂ÄÎèôÏÇ∞",baseScore:p("Î∂ÄÎèôÏÇ∞",70)},{id:"jusik_tuja",name:"Ï£ºÏãù",baseScore:p("Ï£ºÏãù",65)},{id:"chaegwon_tuja",name:"Ï±ÑÍ∂å",baseScore:p("Ï±ÑÍ∂å",60)},{id:"peondeu_tuja",name:"ÌéÄÎìú",baseScore:p("ÌéÄÎìú",58)},{id:"gisul",name:"Í∏∞Ïà†",baseScore:p("Í∏∞Ïà†",68)},{id:"bangsong",name:"Î∞©ÏÜ°",baseScore:p("Î∞©ÏÜ°",62)},{id:"seonmul",name:"ÏÑ†Î¨º",baseScore:p("ÏÑ†Î¨º",55)},{id:"yeneung",name:"ÏòàÎä•",baseScore:p("ÏòàÎä•",60)},{id:"inryeok",name:"Ïù∏Î†•",baseScore:p("Ïù∏Î†•",63)},{id:"jepum",name:"Ï†úÌíà",baseScore:p("Ï†úÌíà",65)}]}]},{id:"juyeon",name:"Ï£ºÏó∞",icon:"ü§ù",description:"Ïô∏Í∞Ä, Ïù¥ÏÑ±, Ïù∏Ïó∞, ÏÑ†Î∞∞, ÏπúÍ∞Ä, ÏπúÍµ¨, ÌõÑÎ∞∞, Í∞ÄÏ†ï, Í∞ÄÏ°± Î∂ÑÏÑù",subcategories:[{id:"oega",name:"Ïô∏Í∞Ä",items:[{id:"oesachon",name:"Ïô∏ÏÇ¨Ï¥å",baseScore:p("Ïô∏ÏÇ¨Ï¥å",65)},{id:"oesamchon",name:"Ïô∏ÏÇºÏ¥å",baseScore:p("Ïô∏ÏÇºÏ¥å",70)},{id:"oesukmo",name:"Ïô∏ÏàôÎ™®",baseScore:p("Ïô∏ÏàôÎ™®",68)},{id:"oejomo",name:"Ïô∏Ï°∞Î™®",baseScore:p("Ïô∏Ï°∞Î™®",75)},{id:"oejobu",name:"Ïô∏Ï°∞Î∂Ä",baseScore:p("Ïô∏Ï°∞Î∂Ä",72)},{id:"oejoka",name:"Ïô∏Ï°∞Ïπ¥",baseScore:p("Ïô∏Ï°∞Ïπ¥",60)},{id:"oejongomo",name:"Ïô∏Ï¢ÖÏ°∞Î™®",baseScore:p("Ïô∏Ï¢ÖÏ°∞Î™®",65)},{id:"oejongjobu",name:"Ïô∏Ï¢ÖÏ°∞Î∂Ä",baseScore:p("Ïô∏Ï¢ÖÏ°∞Î∂Ä",68)},{id:"imo",name:"Ïù¥Î™®",baseScore:p("Ïù¥Î™®",70)},{id:"imobu",name:"Ïù¥Î™®Î∂Ä",baseScore:p("Ïù¥Î™®Î∂Ä",65)}]},{id:"iseong",name:"Ïù¥ÏÑ±",items:[{id:"gohyangiseong",name:"Í≥†Ìñ•Ïù¥ÏÑ±",baseScore:p("Í≥†Ìñ•Ïù¥ÏÑ±",60)},{id:"dandaeiseong",name:"Îã®Ï≤¥Ïù¥ÏÑ±",baseScore:p("Îã®Ï≤¥Ïù¥ÏÑ±",65)},{id:"dongneiseong",name:"ÎèôÎÑ§Ïù¥ÏÑ±",baseScore:p("ÎèôÎÑ§Ïù¥ÏÑ±",68)},{id:"dongmuniseong",name:"ÎèôÎ¨∏Ïù¥ÏÑ±",baseScore:p("ÎèôÎ¨∏Ïù¥ÏÑ±",70)},{id:"moimiseong",name:"Î™®ÏûÑÏù¥ÏÑ±",baseScore:p("Î™®ÏûÑÏù¥ÏÑ±",65)},{id:"hoesaiseong",name:"ÌöåÏÇ¨Ïù¥ÏÑ±",baseScore:p("ÌöåÏÇ¨Ïù¥ÏÑ±",72)}]},{id:"inyeon",name:"Ïù∏Ïó∞",items:[{id:"iseong_inyeon",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",70)},{id:"baeuja",name:"Î∞∞Ïö∞Ïûê",baseScore:p("Î∞∞Ïö∞Ïûê",75)},{id:"gajok",name:"Í∞ÄÏ°±",baseScore:p("Í∞ÄÏ°±",80)},{id:"guin",name:"Í∑ÄÏù∏",baseScore:p("Í∑ÄÏù∏",65)},{id:"dongryo",name:"ÎèôÎ£å",baseScore:p("ÎèôÎ£å",68)},{id:"dongmun",name:"ÎèôÎ¨∏",baseScore:p("ÎèôÎ¨∏",65)},{id:"donghyang",name:"ÎèôÌñ•",baseScore:p("ÎèôÌñ•",60)},{id:"seonbae_inyeon",name:"ÏÑ†Î∞∞",baseScore:p("ÏÑ†Î∞∞",70)},{id:"seuseung",name:"Ïä§Ïäπ",baseScore:p("Ïä§Ïäπ",72)},{id:"aein",name:"Ïï†Ïù∏",baseScore:p("Ïï†Ïù∏",75)},{id:"oega_inyeon",name:"Ïô∏Í∞Ä",baseScore:p("Ïô∏Í∞Ä",68)},{id:"chinga_inyeon",name:"ÏπúÍ∞Ä",baseScore:p("ÏπúÍ∞Ä",70)}]},{id:"seonbae",name:"ÏÑ†Î∞∞",items:[{id:"gohyangseonbae",name:"Í≥†Ìñ•ÏÑ†Î∞∞",baseScore:p("Í≥†Ìñ•ÏÑ†Î∞∞",65)},{id:"dandaeseonbae",name:"Îã®Ï≤¥ÏÑ†Î∞∞",baseScore:p("Îã®Ï≤¥ÏÑ†Î∞∞",68)},{id:"dongneseonbae",name:"ÎèôÎÑ§ÏÑ†Î∞∞",baseScore:p("ÎèôÎÑ§ÏÑ†Î∞∞",60)},{id:"dongmunseonbae",name:"ÎèôÎ¨∏ÏÑ†Î∞∞",baseScore:p("ÎèôÎ¨∏ÏÑ†Î∞∞",70)},{id:"moimseonbae",name:"Î™®ÏûÑÏÑ†Î∞∞",baseScore:p("Î™®ÏûÑÏÑ†Î∞∞",65)},{id:"iseongseonbae",name:"Ïù¥ÏÑ±ÏÑ†Î∞∞",baseScore:p("Ïù¥ÏÑ±ÏÑ†Î∞∞",68)},{id:"hoesaseonbae",name:"ÌöåÏÇ¨ÏÑ†Î∞∞",baseScore:p("ÌöåÏÇ¨ÏÑ†Î∞∞",75)}]},{id:"chinga",name:"ÏπúÍ∞Ä",items:[{id:"gomo",name:"Í≥†Î™®",baseScore:p("Í≥†Î™®",68)},{id:"gomobu",name:"Í≥†Î™®Î∂Ä",baseScore:p("Í≥†Î™®Î∂Ä",65)},{id:"baekmo",name:"Î∞±Î™®",baseScore:p("Î∞±Î™®",70)},{id:"baekbu",name:"Î∞±Î∂Ä",baseScore:p("Î∞±Î∂Ä",72)},{id:"sachon",name:"ÏÇ¨Ï¥å",baseScore:p("ÏÇ¨Ï¥å",65)},{id:"samchon",name:"ÏÇºÏ¥å",baseScore:p("ÏÇºÏ¥å",70)},{id:"sukmo",name:"ÏàôÎ™®",baseScore:p("ÏàôÎ™®",68)},{id:"jomo",name:"Ï°∞Î™®",baseScore:p("Ï°∞Î™®",75)},{id:"jobu",name:"Ï°∞Î∂Ä",baseScore:p("Ï°∞Î∂Ä",72)},{id:"joka",name:"Ï°∞Ïπ¥",baseScore:p("Ï°∞Ïπ¥",60)},{id:"jeungjomo",name:"Ï¶ùÏ°∞Î™®",baseScore:p("Ï¶ùÏ°∞Î™®",65)},{id:"jeungjobu",name:"Ï¶ùÏ°∞Î∂Ä",baseScore:p("Ï¶ùÏ°∞Î∂Ä",68)}]},{id:"chingu",name:"ÏπúÍµ¨",items:[{id:"gohyangchingu",name:"Í≥†Ìñ•ÏπúÍµ¨",baseScore:p("Í≥†Ìñ•ÏπúÍµ¨",65)},{id:"dandaechingu",name:"Îã®Ï≤¥ÏπúÍµ¨",baseScore:p("Îã®Ï≤¥ÏπúÍµ¨",68)},{id:"dongnechingu",name:"ÎèôÎÑ§ÏπúÍµ¨",baseScore:p("ÎèôÎÑ§ÏπúÍµ¨",70)},{id:"dongmunchingu",name:"ÎèôÎ¨∏ÏπúÍµ¨",baseScore:p("ÎèôÎ¨∏ÏπúÍµ¨",72)},{id:"moimchingu",name:"Î™®ÏûÑÏπúÍµ¨",baseScore:p("Î™®ÏûÑÏπúÍµ¨",65)},{id:"iseongchingu",name:"Ïù¥ÏÑ±ÏπúÍµ¨",baseScore:p("Ïù¥ÏÑ±ÏπúÍµ¨",75)},{id:"hoesachingu",name:"ÌöåÏÇ¨ÏπúÍµ¨",baseScore:p("ÌöåÏÇ¨ÏπúÍµ¨",68)}]},{id:"hubae",name:"ÌõÑÎ∞∞",items:[{id:"gohyanghubae",name:"Í≥†Ìñ•ÌõÑÎ∞∞",baseScore:p("Í≥†Ìñ•ÌõÑÎ∞∞",60)},{id:"dandaehubae",name:"Îã®Ï≤¥ÌõÑÎ∞∞",baseScore:p("Îã®Ï≤¥ÌõÑÎ∞∞",65)},{id:"dongnehubae",name:"ÎèôÎÑ§ÌõÑÎ∞∞",baseScore:p("ÎèôÎÑ§ÌõÑÎ∞∞",62)},{id:"dongmunhubae",name:"ÎèôÎ¨∏ÌõÑÎ∞∞",baseScore:p("ÎèôÎ¨∏ÌõÑÎ∞∞",68)},{id:"moimhubae",name:"Î™®ÏûÑÌõÑÎ∞∞",baseScore:p("Î™®ÏûÑÌõÑÎ∞∞",60)},{id:"iseonghubae",name:"Ïù¥ÏÑ±ÌõÑÎ∞∞",baseScore:p("Ïù¥ÏÑ±ÌõÑÎ∞∞",65)},{id:"hoesahubae",name:"ÌöåÏÇ¨ÌõÑÎ∞∞",baseScore:p("ÌöåÏÇ¨ÌõÑÎ∞∞",70)}]},{id:"gajeong",name:"Í∞ÄÏ†ï",items:[{id:"ttal",name:"Îî∏",baseScore:p("Îî∏",75)},{id:"baeuja_gajeong",name:"Î∞∞Ïö∞Ïûê",baseScore:p("Î∞∞Ïö∞Ïûê",80)},{id:"adeul",name:"ÏïÑÎì§",baseScore:p("ÏïÑÎì§",75)}]},{id:"gajok_juyeon",name:"Í∞ÄÏ°±",items:[{id:"nuna",name:"ÎàÑÎÇò",baseScore:p("ÎàÑÎÇò",68)},{id:"dongsaeng",name:"ÎèôÏÉù",baseScore:p("ÎèôÏÉù",65)},{id:"abeoji",name:"ÏïÑÎ≤ÑÏßÄ",baseScore:p("ÏïÑÎ≤ÑÏßÄ",78)},{id:"eomeoni",name:"Ïñ¥Î®∏Îãà",baseScore:p("Ïñ¥Î®∏Îãà",80)},{id:"halmeoni",name:"Ìï†Î®∏Îãà",baseScore:p("Ìï†Î®∏Îãà",72)},{id:"harabeoji",name:"Ìï†ÏïÑÎ≤ÑÏßÄ",baseScore:p("Ìï†ÏïÑÎ≤ÑÏßÄ",70)},{id:"hyeong",name:"Ìòï",baseScore:p("Ìòï",68)}]}]},{id:"jujae",name:"Ï£ºÏû¨",icon:"üé®",description:"ÎÖºÎ¶¨, ÏòàÏà†, ÌïôÏäµ Î∂ÑÏÑù",subcategories:[{id:"nonri",name:"ÎÖºÎ¶¨",items:[{id:"undong",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",65)},{id:"gamgak",name:"Í∞êÍ∞Å",baseScore:p("Í∞êÍ∞Å",70)},{id:"gaenyeom",name:"Í∞úÎÖê",baseScore:p("Í∞úÎÖê",72)},{id:"gieok",name:"Í∏∞Ïñµ",baseScore:p("Í∏∞Ïñµ",68)},{id:"nonri_item",name:"ÎÖºÎ¶¨",baseScore:p("ÎÖºÎ¶¨",75)},{id:"migak",name:"ÎØ∏Í∞Å",baseScore:p("ÎØ∏Í∞Å",60)},{id:"bunseok",name:"Î∂ÑÏÑù",baseScore:p("Î∂ÑÏÑù",75)},{id:"suri",name:"ÏàòÎ¶¨",baseScore:p("ÏàòÎ¶¨",70)},{id:"sigak",name:"ÏãúÍ∞Å",baseScore:p("ÏãúÍ∞Å",68)},{id:"eohi",name:"Ïñ¥Ìúò",baseScore:p("Ïñ¥Ìúò",72)},{id:"eoneo",name:"Ïñ∏Ïñ¥",baseScore:p("Ïñ∏Ïñ¥",75)},{id:"yeonsan",name:"Ïó∞ÏÇ∞",baseScore:p("Ïó∞ÏÇ∞",70)},{id:"ihae",name:"Ïù¥Ìï¥",baseScore:p("Ïù¥Ìï¥",75)},{id:"insik",name:"Ïù∏Ïãù",baseScore:p("Ïù∏Ïãù",72)},{id:"inji",name:"Ïù∏ÏßÄ",baseScore:p("Ïù∏ÏßÄ",70)},{id:"jeonryak",name:"Ï†ÑÎûµ",baseScore:p("Ï†ÑÎûµ",68)},{id:"jinhaeng",name:"ÏßÑÌñâ",baseScore:p("ÏßÑÌñâ",65)},{id:"jipjung",name:"ÏßëÏ§ë",baseScore:p("ÏßëÏ§ë",72)},{id:"cheonggak",name:"Ï≤≠Í∞Å",baseScore:p("Ï≤≠Í∞Å",68)},{id:"tongje",name:"ÌÜµÏ†ú",baseScore:p("ÌÜµÏ†ú",65)},{id:"pyeonghaeng",name:"ÌèâÌñâ",baseScore:p("ÌèâÌñâ",60)},{id:"hakseup_nonri",name:"ÌïôÏäµ",baseScore:p("ÌïôÏäµ",75)},{id:"hoheup_nonri",name:"Ìò∏Ìù°",baseScore:p("Ìò∏Ìù°",65)},{id:"hwasul",name:"ÌôîÏà†",baseScore:p("ÌôîÏà†",70)}]},{id:"yesul",name:"ÏòàÏà†",items:[{id:"sumyeon_yesul",name:"ÏàòÎ©¥",baseScore:p("ÏàòÎ©¥",65)},{id:"joyeol_yesul",name:"Ï°∞Ï†à",baseScore:p("Ï°∞Ï†à",68)},{id:"chungdong_yesul",name:"Ï∂©Îèô",baseScore:p("Ï∂©Îèô",60)},{id:"geim",name:"Í≤åÏûÑ",baseScore:p("Í≤åÏûÑ",70)},{id:"muyong",name:"Î¨¥Ïö©",baseScore:p("Î¨¥Ïö©",65)},{id:"misul",name:"ÎØ∏Ïà†",baseScore:p("ÎØ∏Ïà†",70)},{id:"banbok",name:"Î∞òÎ≥µ",baseScore:p("Î∞òÎ≥µ",62)},{id:"byeonhwa",name:"Î≥ÄÌôî",baseScore:p("Î≥ÄÌôî",75)},{id:"bijeon",name:"ÎπÑÏ†º",baseScore:p("ÎπÑÏ†º",68)},{id:"sangsang",name:"ÏÉÅÏÉÅ",baseScore:p("ÏÉÅÏÉÅ",75)},{id:"saeksang",name:"ÏÉâÏÉÅ",baseScore:p("ÏÉâÏÉÅ",68)},{id:"saenggak",name:"ÏÉùÍ∞Å",baseScore:p("ÏÉùÍ∞Å",72)},{id:"yeonye",name:"Ïó∞Ïòà",baseScore:p("Ïó∞Ïòà",60)},{id:"yeoljeong",name:"Ïó¥Ï†ï",baseScore:p("Ïó¥Ï†ï",75)},{id:"yuhok",name:"Ïú†Ìòπ",baseScore:p("Ïú†Ìòπ",55)},{id:"eumak",name:"ÏùåÏïÖ",baseScore:p("ÏùåÏïÖ",70)},{id:"jageuk",name:"ÏûêÍ∑π",baseScore:p("ÏûêÍ∑π",65)},{id:"jeontal",name:"Ï†ÑÎã¨",baseScore:p("Ï†ÑÎã¨",70)},{id:"jejak",name:"Ï†úÏûë",baseScore:p("Ï†úÏûë",68)},{id:"jungdok",name:"Ï§ëÎèÖ",baseScore:p("Ï§ëÎèÖ",50)},{id:"changjak",name:"Ï∞ΩÏûë",baseScore:p("Ï∞ΩÏûë",75)},{id:"chegye",name:"Ï≤¥Í≥Ñ",baseScore:p("Ï≤¥Í≥Ñ",65)},{id:"hyeongsang",name:"ÌòïÏÉÅ",baseScore:p("ÌòïÏÉÅ",70)},{id:"hwaldong_yesul",name:"ÌôúÎèô",baseScore:p("ÌôúÎèô",72)}]},{id:"hakseup",name:"ÌïôÏäµ",items:[{id:"nonri_hakseup",name:"ÎÖºÎ¶¨",baseScore:p("ÎÖºÎ¶¨",75)},{id:"bunseok_hakseup",name:"Î∂ÑÏÑù",baseScore:p("Î∂ÑÏÑù",72)},{id:"suri_hakseup",name:"ÏàòÎ¶¨",baseScore:p("ÏàòÎ¶¨",70)},{id:"eoneo_hakseup",name:"Ïñ∏Ïñ¥",baseScore:p("Ïñ∏Ïñ¥",75)},{id:"ihae_hakseup",name:"Ïù¥Ìï¥",baseScore:p("Ïù¥Ìï¥",75)},{id:"jipjung_hakseup",name:"ÏßëÏ§ë",baseScore:p("ÏßëÏ§ë",70)},{id:"changjak_hakseup",name:"Ï∞ΩÏûë",baseScore:p("Ï∞ΩÏûë",68)},{id:"gyesan",name:"Í≥ÑÏÇ∞",baseScore:p("Í≥ÑÏÇ∞",70)},{id:"dohyeong",name:"ÎèÑÌòï",baseScore:p("ÎèÑÌòï",65)},{id:"mobang",name:"Î™®Î∞©",baseScore:p("Î™®Î∞©",60)},{id:"munjang",name:"Î¨∏Ïû•",baseScore:p("Î¨∏Ïû•",72)},{id:"bokseup",name:"Î≥µÏäµ",baseScore:p("Î≥µÏäµ",70)},{id:"bunbae",name:"Î∂ÑÎ∞∞",baseScore:p("Î∂ÑÎ∞∞",65)},{id:"seontaek",name:"ÏÑ†ÌÉù",baseScore:p("ÏÑ†ÌÉù",68)},{id:"sigan",name:"ÏãúÍ∞Ñ",baseScore:p("ÏãúÍ∞Ñ",65)},{id:"amgi",name:"ÏïîÍ∏∞",baseScore:p("ÏïîÍ∏∞",68)},{id:"yeseup",name:"ÏòàÏäµ",baseScore:p("ÏòàÏäµ",70)},{id:"yuchu",name:"Ïú†Ï∂î",baseScore:p("Ïú†Ï∂î",72)},{id:"eungyong",name:"ÏùëÏö©",baseScore:p("ÏùëÏö©",75)},{id:"jeongni",name:"Ï†ïÎ¶¨",baseScore:p("Ï†ïÎ¶¨",68)},{id:"jiri",name:"ÏßÄÎ¶¨",baseScore:p("ÏßÄÎ¶¨",60)},{id:"pandoan",name:"ÌåêÎã®",baseScore:p("ÌåêÎã®",72)},{id:"puri",name:"ÌíÄÏù¥",baseScore:p("ÌíÄÏù¥",70)},{id:"haeseok",name:"Ìï¥ÏÑù",baseScore:p("Ìï¥ÏÑù",72)}]}]},{id:"jueop",name:"Ï£ºÏóÖ",icon:"üíº",description:"Îä•Î†•, ÏÑ±Ìñ•, ÏóÖÎ¨¥, ÏóÖÏ¢Ö, ÏßÅÏóÖ Î∂ÑÏÑù",subcategories:[{id:"neungryeok",name:"Îä•Î†•",items:[{id:"gaebalryeok",name:"Í∞úÎ∞úÎ†•",baseScore:p("Í∞úÎ∞úÎ†•",70)},{id:"gaejoryeok",name:"Í∞úÏ°∞Î†•",baseScore:p("Í∞úÏ°∞Î†•",65)},{id:"gamsuryeok",name:"Í∞êÏàòÎ†•",baseScore:p("Í∞êÏàòÎ†•",60)},{id:"gyesanryeok",name:"Í≥ÑÏÇ∞Î†•",baseScore:p("Í≥ÑÏÇ∞Î†•",70)},{id:"gwangyeryeok",name:"Í¥ÄÍ≥ÑÎ†•",baseScore:p("Í¥ÄÍ≥ÑÎ†•",72)},{id:"gwanriryeok",name:"Í¥ÄÎ¶¨Î†•",baseScore:p("Í¥ÄÎ¶¨Î†•",68)},{id:"gisulryeok",name:"Í∏∞Ïà†Î†•",baseScore:p("Í∏∞Ïà†Î†•",70)},{id:"gieokryeok",name:"Í∏∞ÏñµÎ†•",baseScore:p("Í∏∞ÏñµÎ†•",68)},{id:"gihoekryeok",name:"Í∏∞ÌöçÎ†•",baseScore:p("Í∏∞ÌöçÎ†•",72)},{id:"nodongryeok",name:"ÎÖ∏ÎèôÎ†•",baseScore:p("ÎÖ∏ÎèôÎ†•",65)},{id:"rideoryeok",name:"Î¶¨ÎçîÎ†•",baseScore:p("Î¶¨ÎçîÎ†•",70)},{id:"munsoryeok",name:"Î¨∏ÏÑúÎ†•",baseScore:p("Î¨∏ÏÑúÎ†•",65)},{id:"balpyoryeok",name:"Î∞úÌëúÎ†•",baseScore:p("Î∞úÌëúÎ†•",68)},{id:"bunseokryeok",name:"Î∂ÑÏÑùÎ†•",baseScore:p("Î∂ÑÏÑùÎ†•",75)},{id:"saengsanryeok",name:"ÏÉùÏÇ∞Î†•",baseScore:p("ÏÉùÏÇ∞Î†•",68)},{id:"seolmyeongryeok",name:"ÏÑ§Î™ÖÎ†•",baseScore:p("ÏÑ§Î™ÖÎ†•",70)},{id:"sujipryeok",name:"ÏàòÏßëÎ†•",baseScore:p("ÏàòÏßëÎ†•",65)},{id:"sungryeonryeok",name:"ÏàôÎ†®Î†•",baseScore:p("ÏàôÎ†®Î†•",72)},{id:"eohiryeok",name:"Ïñ¥ÌúòÎ†•",baseScore:p("Ïñ¥ÌúòÎ†•",70)},{id:"yeongeopryeok",name:"ÏòÅÏóÖÎ†•",baseScore:p("ÏòÅÏóÖÎ†•",68)},{id:"eungyongryeok",name:"ÏùëÏö©Î†•",baseScore:p("ÏùëÏö©Î†•",72)},{id:"ihaeryeok",name:"Ïù¥Ìï¥Î†•",baseScore:p("Ïù¥Ìï¥Î†•",75)},{id:"jeondalryeok",name:"Ï†ÑÎã¨Î†•",baseScore:p("Ï†ÑÎã¨Î†•",70)},{id:"jejakkryeok",name:"Ï†úÏûëÎ†•",baseScore:p("Ï†úÏûëÎ†•",68)},{id:"jidoryeok",name:"ÏßÄÎèÑÎ†•",baseScore:p("ÏßÄÎèÑÎ†•",70)},{id:"jipjungryeok",name:"ÏßëÏ§ëÎ†•",baseScore:p("ÏßëÏ§ëÎ†•",72)},{id:"changyiryeok",name:"Ï∞ΩÏùòÎ†•",baseScore:p("Ï∞ΩÏùòÎ†•",75)},{id:"chaegimryeok",name:"Ï±ÖÏûÑÎ†•",baseScore:p("Ï±ÖÏûÑÎ†•",70)},{id:"cheorryeok",name:"Ï≤òÎ¶¨Î†•",baseScore:p("Ï≤òÎ¶¨Î†•",68)},{id:"chujiryeok",name:"Ï∂îÏßÑÎ†•",baseScore:p("Ï∂îÏßÑÎ†•",70)},{id:"pandanryeok",name:"ÌåêÎã®Î†•",baseScore:p("ÌåêÎã®Î†•",72)},{id:"panmaeryeok",name:"ÌåêÎß§Î†•",baseScore:p("ÌåêÎß§Î†•",65)},{id:"pyeonjipryeok",name:"Ìé∏ÏßëÎ†•",baseScore:p("Ìé∏ÏßëÎ†•",68)},{id:"pyohyeonryeok",name:"ÌëúÌòÑÎ†•",baseScore:p("ÌëúÌòÑÎ†•",70)},{id:"haegeolryeok",name:"Ìï¥Í≤∞Î†•",baseScore:p("Ìï¥Í≤∞Î†•",75)},{id:"hwahapryeok",name:"ÌôîÌï©Î†•",baseScore:p("ÌôîÌï©Î†•",68)},{id:"hwaldongryeok",name:"ÌôúÎèôÎ†•",baseScore:p("ÌôúÎèôÎ†•",72)}]},{id:"seonghyang_jueop",name:"ÏÑ±Ìñ•",items:[{id:"gwangyeseong",name:"Í¥ÄÍ≥ÑÏÑ±",baseScore:p("Í¥ÄÍ≥ÑÏÑ±",70)},{id:"gwanriseong",name:"Í¥ÄÎ¶¨ÏÑ±",baseScore:p("Í¥ÄÎ¶¨ÏÑ±",68)},{id:"bunseokseong",name:"Î∂ÑÏÑùÏÑ±",baseScore:p("Î∂ÑÏÑùÏÑ±",72)},{id:"sukjiseong",name:"ÏàôÏßÄÏÑ±",baseScore:p("ÏàôÏßÄÏÑ±",65)},{id:"jeonmunseong",name:"Ï†ÑÎ¨∏ÏÑ±",baseScore:p("Ï†ÑÎ¨∏ÏÑ±",75)},{id:"changyiseong",name:"Ï∞ΩÏùòÏÑ±",baseScore:p("Ï∞ΩÏùòÏÑ±",70)},{id:"hwaldongseong",name:"ÌôúÎèôÏÑ±",baseScore:p("ÌôúÎèôÏÑ±",68)}]},{id:"eommu",name:"ÏóÖÎ¨¥",items:[{id:"gaebal",name:"Í∞úÎ∞ú",baseScore:p("Í∞úÎ∞ú",70)},{id:"gyeongni",name:"Í≤ΩÎ¶¨",baseScore:p("Í≤ΩÎ¶¨",65)},{id:"gumaae",name:"Íµ¨Îß§",baseScore:p("Íµ¨Îß§",60)},{id:"nomu",name:"ÎÖ∏Î¨¥",baseScore:p("ÎÖ∏Î¨¥",58)},{id:"boan",name:"Î≥¥Ïïà",baseScore:p("Î≥¥Ïïà",68)},{id:"saengsan",name:"ÏÉùÏÇ∞",baseScore:p("ÏÉùÏÇ∞",65)},{id:"segeum",name:"ÏÑ∏Í∏à",baseScore:p("ÏÑ∏Í∏à",60)},{id:"sosong",name:"ÏÜåÏÜ°",baseScore:p("ÏÜåÏÜ°",55)},{id:"yeongu",name:"Ïó∞Íµ¨",baseScore:p("Ïó∞Íµ¨",75)},{id:"yeongop",name:"ÏòÅÏóÖ",baseScore:p("ÏòÅÏóÖ",68)},{id:"unsong",name:"Ïö¥ÏÜ°",baseScore:p("Ïö¥ÏÜ°",60)},{id:"unmyeong",name:"Ïö¥Î™Ö",baseScore:p("Ïö¥Î™Ö",50)},{id:"jageum",name:"ÏûêÍ∏à",baseScore:p("ÏûêÍ∏à",65)},{id:"junggae",name:"Ï§ëÍ≥Ñ",baseScore:p("Ï§ëÍ≥Ñ",62)},{id:"chuljang",name:"Ï∂úÏû•",baseScore:p("Ï∂úÏû•",60)},{id:"panmae",name:"ÌåêÎß§",baseScore:p("ÌåêÎß§",65)},{id:"hyeonjang",name:"ÌòÑÏû•",baseScore:p("ÌòÑÏû•",68)},{id:"hongbo",name:"ÌôçÎ≥¥",baseScore:p("ÌôçÎ≥¥",70)},{id:"hoegye",name:"ÌöåÍ≥Ñ",baseScore:p("ÌöåÍ≥Ñ",68)}]},{id:"eopjong",name:"ÏóÖÏ¢Ö",items:[{id:"gyeongyeong",name:"Í≤ΩÏòÅ",baseScore:p("Í≤ΩÏòÅ",68)},{id:"gyoyuk_gita",name:"ÍµêÏú°/Í∏∞ÌÉÄ",baseScore:p("ÍµêÏú°/Í∏∞ÌÉÄ",70)},{id:"dijain",name:"ÎîîÏûêÏù∏",baseScore:p("ÎîîÏûêÏù∏",65)},{id:"maketing",name:"ÎßàÏºÄÌåÖ",baseScore:p("ÎßàÏºÄÌåÖ",70)},{id:"seobiseu",name:"ÏÑúÎπÑÏä§",baseScore:p("ÏÑúÎπÑÏä§",68)},{id:"yeonye_bangsong",name:"Ïó∞Ïòà/Î∞©ÏÜ°",baseScore:p("Ïó∞Ïòà/Î∞©ÏÜ°",60)},{id:"yutong",name:"Ïú†ÌÜµ",baseScore:p("Ïú†ÌÜµ",65)},{id:"jeonja_tongsin",name:"Ï†ÑÏûê/ÌÜµÏã†",baseScore:p("Ï†ÑÏûê/ÌÜµÏã†",72)},{id:"jejjo",name:"Ï†úÏ°∞",baseScore:p("Ï†úÏ°∞",68)}]},{id:"jigeop",name:"ÏßÅÏóÖ",items:[{id:"gongmuwon",name:"Í≥µÎ¨¥Ïõê",baseScore:p("Í≥µÎ¨¥Ïõê",70)},{id:"gyosa",name:"ÍµêÏÇ¨",baseScore:p("ÍµêÏÇ¨",72)},{id:"ganhoha",name:"Í∞ÑÌò∏ÏÇ¨",baseScore:p("Í∞ÑÌò∏ÏÇ¨",68)},{id:"uisa",name:"ÏùòÏÇ¨",baseScore:p("ÏùòÏÇ¨",75)},{id:"byeonsa",name:"Î≥ÄÌò∏ÏÇ¨",baseScore:p("Î≥ÄÌò∏ÏÇ¨",70)},{id:"hoegesa",name:"ÌöåÍ≥ÑÏÇ¨",baseScore:p("ÌöåÍ≥ÑÏÇ¨",68)},{id:"gisulga",name:"Í∏∞Ïà†Ïûê",baseScore:p("Í∏∞Ïà†Ïûê",70)},{id:"yesulga",name:"ÏòàÏà†Í∞Ä",baseScore:p("ÏòàÏà†Í∞Ä",65)},{id:"saeopga",name:"ÏÇ¨ÏóÖÍ∞Ä",baseScore:p("ÏÇ¨ÏóÖÍ∞Ä",65)},{id:"yeongunja",name:"Ïó∞Íµ¨Ïûê",baseScore:p("Ïó∞Íµ¨Ïûê",72)}]}]},{id:"jusaeng",name:"Ï£ºÏÉù",icon:"üå±",description:"ÏùºÏÉÅ ÏÉùÌôú Ï†ÑÎ∞ò Î∂ÑÏÑù",subcategories:[{id:"gajok_jusaeng",name:"Í∞ÄÏ°±",items:[{id:"gyeyak",name:"Í≥ÑÏïΩ",baseScore:p("Í≥ÑÏïΩ",65)},{id:"gyoyuk",name:"ÍµêÏú°",baseScore:p("ÍµêÏú°",70)},{id:"daehwa",name:"ÎåÄÌôî",baseScore:p("ÎåÄÌôî",72)},{id:"moim",name:"Î™®ÏûÑ",baseScore:p("Î™®ÏûÑ",68)},{id:"syoping",name:"ÏáºÌïë",baseScore:p("ÏáºÌïë",65)},{id:"eonjaeng",name:"Ïñ∏ÏüÅ",baseScore:p("Ïñ∏ÏüÅ",45)},{id:"yeohaeng",name:"Ïó¨Ìñâ",baseScore:p("Ïó¨Ìñâ",70)},{id:"oesik",name:"Ïô∏Ïãù",baseScore:p("Ïô∏Ïãù",68)},{id:"isa",name:"Ïù¥ÏÇ¨",baseScore:p("Ïù¥ÏÇ¨",60)},{id:"jaesan",name:"Ïû¨ÏÇ∞",baseScore:p("Ïû¨ÏÇ∞",65)},{id:"haengsa",name:"ÌñâÏÇ¨",baseScore:p("ÌñâÏÇ¨",68)}]},{id:"geongang",name:"Í±¥Í∞ï",items:[{id:"geongangsikpum_geongang",name:"Í±¥Í∞ïÏãùÌíà",baseScore:p("Í±¥Í∞ïÏãùÌíà",70)},{id:"boyak_geongang",name:"Î≥¥ÏïΩ",baseScore:p("Î≥¥ÏïΩ",62)},{id:"sangdam_geongang",name:"ÏÉÅÎã¥",baseScore:p("ÏÉÅÎã¥",65)},{id:"sumyeon_geongang",name:"ÏàòÎ©¥",baseScore:p("ÏàòÎ©¥",72)},{id:"undong_geongang",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",75)},{id:"eumsik_geongang",name:"ÏùåÏãù",baseScore:p("ÏùåÏãù",68)},{id:"geomsa",name:"Í≤ÄÏÇ¨",baseScore:p("Í≤ÄÏÇ¨",60)},{id:"yeohaeng_geongang",name:"Ïó¨Ìñâ",baseScore:p("Ïó¨Ìñâ",70)},{id:"masaji",name:"ÎßàÏÇ¨ÏßÄ",baseScore:p("ÎßàÏÇ¨ÏßÄ",68)},{id:"myeongsang",name:"Î™ÖÏÉÅ",baseScore:p("Î™ÖÏÉÅ",65)},{id:"biman_geongang",name:"ÎπÑÎßå",baseScore:p("ÎπÑÎßå",50)},{id:"sauna",name:"ÏÇ¨Ïö∞ÎÇò",baseScore:p("ÏÇ¨Ïö∞ÎÇò",62)},{id:"chimi",name:"Ï∑®ÎØ∏",baseScore:p("Ï∑®ÎØ∏",70)},{id:"hyusik",name:"Ìú¥Ïãù",baseScore:p("Ìú¥Ïãù",75)}]},{id:"gyeolhon",name:"Í≤∞Ìòº",items:[{id:"sago_gyeolhon",name:"ÏÇ¨Í≥†",baseScore:p("ÏÇ¨Í≥†",40)},{id:"iseong_gyeolhon",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",70)},{id:"sekseu_gyeolhon",name:"ÏÑπÏä§",baseScore:p("ÏÑπÏä§",65)},{id:"saeop_gyeolhon",name:"ÏÇ¨ÏóÖ",baseScore:p("ÏÇ¨ÏóÖ",62)},{id:"gyoyuk_gyeolhon",name:"ÍµêÏú°",baseScore:p("ÍµêÏú°",68)},{id:"isa_gyeolhon",name:"Ïù¥ÏÇ¨",baseScore:p("Ïù¥ÏÇ¨",60)},{id:"jaesan_gyeolhon",name:"Ïû¨ÏÇ∞",baseScore:p("Ïû¨ÏÇ∞",65)},{id:"geongang_gyeolhon",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",70)},{id:"bumo",name:"Î∂ÄÎ™®",baseScore:p("Î∂ÄÎ™®",72)},{id:"bunjaeng",name:"Î∂ÑÏüÅ",baseScore:p("Î∂ÑÏüÅ",45)},{id:"yusan",name:"Ïú†ÏÇ∞",baseScore:p("Ïú†ÏÇ∞",60)},{id:"jasik",name:"ÏûêÏãù",baseScore:p("ÏûêÏãù",75)},{id:"jonggyo",name:"Ï¢ÖÍµê",baseScore:p("Ï¢ÖÍµê",55)},{id:"jigeop_gyeolhon",name:"ÏßÅÏóÖ",baseScore:p("ÏßÅÏóÖ",68)}]},{id:"gyeyak_jusaeng",name:"Í≥ÑÏïΩ",items:[{id:"daeyeo_gyeyak",name:"ÎåÄÏó¨",baseScore:p("ÎåÄÏó¨",58)},{id:"dongsan_gyeyak",name:"ÎèôÏÇ∞",baseScore:p("ÎèôÏÇ∞",60)},{id:"budongsan_gyeyak",name:"Î∂ÄÎèôÏÇ∞",baseScore:p("Î∂ÄÎèôÏÇ∞",70)},{id:"saeop_gyeyak",name:"ÏÇ¨ÏóÖ",baseScore:p("ÏÇ¨ÏóÖ",65)},{id:"jusik_gyeyak",name:"Ï£ºÏãù",baseScore:p("Ï£ºÏãù",62)},{id:"chaegwon_gyeyak",name:"Ï±ÑÍ∂å",baseScore:p("Ï±ÑÍ∂å",58)},{id:"peondeu_gyeyak",name:"ÌéÄÎìú",baseScore:p("ÌéÄÎìú",55)},{id:"gumae",name:"Íµ¨Îß§",baseScore:p("Íµ¨Îß§",65)},{id:"gongjeung",name:"Í≥µÏ¶ù",baseScore:p("Í≥µÏ¶ù",60)},{id:"bojeung",name:"Î≥¥Ï¶ù",baseScore:p("Î≥¥Ï¶ù",55)},{id:"bunsil",name:"Î∂ÑÏã§",baseScore:p("Î∂ÑÏã§",40)},{id:"sinyong",name:"Ïã†Ïö©",baseScore:p("Ïã†Ïö©",72)}]},{id:"byuti",name:"Î∑∞Ìã∞",items:[{id:"geongangsikpum_byuti",name:"Í±¥Í∞ïÏãùÌíà",baseScore:p("Í±¥Í∞ïÏãùÌíà",65)},{id:"boyak_byuti",name:"Î≥¥ÏïΩ",baseScore:p("Î≥¥ÏïΩ",60)},{id:"sangdam_byuti",name:"ÏÉÅÎã¥",baseScore:p("ÏÉÅÎã¥",62)},{id:"chiryo_byuti",name:"ÏπòÎ£å",baseScore:p("ÏπòÎ£å",68)},{id:"masaji_byuti",name:"ÎßàÏÇ¨ÏßÄ",baseScore:p("ÎßàÏÇ¨ÏßÄ",70)},{id:"gyojeong",name:"ÍµêÏ†ï",baseScore:p("ÍµêÏ†ï",65)},{id:"neilateu",name:"ÎÑ§ÏùºÏïÑÌä∏",baseScore:p("ÎÑ§ÏùºÏïÑÌä∏",62)},{id:"seupa",name:"Ïä§Ìåå",baseScore:p("Ïä§Ìåå",68)},{id:"anmyeon",name:"ÏïàÎ©¥",baseScore:p("ÏïàÎ©¥",70)},{id:"oemo",name:"Ïô∏Î™®",baseScore:p("Ïô∏Î™®",72)},{id:"heeo",name:"Ìó§Ïñ¥",baseScore:p("Ìó§Ïñ¥",68)},{id:"hwajangpum",name:"ÌôîÏû•Ìíà",baseScore:p("ÌôîÏû•Ìíà",65)}]},{id:"sago_jusaeng",name:"ÏÇ¨Í≥†",items:[{id:"segeum_sago",name:"ÏÑ∏Í∏à",baseScore:p("ÏÑ∏Í∏à",50)},{id:"sosong_sago",name:"ÏÜåÏÜ°",baseScore:p("ÏÜåÏÜ°",45)},{id:"eonjaeng_sago",name:"Ïñ∏ÏüÅ",baseScore:p("Ïñ∏ÏüÅ",48)},{id:"jaesan_sago",name:"Ïû¨ÏÇ∞",baseScore:p("Ïû¨ÏÇ∞",55)},{id:"bunjaeng_sago",name:"Î∂ÑÏüÅ",baseScore:p("Î∂ÑÏüÅ",45)},{id:"bunsil_sago",name:"Î∂ÑÏã§",baseScore:p("Î∂ÑÏã§",40)},{id:"gyotong",name:"ÍµêÌÜµ",baseScore:p("ÍµêÌÜµ",50)},{id:"dansok",name:"Îã®ÏÜç",baseScore:p("Îã®ÏÜç",48)},{id:"donan",name:"ÎèÑÎÇú",baseScore:p("ÎèÑÎÇú",35)},{id:"mangsin",name:"ÎßùÏã†",baseScore:p("ÎßùÏã†",38)},{id:"sagi",name:"ÏÇ¨Í∏∞",baseScore:p("ÏÇ¨Í∏∞",30)},{id:"wiban",name:"ÏúÑÎ∞ò",baseScore:p("ÏúÑÎ∞ò",45)},{id:"wiheom",name:"ÏúÑÌóò",baseScore:p("ÏúÑÌóò",40)},{id:"pokhaeng",name:"Ìè≠Ìñâ",baseScore:p("Ìè≠Ìñâ",25)}]},{id:"saeop_jusaeng",name:"ÏÇ¨ÏóÖ",items:[{id:"gwanri_saeop",name:"Í¥ÄÎ¶¨",baseScore:p("Í¥ÄÎ¶¨",68)},{id:"jusik_saeop",name:"Ï£ºÏãù",baseScore:p("Ï£ºÏãù",62)},{id:"tuja_saeop",name:"Ìà¨Ïûê",baseScore:p("Ìà¨Ïûê",60)},{id:"gaebal_saeop",name:"Í∞úÎ∞ú",baseScore:p("Í∞úÎ∞ú",70)},{id:"gumae_saeop",name:"Íµ¨Îß§",baseScore:p("Íµ¨Îß§",65)},{id:"saengsan_saeop",name:"ÏÉùÏÇ∞",baseScore:p("ÏÉùÏÇ∞",68)},{id:"sosong_saeop",name:"ÏÜåÏÜ°",baseScore:p("ÏÜåÏÜ°",45)},{id:"yeongop_saeop",name:"ÏòÅÏóÖ",baseScore:p("ÏòÅÏóÖ",70)},{id:"jageum_saeop",name:"ÏûêÍ∏à",baseScore:p("ÏûêÍ∏à",65)},{id:"gyeyak_saeop",name:"Í≥ÑÏïΩ",baseScore:p("Í≥ÑÏïΩ",68)},{id:"gihoek",name:"Í∏∞Ìöç",baseScore:p("Í∏∞Ìöç",72)},{id:"dongeop",name:"ÎèôÏóÖ",baseScore:p("ÎèôÏóÖ",60)}]},{id:"yeonae",name:"Ïó∞Ïï†",items:[{id:"iseong_yeonae",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",72)},{id:"keondisyeon_yeonae",name:"Ïª®ÎîîÏÖò",baseScore:p("Ïª®ÎîîÏÖò",68)},{id:"sekseu_yeonae",name:"ÏÑπÏä§",baseScore:p("ÏÑπÏä§",65)},{id:"eonjaeng_yeonae",name:"Ïñ∏ÏüÅ",baseScore:p("Ïñ∏ÏüÅ",45)},{id:"yeohaeng_yeonae",name:"Ïó¨Ìñâ",baseScore:p("Ïó¨Ìñâ",75)},{id:"chimi_yeonae",name:"Ï∑®ÎØ∏",baseScore:p("Ï∑®ÎØ∏",70)},{id:"gamjeong",name:"Í∞êÏ†ï",baseScore:p("Í∞êÏ†ï",72)},{id:"gwanram",name:"Í¥ÄÎûå",baseScore:p("Í¥ÄÎûå",68)},{id:"simri",name:"Ïã¨Î¶¨",baseScore:p("Ïã¨Î¶¨",65)},{id:"ibyeol",name:"Ïù¥Î≥Ñ",baseScore:p("Ïù¥Î≥Ñ",40)},{id:"hogam",name:"Ìò∏Í∞ê",baseScore:p("Ìò∏Í∞ê",75)}]},{id:"siheom",name:"ÏãúÌóò",items:[{id:"sumyeon_siheom",name:"ÏàòÎ©¥",baseScore:p("ÏàòÎ©¥",70)},{id:"keondisyeon_siheom",name:"Ïª®ÎîîÏÖò",baseScore:p("Ïª®ÎîîÏÖò",72)},{id:"gieok_siheom",name:"Í∏∞Ïñµ",baseScore:p("Í∏∞Ïñµ",68)},{id:"jipjung_siheom",name:"ÏßëÏ§ë",baseScore:p("ÏßëÏ§ë",75)},{id:"bokseup_siheom",name:"Î≥µÏäµ",baseScore:p("Î≥µÏäµ",70)},{id:"seontaek_siheom",name:"ÏÑ†ÌÉù",baseScore:p("ÏÑ†ÌÉù",65)},{id:"yeseup_siheom",name:"ÏòàÏäµ",baseScore:p("ÏòàÏäµ",68)},{id:"eungyong_siheom",name:"ÏùëÏö©",baseScore:p("ÏùëÏö©",72)},{id:"puri_siheom",name:"ÌíÄÏù¥",baseScore:p("ÌíÄÏù¥",70)},{id:"geongang_siheom",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",68)},{id:"siheom_item",name:"ÏãúÌóò",baseScore:p("ÏãúÌóò",65)},{id:"junbimul",name:"Ï§ÄÎπÑÎ¨º",baseScore:p("Ï§ÄÎπÑÎ¨º",60)}]},{id:"undong_jusaeng",name:"Ïö¥Îèô",items:[{id:"gwanri_undong",name:"Í¥ÄÎ¶¨",baseScore:p("Í¥ÄÎ¶¨",68)},{id:"gisul_undong",name:"Í∏∞Ïà†",baseScore:p("Í∏∞Ïà†",70)},{id:"pyeonghaeng_undong",name:"ÌèâÌñâ",baseScore:p("ÌèâÌñâ",65)},{id:"banbok_undong",name:"Î∞òÎ≥µ",baseScore:p("Î∞òÎ≥µ",62)},{id:"gonggangam",name:"Í≥µÍ∞ÑÍ∞ê",baseScore:p("Í≥µÍ∞ÑÍ∞ê",68)},{id:"gigu",name:"Í∏∞Íµ¨",baseScore:p("Í∏∞Íµ¨",65)},{id:"giryeok",name:"Í∏∞Î†•",baseScore:p("Í∏∞Î†•",70)},{id:"danche",name:"Îã®Ï≤¥",baseScore:p("Îã®Ï≤¥",68)},{id:"jeongsinryeok",name:"Ï†ïÏã†Î†•",baseScore:p("Ï†ïÏã†Î†•",72)},{id:"jiguryeok",name:"ÏßÄÍµ¨Î†•",baseScore:p("ÏßÄÍµ¨Î†•",75)},{id:"hoejeon",name:"ÌöåÏ†Ñ",baseScore:p("ÌöåÏ†Ñ",65)},{id:"heureum",name:"ÌùêÎ¶Ñ",baseScore:p("ÌùêÎ¶Ñ",68)}]},{id:"idong",name:"Ïù¥Îèô",items:[{id:"iseong_idong",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",65)},{id:"saeop_idong",name:"ÏÇ¨ÏóÖ",baseScore:p("ÏÇ¨ÏóÖ",68)},{id:"gajok_idong",name:"Í∞ÄÏ°±",baseScore:p("Í∞ÄÏ°±",70)},{id:"chingu_idong",name:"ÏπúÍµ¨",baseScore:p("ÏπúÍµ¨",68)},{id:"chuljang_idong",name:"Ï∂úÏû•",baseScore:p("Ï∂úÏû•",62)},{id:"yeohaeng_idong",name:"Ïó¨Ìñâ",baseScore:p("Ïó¨Ìñâ",75)},{id:"isa_idong",name:"Ïù¥ÏÇ¨",baseScore:p("Ïù¥ÏÇ¨",60)},{id:"haengsa_idong",name:"ÌñâÏÇ¨",baseScore:p("ÌñâÏÇ¨",65)},{id:"gohyang",name:"Í≥†Ìñ•",baseScore:p("Í≥†Ìñ•",68)},{id:"guknae",name:"Íµ≠ÎÇ¥",baseScore:p("Íµ≠ÎÇ¥",70)},{id:"gugoe",name:"Íµ≠Ïô∏",baseScore:p("Íµ≠Ïô∏",65)},{id:"seom",name:"ÏÑ¨",baseScore:p("ÏÑ¨",60)},{id:"hageop_idong",name:"ÌïôÏóÖ",baseScore:p("ÌïôÏóÖ",68)}]},{id:"ilsang",name:"ÏùºÏÉÅ",items:[{id:"sago_ilsang",name:"ÏÇ¨Í≥†",baseScore:p("ÏÇ¨Í≥†",45)},{id:"undong_ilsang",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",70)},{id:"saeop_ilsang",name:"ÏÇ¨ÏóÖ",baseScore:p("ÏÇ¨ÏóÖ",65)},{id:"gajok_ilsang",name:"Í∞ÄÏ°±",baseScore:p("Í∞ÄÏ°±",72)},{id:"isa_ilsang",name:"Ïù¥ÏÇ¨",baseScore:p("Ïù¥ÏÇ¨",58)},{id:"geongang_ilsang",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",70)},{id:"jonggyo_ilsang",name:"Ï¢ÖÍµê",baseScore:p("Ï¢ÖÍµê",55)},{id:"hageop_ilsang",name:"ÌïôÏóÖ",baseScore:p("ÌïôÏóÖ",68)},{id:"bongsa",name:"Î¥âÏÇ¨",baseScore:p("Î¥âÏÇ¨",65)},{id:"yeonae_ilsang",name:"Ïó∞Ïï†",baseScore:p("Ïó∞Ïï†",70)},{id:"jaemul_ilsang",name:"Ïû¨Î¨º",baseScore:p("Ïû¨Î¨º",62)}]},{id:"jayeongeop",name:"ÏûêÏòÅÏóÖ",items:[{id:"gwanri_jayeong",name:"Í¥ÄÎ¶¨",baseScore:p("Í¥ÄÎ¶¨",68)},{id:"sangdam_jayeong",name:"ÏÉÅÎã¥",baseScore:p("ÏÉÅÎã¥",65)},{id:"gumae_jayeong",name:"Íµ¨Îß§",baseScore:p("Íµ¨Îß§",62)},{id:"segeum_jayeong",name:"ÏÑ∏Í∏à",baseScore:p("ÏÑ∏Í∏à",55)},{id:"yeongop_jayeong",name:"ÏòÅÏóÖ",baseScore:p("ÏòÅÏóÖ",70)},{id:"gyeyak_jayeong",name:"Í≥ÑÏïΩ",baseScore:p("Í≥ÑÏïΩ",68)},{id:"dansok_jayeong",name:"Îã®ÏÜç",baseScore:p("Îã®ÏÜç",50)},{id:"napum",name:"ÎÇ©Ìíà",baseScore:p("ÎÇ©Ìíà",65)},{id:"yeyak",name:"ÏòàÏïΩ",baseScore:p("ÏòàÏïΩ",62)},{id:"jaego",name:"Ïû¨Í≥†",baseScore:p("Ïû¨Í≥†",60)},{id:"chaeyong",name:"Ï±ÑÏö©",baseScore:p("Ï±ÑÏö©",65)},{id:"chinjeol",name:"ÏπúÏ†à",baseScore:p("ÏπúÏ†à",72)}]},{id:"jaeneung",name:"Ïû¨Îä•",items:[{id:"undong_jaeneung",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",68)},{id:"gisul_jaeneung",name:"Í∏∞Ïà†",baseScore:p("Í∏∞Ïà†",70)},{id:"misul_jaeneung",name:"ÎØ∏Ïà†",baseScore:p("ÎØ∏Ïà†",65)},{id:"eumak_jaeneung",name:"ÏùåÏïÖ",baseScore:p("ÏùåÏïÖ",68)},{id:"jejak_jaeneung",name:"Ï†úÏûë",baseScore:p("Ï†úÏûë",65)},{id:"gyesan_jaeneung",name:"Í≥ÑÏÇ∞",baseScore:p("Í≥ÑÏÇ∞",70)},{id:"hageop_jaeneung",name:"ÌïôÏóÖ",baseScore:p("ÌïôÏóÖ",72)},{id:"dokseo",name:"ÎèÖÏÑú",baseScore:p("ÎèÖÏÑú",70)},{id:"deutgi",name:"Îì£Í∏∞",baseScore:p("Îì£Í∏∞",68)},{id:"malhagi",name:"ÎßêÌïòÍ∏∞",baseScore:p("ÎßêÌïòÍ∏∞",70)},{id:"sseugi",name:"Ïì∞Í∏∞",baseScore:p("Ïì∞Í∏∞",68)},{id:"oegugeo",name:"Ïô∏Íµ≠Ïñ¥",baseScore:p("Ïô∏Íµ≠Ïñ¥",65)}]},{id:"jeongchi",name:"Ï†ïÏπò",items:[{id:"jageum_jeongchi",name:"ÏûêÍ∏à",baseScore:p("ÏûêÍ∏à",60)},{id:"gyeyak_jeongchi",name:"Í≥ÑÏïΩ",baseScore:p("Í≥ÑÏïΩ",62)},{id:"moim_jeongchi",name:"Î™®ÏûÑ",baseScore:p("Î™®ÏûÑ",65)},{id:"geongang_jeongchi",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",68)},{id:"bunjaeng_jeongchi",name:"Î∂ÑÏüÅ",baseScore:p("Î∂ÑÏüÅ",50)},{id:"gyeoljeong",name:"Í≤∞Ï†ï",baseScore:p("Í≤∞Ï†ï",70)},{id:"gwonryeok",name:"Í∂åÎ†•",baseScore:p("Í∂åÎ†•",65)},{id:"myeonggye",name:"Î™ÖÏòà",baseScore:p("Î™ÖÏòà",68)},{id:"balpyo",name:"Î∞úÌëú",baseScore:p("Î∞úÌëú",65)},{id:"jeongchaek",name:"Ï†ïÏ±Ö",baseScore:p("Ï†ïÏ±Ö",70)},{id:"julma",name:"Ï§ÑÎßà",baseScore:p("Ï§ÑÎßà",55)},{id:"huwon",name:"ÌõÑÏõê",baseScore:p("ÌõÑÏõê",62)}]},{id:"jikjang",name:"ÏßÅÏû•",items:[{id:"keondisyeon_jikjang",name:"Ïª®ÎîîÏÖò",baseScore:p("Ïª®ÎîîÏÖò",70)},{id:"tuja_jikjang",name:"Ìà¨Ïûê",baseScore:p("Ìà¨Ïûê",60)},{id:"gaebal_jikjang",name:"Í∞úÎ∞ú",baseScore:p("Í∞úÎ∞ú",72)},{id:"moim_jikjang",name:"Î™®ÏûÑ",baseScore:p("Î™®ÏûÑ",65)},{id:"geongang_jikjang",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",68)},{id:"hogam_jikjang",name:"Ìò∏Í∞ê",baseScore:p("Ìò∏Í∞ê",70)},{id:"balpyo_jikjang",name:"Î∞úÌëú",baseScore:p("Î∞úÌëú",65)},{id:"gyeoljae",name:"Í≤∞Ïû¨",baseScore:p("Í≤∞Ïû¨",68)},{id:"bogoseo",name:"Î≥¥Í≥†ÏÑú",baseScore:p("Î≥¥Í≥†ÏÑú",65)},{id:"siljeok",name:"Ïã§Ï†Å",baseScore:p("Ïã§Ï†Å",70)},{id:"jeopdae",name:"Ï†ëÎåÄ",baseScore:p("Ï†ëÎåÄ",62)},{id:"jingeup",name:"ÏßÑÍ∏â",baseScore:p("ÏßÑÍ∏â",68)}]},{id:"chieop",name:"Ï∑®ÏóÖ",items:[{id:"keondisyeon_chieop",name:"Ïª®ÎîîÏÖò",baseScore:p("Ïª®ÎîîÏÖò",70)},{id:"gisul_chieop",name:"Í∏∞Ïà†",baseScore:p("Í∏∞Ïà†",72)},{id:"gaebal_chieop",name:"Í∞úÎ∞ú",baseScore:p("Í∞úÎ∞ú",70)},{id:"gyeyak_chieop",name:"Í≥ÑÏïΩ",baseScore:p("Í≥ÑÏïΩ",65)},{id:"geongang_chieop",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",68)},{id:"siheom_chieop",name:"ÏãúÌóò",baseScore:p("ÏãúÌóò",70)},{id:"balpyo_chieop",name:"Î∞úÌëú",baseScore:p("Î∞úÌëú",65)},{id:"geunsim",name:"Í∑ºÏã¨",baseScore:p("Í∑ºÏã¨",50)},{id:"myeonjeop",name:"Î©¥Ï†ë",baseScore:p("Î©¥Ï†ë",68)},{id:"jeongong",name:"Ï†ÑÍ≥µ",baseScore:p("Ï†ÑÍ≥µ",72)},{id:"chucheon",name:"Ï∂îÏ≤ú",baseScore:p("Ï∂îÏ≤ú",65)},{id:"chieop_item",name:"Ï∑®ÏóÖ",baseScore:p("Ï∑®ÏóÖ",70)}]},{id:"chimi_jusaeng",name:"Ï∑®ÎØ∏",items:[{id:"undong_chimi",name:"Ïö¥Îèô",baseScore:p("Ïö¥Îèô",70)},{id:"eumsik_chimi",name:"ÏùåÏãù",baseScore:p("ÏùåÏãù",68)},{id:"geim_chimi",name:"Í≤åÏûÑ",baseScore:p("Í≤åÏûÑ",65)},{id:"misul_chimi",name:"ÎØ∏Ïà†",baseScore:p("ÎØ∏Ïà†",65)},{id:"eumak_chimi",name:"ÏùåÏïÖ",baseScore:p("ÏùåÏïÖ",70)},{id:"jejak_chimi",name:"Ï†úÏûë",baseScore:p("Ï†úÏûë",62)},{id:"moim_chimi",name:"Î™®ÏûÑ",baseScore:p("Î™®ÏûÑ",68)},{id:"syoping_chimi",name:"ÏáºÌïë",baseScore:p("ÏáºÌïë",65)},{id:"yeohaeng_chimi",name:"Ïó¨Ìñâ",baseScore:p("Ïó¨Ìñâ",75)},{id:"gwanram_chimi",name:"Í¥ÄÎûå",baseScore:p("Í¥ÄÎûå",68)},{id:"bongsa_chimi",name:"Î¥âÏÇ¨",baseScore:p("Î¥âÏÇ¨",62)},{id:"dokseo_chimi",name:"ÎèÖÏÑú",baseScore:p("ÎèÖÏÑú",70)},{id:"gongye",name:"Í≥µÏòà",baseScore:p("Í≥µÏòà",65)},{id:"daenseu",name:"ÎåÑÏä§",baseScore:p("ÎåÑÏä§",68)}]},{id:"haksaeng",name:"ÌïôÏÉù",items:[{id:"iseong_haksaeng",name:"Ïù¥ÏÑ±",baseScore:p("Ïù¥ÏÑ±",65)},{id:"gajok_haksaeng",name:"Í∞ÄÏ°±",baseScore:p("Í∞ÄÏ°±",70)},{id:"seuseung",name:"Ïä§Ïäπ",baseScore:p("Ïä§Ïäπ",72)},{id:"chingu_haksaeng",name:"ÏπúÍµ¨",baseScore:p("ÏπúÍµ¨",68)},{id:"moim_haksaeng",name:"Î™®ÏûÑ",baseScore:p("Î™®ÏûÑ",65)},{id:"geongang_haksaeng",name:"Í±¥Í∞ï",baseScore:p("Í±¥Í∞ï",68)},{id:"oemo_haksaeng",name:"Ïô∏Î™®",baseScore:p("Ïô∏Î™®",62)},{id:"siheom_haksaeng",name:"ÏãúÌóò",baseScore:p("ÏãúÌóò",70)},{id:"ibyeol_haksaeng",name:"Ïù¥Î≥Ñ",baseScore:p("Ïù¥Î≥Ñ",45)},{id:"hageop_haksaeng",name:"ÌïôÏóÖ",baseScore:p("ÌïôÏóÖ",72)},{id:"balpyo_haksaeng",name:"Î∞úÌëú",baseScore:p("Î∞úÌëú",65)},{id:"geunsim_haksaeng",name:"Í∑ºÏã¨",baseScore:p("Í∑ºÏã¨",50)}]}]},{id:"juneung",name:"Ï£ºÎä•",icon:"‚ö°",description:"Îä•Î†•Í≥º Ïû†Ïû¨Î†• Î∂ÑÏÑù",subcategories:[]},{id:"juhyung",name:"Ï£ºÌùâ",icon:"‚ö†Ô∏è",description:"ÏúÑÌóòÍ≥º Ï£ºÏùòÏÇ¨Ìï≠ Î∂ÑÏÑù",subcategories:[]}];async function l8(){try{console.log("üîÑ ÎèôÏ†Å ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏãúÏûë...");const t=await o8();console.log("üì• Î∞±ÏóîÎìúÏóêÏÑú Î∞õÏùÄ Ïπ¥ÌÖåÍ≥†Î¶¨:",t);const e=us.findIndex(n=>n.id==="juneung"),s=us.findIndex(n=>n.id==="juhyung");console.log(`üìå Ï£ºÎä• Ïù∏Îç±Ïä§: ${e}, Ï£ºÌùâ Ïù∏Îç±Ïä§: ${s}`),t.forEach(n=>{n.id==="juneung"&&e!==-1?(us[e].subcategories=n.subcategories,console.log(`‚úÖ Ï£ºÎä• Ïπ¥ÌÖåÍ≥†Î¶¨ ÏóÖÎç∞Ïù¥Ìä∏: ${n.subcategories.length}Í∞ú Ï§ëÌï≠Î™©`),console.log("Ï£ºÎä• ÏÑúÎ∏åÏπ¥ÌÖåÍ≥†Î¶¨:",n.subcategories)):n.id==="juhyung"&&s!==-1&&(us[s].subcategories=n.subcategories,console.log(`‚úÖ Ï£ºÌùâ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏóÖÎç∞Ïù¥Ìä∏: ${n.subcategories.length}Í∞ú Ï§ëÌï≠Î™©`),console.log("Ï£ºÌùâ ÏÑúÎ∏åÏπ¥ÌÖåÍ≥†Î¶¨:",n.subcategories))}),console.log("üéâ ÎèôÏ†Å ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å!"),console.log("ÏµúÏ¢Ö SAJU_RADAR_CATEGORIES:",us)}catch(t){console.error("‚ùå ÎèôÏ†Å ÏÇ¨Ï£º Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",t)}}function c8(){return us}function d8({categories:t,selectedCategory:e,onCategoryChange:s}){return a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-9 gap-4",children:t.map(n=>a.jsx("button",{onClick:()=>s(n.id),className:`p-4 rounded-xl border-2 transition-all duration-200 ${e===n.id?"border-purple-500 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 shadow-lg":"border-gray-200 dark:border-gray-600 hover:border-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/10 bg-white dark:bg-gray-700"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:n.icon}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:n.name}),a.jsx("p",{className:`text-sm mt-1 ${e===n.id?"text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400"}`,children:n.description})]})},n.id))})})}function h8({subcategories:t,selectedSubcategory:e,onSubcategoryChange:s}){return a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex overflow-x-auto gap-2 pb-2",children:t.map(n=>a.jsxs("button",{onClick:()=>s(n.id),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors duration-200 font-medium ${e===n.id?"bg-purple-500 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:[n.name,a.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",n.items.length,")"]})]},n.id))})})}const St={DIMENSIONS:{height:"400px"},COLORS:{backgrounds:{base:"rgba(139, 92, 246, 0.1)",today:"rgba(239, 68, 68, 0.15)",month:"rgba(6, 182, 212, 0.15)",year:"rgba(245, 158, 11, 0.15)"},borders:{base:"#8b5cf6",today:"#ef4444",month:"#06b6d4",year:"#f59e0b"}},CHART_OPTIONS:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:13,weight:700},padding:16,boxWidth:12,usePointStyle:!0,color:"#374151"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#8b5cf6",borderWidth:2,cornerRadius:8,padding:14,displayColors:!0,titleFont:{size:14,weight:600},bodyFont:{size:13}}},scales:{r:{beginAtZero:!0,max:100,min:0,ticks:{stepSize:10,font:{size:12,weight:600},color:"#6b7280",backdropColor:"transparent",showLabelBackdrop:!1},grid:{color:"rgba(107, 114, 128, 0.4)",lineWidth:2},angleLines:{color:"rgba(107, 114, 128, 0.3)",lineWidth:2},pointLabels:{font:{size:13,weight:700},color:"#374151"}}},interaction:{intersect:!1},animation:{duration:1e3,easing:"easeInOutQuart"}},DARK_MODE_CHART_OPTIONS:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:13,weight:700},padding:16,boxWidth:12,usePointStyle:!0,color:"#f1f5f9"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#a78bfa",borderWidth:2,cornerRadius:8,padding:14,displayColors:!0,titleFont:{size:14,weight:600},bodyFont:{size:13}}},scales:{r:{beginAtZero:!0,max:100,min:0,ticks:{stepSize:10,font:{size:12,weight:600},color:"#cbd5e1",backdropColor:"transparent",showLabelBackdrop:!1},grid:{color:"rgba(156, 163, 175, 0.5)",lineWidth:2},angleLines:{color:"rgba(156, 163, 175, 0.4)",lineWidth:2},pointLabels:{font:{size:13,weight:700},color:"#f1f5f9"}}},interaction:{intersect:!1},animation:{duration:1e3,easing:"easeInOutQuart"}},BUTTON_STYLES:{timeFrame:{base:"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200",active:{base:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",today:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",month:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",year:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300"},inactive:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}},LAYOUT:{timeFrameSelector:{container:"flex flex-wrap justify-center gap-3 mb-6"},chartContainer:{wrapper:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6"}}},f0=t=>{const e=St.COLORS;switch(t){case"today":return{background:e.backgrounds.today,border:e.borders.today};case"month":return{background:e.backgrounds.month,border:e.borders.month};case"year":return{background:e.backgrounds.year,border:e.borders.year};default:return{background:e.backgrounds.base,border:e.borders.base}}},u8=(t,e)=>{const s=t?St.DARK_MODE_CHART_OPTIONS:St.CHART_OPTIONS;return e?{...s,...e,plugins:{...s.plugins,...e.plugins},scales:{...s.scales,...e.scales}}:s};dt.register(zt,Gt,Qe,wi,Ps,Ds,rn,an,vs);const m8=({data:t,birthDate:e,sajuData:s})=>{console.log("[Ï∞®Ìä∏ Ïª¥Ìè¨ÎÑåÌä∏] Î∞õÏùÄ ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞:",s);const[n,r]=v.useState(!1),[i,o]=v.useState("base");v.useEffect(()=>{const w=()=>{r(document.documentElement.classList.contains("dark"))};w();const M=new MutationObserver(w);return M.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>M.disconnect()},[]);const l=(w,M=1,N,k=85)=>{const E=w*.8*M,T=(Math.random()-.5)*N,R=E+T;return Math.max(20,Math.min(k,Math.round(R)))},c=v.useMemo(()=>{console.log("[useMemo Ïã§Ìñâ] sajuData:",s);const w={},M=N=>{var k,_,E,T,R,P,O,D;return N?((k=N.year)==null?void 0:k.gan)&&((_=N.year)==null?void 0:_.ji)&&((E=N.month)==null?void 0:E.gan)&&((T=N.month)==null?void 0:T.ji)&&((R=N.day)==null?void 0:R.gan)&&((P=N.day)==null?void 0:P.ji)&&((O=N.time)==null?void 0:O.gan)&&((D=N.time)==null?void 0:D.ji)&&N.ohHaengBalance:!1};return M(s)?(console.log("[Í∏∞Î≥∏ Ï†êÏàò Í≥ÑÏÇ∞] Ïú†Ìö®Ìïú sajuData Ï°¥Ïû¨Ìï®:",s.fullSaju),w.base=t.items.map(N=>{try{const k=ha(N.name,s,"base");return console.log(`[Ìï≠Î™© Ï†êÏàò] ${N.name}: ${k}Ï†ê`),k}catch(k){return console.error(`[Ï†êÏàò Í≥ÑÏÇ∞ Ïò§Î•ò] ${N.name}:`,k),N.baseScore}})):(console.log("[Í≤ΩÍ≥†] Ïú†Ìö®Ìïú sajuDataÍ∞Ä ÏóÜÏùå - Ï†ïÏ†Å Ï†êÏàò ÏÇ¨Ïö©"),w.base=t.items.map(N=>N.baseScore)),M(s)?(w.today=t.items.map(N=>{try{return ha(N.name,s,"today")}catch(k){return console.error(`[Ïò§Îäò Ï†êÏàò Í≥ÑÏÇ∞ Ïò§Î•ò] ${N.name}:`,k),l(N.baseScore,1,25)}}),w.month=t.items.map(N=>{try{return ha(N.name,s,"month")}catch(k){return console.error(`[Ïù¥Î≤àÎã¨ Ï†êÏàò Í≥ÑÏÇ∞ Ïò§Î•ò] ${N.name}:`,k),l(N.baseScore,1,18)}}),w.year=t.items.map(N=>{try{return ha(N.name,s,"year")}catch(k){return console.error(`[Ïò¨Ìï¥ Ï†êÏàò Í≥ÑÏÇ∞ Ïò§Î•ò] ${N.name}:`,k),l(N.baseScore,1,12)}})):(w.today=t.items.map(N=>l(N.baseScore,1,25)),w.month=t.items.map(N=>l(N.baseScore,1,18)),w.year=t.items.map(N=>l(N.baseScore,1,12))),w},[t.items,s]),d=v.useMemo(()=>{const w=[],M=c.base||t.items.map(N=>N.baseScore);if(w.push({label:"ÎÇòÏùò Í∏∞Î≥∏ ÏÇ¨Ï£º",values:M,timeFrame:"base"}),i!=="base"&&c[i]){const N={today:"Ïò§ÎäòÏùò Ïö¥ÏÑ∏",month:"Ïù¥Î≤àÎã¨ Ïö¥ÏÑ∏",year:"Ïò¨Ìï¥ Ïö¥ÏÑ∏"};w.push({label:N[i]||i,values:c[i],timeFrame:i})}return w},[c,i,t.items]),h=c.base||t.items.map(w=>w.baseScore),m=Math.max(...h),u=h.map((w,M)=>w===m?M:-1).filter(w=>w!==-1),g=v.useMemo(()=>{const w=t.items.map(M=>M.name);return At.createStandardRadarConfig(w,d,n,!0)},[t.items,d,n]),f=g.data,x=v.useMemo(()=>{var N,k,_,E;const w=g.options,M=u8(n,{plugins:{legend:{display:i!=="base"},tooltip:{callbacks:{label:T=>`${T.dataset.label}: ${T.parsed.r}Ï†ê`}}}});return{...w,...M,plugins:{...w==null?void 0:w.plugins,...M.plugins,legend:{...(N=w==null?void 0:w.plugins)==null?void 0:N.legend,...(k=M.plugins)==null?void 0:k.legend},tooltip:{...(_=w==null?void 0:w.plugins)==null?void 0:_.tooltip,...(E=M.plugins)==null?void 0:E.tooltip}},scales:{...w==null?void 0:w.scales,...M.scales}}},[g,n,i]),y=(h.reduce((w,M)=>w+M,0)/t.items.length).toFixed(1),j={labels:t.items.map(w=>w.name),datasets:[{label:"ÎÇòÏùò Í∏∞Î≥∏ ÏÇ¨Ï£º",data:h,backgroundColor:h.map((w,M)=>u.includes(M)?At.COLOR_PALETTE.accent:f0("base").background),borderColor:h.map((w,M)=>u.includes(M)?At.COLOR_PALETTE.accent:f0("base").border),borderWidth:2,borderRadius:8,borderSkipped:!1}]},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:n?"#374151":"#f3f4f6",titleColor:n?"#ffffff":"#000000",bodyColor:n?"#ffffff":"#000000",borderColor:n?"#6b7280":"#d1d5db",borderWidth:1,callbacks:{label:w=>`${w.dataset.label}: ${w.parsed.y}Ï†ê`}}},scales:{x:{grid:{display:!1},ticks:{color:n?"#9ca3af":"#6b7280"}},y:{beginAtZero:!0,max:100,grid:{color:n?"#374151":"#e5e7eb"},ticks:{color:n?"#9ca3af":"#6b7280"}}}},C=t.items.length<=2;return a.jsxs("div",{className:St.LAYOUT.chartContainer.wrapper,children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:["üîÆ ",t.title," ÏÉÅÏÑ∏ Î∂ÑÏÑù"]}),e&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ï∂úÏÉùÏ†ïÎ≥¥: ",e]}),C&&a.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:"üí° Ìï≠Î™©Ïù¥ Ï†ÅÏñ¥ ÎßâÎåÄ Ï∞®Ìä∏Î°ú ÌëúÏãúÎê©ÎãàÎã§"})]}),a.jsx("div",{className:"mb-6",style:{height:St.DIMENSIONS.height},children:C?a.jsx(Xg,{data:j,options:S}):a.jsx(oc,{data:f,options:x})}),a.jsx("div",{className:`${St.LAYOUT.timeFrameSelector.container} mb-6`,children:[{key:"base",label:"Í∏∞Î≥∏",active:"base"},{key:"today",label:"Ïò§Îäò",active:"today"},{key:"month",label:"Ïù¥Îã¨",active:"month"},{key:"year",label:"Ïò¨Ìï¥",active:"year"}].map(({key:w,label:M,active:N})=>a.jsx("button",{onClick:()=>o(w),className:`${St.BUTTON_STYLES.timeFrame.base} ${i===w?St.BUTTON_STYLES.timeFrame.active[w]:St.BUTTON_STYLES.timeFrame.inactive}`,children:M},w))}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-xl p-6 text-center",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["üîÆ ",t.title," Ï¢ÖÌï© Î∂ÑÏÑù"]}),a.jsx("div",{className:"text-lg",children:Number(y)>=80?"‚ú® Îß§Ïö∞ Ïö∞ÏàòÌïú ÏÇ¨Ï£º":Number(y)>=60?"üåü ÏñëÌò∏Ìïú ÏÇ¨Ï£º":Number(y)>=40?"‚≠ê ÌèâÎ≤îÌïú ÏÇ¨Ï£º":"üí™ ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌïú ÏÇ¨Ï£º"}),a.jsx("div",{className:"text-sm mt-2 opacity-90",children:"Í∞Å ÏòÅÏó≠Î≥Ñ Í∑†ÌòïÍ≥º ÏµúÍ≥†Ï†êÏùÑ Ï∞®Ìä∏ÏóêÏÑú ÌôïÏù∏ÌïòÏÑ∏Ïöî"})]})]})};function g8({isOpen:t,onClose:e,onCustomerAdded:s}){const[n,r]=v.useState({name:"",birth_date:"",birth_time:"",phone:"",lunar_solar:"solar",gender:"male",memo:""}),[i,o]=v.useState({}),[l,c]=v.useState(!1),[d,h]=v.useState(null),m=v.useCallback(()=>{l||(u(),e())},[l,e]);v.useEffect(()=>{t&&u()},[t]),v.useEffect(()=>{const j=S=>{S.key==="Escape"&&t&&m()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[t,m]);const u=()=>{r({name:"",birth_date:"",birth_time:"",phone:"",lunar_solar:"solar",gender:"male",memo:""}),o({}),h(null)},g=()=>{const j={};if(n.name.trim()?n.name.length<2&&(j.name="Ïù¥Î¶ÑÏùÄ 2Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"):j.name="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî",!n.birth_date)j.birth_date="ÏÉùÎÖÑÏõîÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî";else{const S=new Date(n.birth_date),C=new Date,w=new Date(1900,0,1);S>C?j.birth_date="ÎØ∏Îûò ÎÇ†ÏßúÎäî ÏÑ†ÌÉùÌï† Ïàò ÏóÜÏäµÎãàÎã§":S<w&&(j.birth_date="1900ÎÖÑ Ïù¥ÌõÑ ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî")}return n.birth_time||(j.birth_time="ÏÉùÏãúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"),n.phone.trim()?/^010-\d{4}-\d{4}$/.test(n.phone)||(j.phone="Ïò¨Î∞îÎ•∏ Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãùÏù¥ ÏïÑÎãôÎãàÎã§ (Ïòà: 010-1234-5678)"):j.phone="Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî",o(j),Object.keys(j).length===0},f=j=>{const S=j.replace(/[^\d]/g,"");return S.length<=3?S:S.length<=7?`${S.slice(0,3)}-${S.slice(3)}`:`${S.slice(0,3)}-${S.slice(3,7)}-${S.slice(7,11)}`},x=(j,S)=>{j==="phone"&&(S=f(S)),r(C=>({...C,[j]:S})),i[j]&&o(C=>({...C,[j]:void 0})),d&&h(null)},b=async j=>{if(j.preventDefault(),!!g()){c(!0),h(null);try{const S={name:n.name.trim(),birth_date:n.birth_date,birth_time:n.birth_time,phone:n.phone,lunar_solar:n.lunar_solar,gender:n.gender,memo:n.memo.trim()},C=await Ym(S);h({type:"success",text:"Í≥†Í∞ùÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!"}),setTimeout(()=>{s(C.data),m()},500)}catch(S){console.error("Í≥†Í∞ù Îì±Î°ù Ïã§Ìå®:",S),h({type:"error",text:S instanceof Error?S.message:"Í≥†Í∞ù Îì±Î°ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"})}finally{c(!1)}}},y=j=>{j.target===j.currentTarget&&m()};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-100",children:[a.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 px-6 py-4 border-b border-gray-200 dark:border-gray-700 rounded-t-2xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"üë§"}),"ÏÉà Í≥†Í∞ù Îì±Î°ù"]}),a.jsx("button",{onClick:m,disabled:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors disabled:opacity-50","aria-label":"Î™®Îã¨ Îã´Í∏∞",children:a.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:b,className:"p-6",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"text-red-500",children:"*"})," Ïù¥Î¶Ñ"]}),a.jsx("input",{type:"text",value:n.name,onChange:j=>x("name",j.target.value),className:`w-full px-4 py-3 border rounded-xl transition-colors
                  ${i.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}
                  dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2`,placeholder:"Í≥†Í∞ù Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",disabled:l,autoComplete:"name"}),i.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"text-red-500",children:"*"})," ÏÉùÎÖÑÏõîÏùº"]}),a.jsx("input",{type:"date",value:n.birth_date,onChange:j=>x("birth_date",j.target.value),max:new Date().toISOString().split("T")[0],min:"1900-01-01",className:`w-full px-4 py-3 border rounded-xl transition-colors
                  ${i.birth_date?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}
                  dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2`,disabled:l}),i.birth_date&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.birth_date})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"text-red-500",children:"*"})," ÏÉùÏãú (24ÏãúÍ∞Ñ ÌòïÏãù)"]}),a.jsx("input",{type:"time",value:n.birth_time,onChange:j=>x("birth_time",j.target.value),className:`w-full px-4 py-3 border rounded-xl transition-colors
                  ${i.birth_time?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}
                  dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2`,disabled:l}),i.birth_time&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.birth_time})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"text-red-500",children:"*"})," Ï†ÑÌôîÎ≤àÌò∏"]}),a.jsx("input",{type:"tel",value:n.phone,onChange:j=>x("phone",j.target.value),className:`w-full px-4 py-3 border rounded-xl transition-colors
                  ${i.phone?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}
                  dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2`,placeholder:"010-1234-5678",disabled:l,autoComplete:"tel"}),i.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"ÏùåÎ†•/ÏñëÎ†•"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",value:"solar",checked:n.lunar_solar==="solar",onChange:()=>x("lunar_solar","solar"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500",disabled:l}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"üåû ÏñëÎ†•"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",value:"lunar",checked:n.lunar_solar==="lunar",onChange:()=>x("lunar_solar","lunar"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500",disabled:l}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"üåô ÏùåÎ†•"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"text-red-500",children:"*"})," ÏÑ±Î≥Ñ"]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",value:"male",checked:n.gender==="male",onChange:()=>x("gender","male"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500",disabled:l}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"üë® ÎÇ®ÏÑ±"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",value:"female",checked:n.gender==="female",onChange:()=>x("gender","female"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500",disabled:l}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"üë© Ïó¨ÏÑ±"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Î©îÎ™®"}),a.jsx("textarea",{value:n.memo,onChange:j=>x("memo",j.target.value),rows:3,className:`w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl
                         dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors resize-none`,placeholder:"Í≥†Í∞ùÏóê ÎåÄÌïú Ï∂îÍ∞Ä Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî (ÏÑ†ÌÉùÏÇ¨Ìï≠)",disabled:l})]}),d&&a.jsx("div",{className:`p-4 rounded-xl text-sm font-medium ${d.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[d.type==="success"?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),d.text]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:m,disabled:l,className:`px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300
                       rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:"Ï∑®ÏÜå"}),a.jsx("button",{type:"submit",disabled:l,className:`px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl
                       hover:from-blue-700 hover:to-blue-800 transition-all duration-200
                       disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})}),"Îì±Î°ù Ï§ë..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Îì±Î°ùÌïòÍ∏∞"]})})]})]})]})}):null}function jl({onSelect:t,selectedCustomer:e,showAddButton:s=!0}){const n=ze(),[r,i]=v.useState([]),[o,l]=v.useState(!1),[c,d]=v.useState(""),[h,m]=v.useState(!1),[u,g]=v.useState(!1),[f,x]=v.useState(!1),b=v.useCallback(async()=>{try{m(!0);const w=await Wm(1,100,c);i(w.data)}catch(w){console.error("Error loading customers:",w)}finally{m(!1)}},[c]);v.useEffect(()=>{b()},[b]),v.useEffect(()=>{!h&&r.length===0&&!e?x(!0):x(!1)},[h,r.length,e]);const y=w=>{t(w),l(!1),d("")},j=()=>{t(null),d("")},S=w=>{b(),t(w),g(!1)},C=()=>{g(!0),l(!1)};return f&&!o?a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-5xl mb-3",children:"üîÆ"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Ïö¥ÏÑ∏Î•º ÌôïÏù∏ÌïòÎ†§Î©¥ ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ÏÉùÎÖÑÏõîÏùºÏãú Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏó¨ ÎßûÏ∂§ Ïö¥ÏÑ∏Î•º Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-6",children:[a.jsx("button",{onClick:()=>n("/settings"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium rounded-lg transition-all transform hover:scale-105 shadow-lg",children:"‚öôÔ∏è ÏÑ§Ï†ïÌïòÎü¨ Í∞ÄÍ∏∞"}),a.jsx("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-purple-600 dark:text-purple-400 font-medium rounded-lg border-2 border-purple-300 dark:border-purple-600 transition-all",children:"‚ûï ÏÉà Í≥†Í∞ù Îì±Î°ù"})]})]})}):a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Í≥†Í∞ù ÏÑ†ÌÉù:"}),e?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[a.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:["üë§ ",e.name," (",e.birth_date,")"]}),a.jsx("button",{onClick:j,className:"text-red-500 hover:text-red-700",children:"‚úï"})]}):a.jsx("button",{onClick:()=>l(!o),className:`px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 
                     rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors`,children:"üë§ Í≥†Í∞ù ÏÑ†ÌÉùÌïòÍ∏∞"})]}),o&&a.jsxs("div",{className:`absolute top-full mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl 
                      border border-gray-200 dark:border-gray-700 z-50`,children:[a.jsxs("div",{className:"p-4 space-y-3",children:[s&&a.jsx("button",{onClick:C,className:`w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg
                         flex items-center justify-center gap-2 transition-colors`,children:"‚ûï ÏÉà Í≥†Í∞ù Îì±Î°ù"}),s&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600"}),a.jsx("input",{type:"text",placeholder:"Ïù¥Î¶Ñ ÎòêÎäî Ï†ÑÌôîÎ≤àÌò∏Î°ú Í≤ÄÏÉâ...",value:c,onChange:w=>d(w.target.value),className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,autoFocus:!0})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:h?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Î°úÎî© Ï§ë..."}):r.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Îì±Î°ùÎêú Í≥†Í∞ùÏù¥ ÏóÜÏäµÎãàÎã§"}):a.jsx("div",{className:"divide-y dark:divide-gray-700",children:r.map(w=>a.jsx("button",{onClick:()=>y(w),className:`w-full px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 
                             transition-colors text-left`,children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:w.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.birth_date," ",w.birth_time," ¬∑",w.lunar_solar==="lunar"?"ÏùåÎ†•":"ÏñëÎ†•"," ¬∑",w.gender==="male"?"ÎÇ®":"Ïó¨"]})]}),a.jsx("div",{className:"text-sm text-gray-400",children:w.phone})]})},w.id))})}),a.jsx("div",{className:"p-2 border-t dark:border-gray-700",children:a.jsx("button",{onClick:()=>l(!1),className:`w-full px-3 py-2 text-gray-600 dark:text-gray-400 
                       hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg`,children:"Îã´Í∏∞"})})]}),a.jsx(g8,{isOpen:u,onClose:()=>g(!1),onCustomerAdded:S})]})}function f8(t){const e=new Date(t.birth_date),[s]=t.birth_time.split(":").map(Number);let n=null;if(t.saju_data)try{n=typeof t.saju_data=="string"?JSON.parse(t.saju_data):t.saju_data}catch(r){console.warn("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± Ïã§Ìå®:",r)}return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:s,isLunar:t.lunar_solar==="lunar",gender:t.gender,sajuData:n}}function x8(t){return t?"name"in t?t.name:"ÏÇ¨Ïö©Ïûê":"ÎØ∏ÏÑ†ÌÉù"}function p8(t){if(!t)return"";if("birth_date"in t){const e=new Date(t.birth_date),s=t.lunar_solar==="lunar"?"(ÏùåÎ†•)":"";return`${e.getFullYear()}ÎÖÑ ${e.getMonth()+1}Ïõî ${e.getDate()}Ïùº ${t.birth_time} ${s}`}else if("birthInfo"in t){const e=t.birthInfo,s=e.isLunar?"(ÏùåÎ†•)":"";return`${e.year}ÎÖÑ ${e.month}Ïõî ${e.day}Ïùº ${e.hour}Ïãú ${s}`}return""}const b8=({customer:t,lifetimeFortune:e,loading:s=!1,error:n=null,onLoadChart:r,onScrollToChart:i})=>{var h,m;const o=x8(t),l=p8(t),c=!!e,d=()=>{c&&i?i():!s&&r&&r()};if(!t)return a.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-6 text-center",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[a.jsx("span",{className:"text-2xl mb-2 block",children:"üìä"}),a.jsx("p",{className:"text-lg font-medium",children:"100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏"}),a.jsx("p",{className:"text-sm mt-2",children:"Í≥†Í∞ùÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§"})]})});if(s)return a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl p-6 text-white shadow-lg animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"animate-spin text-2xl",children:"‚≠ê"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-lg font-bold",children:[o,"ÎãòÏùò 100ÎÖÑ Ïö¥ÏÑ∏Î•º Í≥ÑÏÇ∞ÌïòÍ≥† ÏûàÏäµÎãàÎã§..."]}),a.jsx("p",{className:"text-sm opacity-90 mt-1",children:l})]})]})}),a.jsx("div",{className:"text-white/60",children:a.jsxs("svg",{className:"animate-spin h-8 w-8",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})})]})});if(n)return a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 rounded-xl p-6 text-white shadow-lg cursor-pointer hover:shadow-xl transition-all",onClick:d,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:"‚ùå"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:"Ï∞®Ìä∏ Î°úÎìú Ïã§Ìå®"}),a.jsx("p",{className:"text-sm opacity-90 mt-1",children:n}),a.jsx("p",{className:"text-xs opacity-75 mt-2",children:"ÌÅ¥Î¶≠ÌïòÏó¨ Îã§Ïãú ÏãúÎèÑ"})]})]})}),a.jsx("div",{className:"text-white/60",children:a.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})});if(c){const u=(h=e==null?void 0:e.data)==null?void 0:h.analysis,g=(m=e==null?void 0:e.data)==null?void 0:m.lifetimeFortune;let f={age:0,score:0},x=0;if(u){const b=e.data.analysis;f=b.bestYear,x=b.averageScore}else if(g){const b=e.data.lifetimeFortune;if(b&&b.length>0){const y=b.reduce((S,C)=>C.totalScore>S.totalScore?C:S,b[0]);f={age:y.age,score:y.totalScore},x=b.reduce((S,C)=>S+C.totalScore,0)/b.length}}return a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 rounded-xl p-6 text-white shadow-lg cursor-pointer hover:shadow-xl transition-all transform hover:scale-[1.02]",onClick:d,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:"üìà"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xl font-bold",children:[o,"ÎãòÏùò 100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏"]}),a.jsx("p",{className:"text-sm opacity-90 mt-1",children:l}),a.jsxs("div",{className:"flex gap-4 mt-3 text-xs",children:[a.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded",children:["ÏµúÍ≥†Ïö¥ÏÑ∏: ",f.age,"ÏÑ∏ (",f.score,"Ï†ê)"]}),a.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded",children:["ÌèâÍ∑†: ",x.toFixed(1),"Ï†ê"]})]})]})]})}),a.jsx("div",{className:"text-white",children:a.jsx("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:"text-sm opacity-75",children:"ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÏÑ∏ Ï∞®Ìä∏ Î≥¥Í∏∞ ‚Üì"})})]})}return a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl p-6 text-white shadow-lg cursor-pointer hover:shadow-xl transition-all transform hover:scale-[1.02]",onClick:d,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:"üîÆ"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xl font-bold",children:[o,"ÎãòÏùò 100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏"]}),a.jsx("p",{className:"text-sm opacity-90 mt-1",children:l}),a.jsx("p",{className:"text-xs opacity-75 mt-2",children:"ÌÅ¥Î¶≠ÌïòÏó¨ Ïö¥ÏÑ∏ Ï∞®Ìä∏ ÌôïÏù∏ÌïòÍ∏∞"})]})]})}),a.jsx("div",{className:"text-white",children:a.jsx("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})})};dt.register(rn,an,vs,Qe,Gt,ac,Ps,Ds);function y8({data:t,currentAge:e=0,birthYear:s}){const n=new Date().getFullYear(),r=s||(e>0?n-e+1:n-35),i=v.useMemo(()=>{const c=t.map(f=>`${r+f.age-1}ÎÖÑ`),d=t.map(f=>f.totalScore),h=t.map(f=>f.fortune),m=t.map(f=>f.willpower),u=t.map(f=>f.environment),g=t.map(f=>f.change);return{labels:c,datasets:[{type:"bar",label:"Ï¢ÖÌï© Ïö¥ÏÑ∏",data:d,backgroundColor:f=>{var y;const x=f.dataIndex;return((y=t[x])==null?void 0:y.age)===e?"rgba(55, 65, 81, 0.8)":"rgba(156, 163, 175, 0.6)"},borderColor:f=>{var y;const x=f.dataIndex;return((y=t[x])==null?void 0:y.age)===e?"rgba(55, 65, 81, 1)":"rgba(107, 114, 128, 1)"},borderWidth:1,yAxisID:"y",order:2},{type:"line",label:"ÌñâÏö¥ (Ïû¨Î¨º¬∑Î™ÖÏòà)",data:h,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:3,tension:.4,yAxisID:"y",order:1},{type:"line",label:"ÏùòÏßÄ (Ï∂îÏßÑÎ†•¬∑Ïã§Ìñâ)",data:m,borderColor:"#f97316",backgroundColor:"rgba(249, 115, 22, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:3,tension:.4,yAxisID:"y",order:1},{type:"line",label:"ÌôòÍ≤Ω (ÎåÄÏù∏¬∑ÏßÄÏõê)",data:u,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:3,tension:.4,yAxisID:"y",order:1},{type:"line",label:"Î≥ÄÌôî (Í∏∞Ìöå¬∑ÏúÑÍ∏∞)",data:g,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:3,tension:.4,yAxisID:"y",order:1}]}},[t,r,e]),o=v.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏",font:{size:18,weight:"bold"},padding:20},legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}},title:{padding:{top:35,bottom:10}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,padding:12,displayColors:!0,position:"nearest",yAlign:"bottom",callbacks:{title:c=>{const d=c[0].dataIndex,h=t[d];return`${r+h.age-1}ÎÖÑ (${h.age}ÏÑ∏)`},afterLabel:c=>{const d=c.dataIndex,h=t[d];return c.dataset.label==="Ï¢ÖÌï© Ïö¥ÏÑ∏"?[`ÎåÄÏö¥: ${h.ÎåÄÏö¥.Ï≤úÍ∞Ñ}${h.ÎåÄÏö¥.ÏßÄÏßÄ} (${h.ÎåÄÏö¥.Ïò§Ìñâ})`,`ÏÑ∏Ïö¥: ${h.ÏÑ∏Ïö¥.Ï≤úÍ∞Ñ}${h.ÏÑ∏Ïö¥.ÏßÄÏßÄ} (${h.ÏÑ∏Ïö¥.Ïò§Ìñâ})`]:[]}},external(c){const{chart:d,tooltip:h}=c,m=d.canvas;if(!h||!h.opacity)return;let u=m.parentNode.querySelector("div.chartjs-tooltip");if(u||(u=document.createElement("div"),u.className="chartjs-tooltip",u.style.cssText=`
              position: absolute;
              background: rgba(0, 0, 0, 0.9);
              color: white;
              padding: 12px 16px;
              border-radius: 8px;
              font-size: 13px;
              pointer-events: none;
              transition: all 0.1s ease;
              z-index: 1000;
              min-width: 200px;
              border: 1px solid rgba(255, 255, 255, 0.2);
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            `,m.parentNode.appendChild(u)),h.body){const M=h.title||[],N=h.body.map(_=>_.lines);let k='<div style="font-weight: bold; margin-bottom: 8px; font-size: 14px;">';M.forEach(_=>{k+=_}),k+="</div>",N.forEach((_,E)=>{const T=h.labelColors[E];if(T){const R=`background:${T.backgroundColor}; width: 12px; height: 12px; display: inline-block; margin-right: 8px; border-radius: 2px;`;k+=`<div style="margin: 4px 0;"><span style="${R}"></span>${_}</div>`}else k+=`<div style="margin: 4px 0; color: #cbd5e1; font-size: 12px;">${_}</div>`}),u.innerHTML=k}const g=d.canvas.getBoundingClientRect(),f=d.chartArea,x=u.offsetHeight;let b=g.left+window.pageXOffset+h.caretX;const y=u.offsetWidth;b+y>window.innerWidth&&(b=window.innerWidth-y-10);const j=f.bottom,C=g.height-j,w=g.top+window.pageYOffset+j+(C-x)/2;u.style.left=`${b}px`,u.style.top=`${w}px`,u.style.opacity="1"}}},scales:{x:{display:!0,title:{display:!0,text:"Ïó∞ÎèÑ",font:{size:14}},ticks:{callback(c,d){var h;return d%10===0?`${r+((h=t[d])==null?void 0:h.age)-1}ÎÖÑ`:""},font:{size:11}}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Ïö¥ÏÑ∏ Ï†êÏàò",font:{size:14}},min:0,max:100,ticks:{stepSize:20,font:{size:11}},grid:{color:"rgba(0, 0, 0, 0.1)"}}}}),[t,r]),l=v.useMemo(()=>({id:"currentAgeIndicator",afterDraw:c=>{var x;if(!e||e<=0)return;const d=c.ctx,h=c.chartArea,m=c.getDatasetMeta(0),u=t.findIndex(b=>b.age===e);if(u===-1)return;const g=(x=m.data[u])==null?void 0:x.x;if(!g)return;d.save(),d.strokeStyle="#ef4444",d.lineWidth=3,d.setLineDash([5,5]),d.beginPath(),d.moveTo(g,h.top),d.lineTo(g,h.bottom),d.stroke(),d.fillStyle="#ef4444",d.font="bold 12px sans-serif",d.textAlign="center";const f=n;d.fillText(`ÌòÑÏû¨ ${f}ÎÖÑ (${e}ÏÑ∏)`,g,h.top-40),d.restore()}}),[e,t,r]);return a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Ï∞®Ìä∏"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï†ÑÌÜµ ÏÇ¨Ï£ºÌïôÏùò ÎåÄÏö¥(Â§ßÈÅã)Í≥º ÏÑ∏Ïö¥(Ê≠≤ÈÅã)ÏùÑ Í∏∞Î∞òÏúºÎ°ú Ìïú 100ÎÖÑÍ∞ÑÏùò Ïù∏ÏÉù Ïö¥ÏÑ∏Î•º ÏãúÍ∞ÅÌôîÌï©ÎãàÎã§."})]}),a.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"ÌñâÏö¥: Ïû¨Î¨º¬∑Î™ÖÏòà¬∑ÏÑ±Í≥µ"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"ÏùòÏßÄ: Ï∂îÏßÑÎ†•¬∑Ïã§ÌñâÎ†•"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"ÌôòÍ≤Ω: ÎåÄÏù∏Í¥ÄÍ≥Ñ¬∑ÏßÄÏõê"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-purple-500 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Î≥ÄÌôî: Í∏∞Ìöå¬∑ÏúÑÍ∏∞¬∑Î≥ÄÎèô"})]})]}),a.jsx("div",{className:"relative h-96 md:h-[500px] pt-8 pb-24",children:a.jsx(Jg,{type:"bar",data:i,options:o,plugins:[l]})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Ïù∏ÏÉù Ï£ºÏöî Ï†ÑÌôòÏ†ê"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"20-30ÏÑ∏:"})," Í∏∞Î∞ò Íµ¨Ï∂ïÍ∏∞"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"40-50ÏÑ∏:"})," ÏÑ±Ï∑® Î∞úÏ†ÑÍ∏∞"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"60-70ÏÑ∏:"})," ÏôÑÏÑ± ÏïàÏ†ïÍ∏∞"]})]})]})]})})}const ua={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},ma={Ïûê:"Ïàò",Ï∂ï:"ÌÜ†",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏßÑ:"ÌÜ†",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïà†:"ÌÜ†",Ìï¥:"Ïàò"};class v8{static generateUniversalLifeChart(e,s){const n=new Date(s.birthDate).getFullYear(),r=new Date().getFullYear(),i=r-n+1;console.log("üîÆ UniversalSajuEngine v7.0 - ÏÇ¨Ï£º Í∏∞Î∞ò Í∞úÏù∏Î≥Ñ Ï†êÏàò Í≥ÑÏÇ∞ ÏãúÏûë"),console.log("üìÖ ÏÉùÎÖÑ:",n),console.log("üéØ ÏÇ¨Ï£º:",e);const o=V_(e,n);console.log("üìä Í≥ÑÏÇ∞Îêú Ï†êÏàò Í≤∞Í≥º:",{baseScore:o.baseScore,pattern:o.pattern,characteristics:o.keyCharacteristics});const l=this.generateChartFromScores(o.yearlyScores,n,e),c=this.analyzeLifePeriods(l,n),d={calculationDate:new Date().toISOString(),version:"7.0.0",accuracy:Math.round(100-o.pattern.volatility*20)};return{personalInfo:s,timeline:{startYear:n,endYear:n+95,currentYear:r,currentAge:i,lifeProgress:Math.round(i/95*100)},chartData:l,lifePeriods:c,metadata:d}}static generateChartFromScores(e,s,n){const r={geunbon:[],woon:[],haeng:[],hyeong:[],byeon:[]},i=this.calculateDimensionFactors(n);for(let o=0;o<=95;o++){const l=s+o,c=e[o]||50;r.geunbon.push({age:o,value:c,year:l,intensity:Math.abs(c-50)/50});const d=Math.max(0,Math.min(100,c+Math.sin(o*i.woon)*8));r.woon.push({age:o,value:d,year:l,intensity:Math.abs(d-50)/50});const h=Math.max(0,Math.min(100,c+Math.sin(o*i.haeng)*10));r.haeng.push({age:o,value:h,year:l,intensity:Math.abs(h-50)/50});const m=Math.max(0,Math.min(100,c+Math.cos(o*i.hyeong)*7));r.hyeong.push({age:o,value:m,year:l,intensity:Math.abs(m-50)/50});const u=Math.max(0,Math.min(100,c+Math.sin(o*i.byeon)*12));r.byeon.push({age:o,value:u,year:l,intensity:Math.abs(u-50)/50})}return r}static calculateWuxingBalance(e){const s={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};s[ua[e.year.gan]]++,s[ua[e.month.gan]]++,s[ua[e.day.gan]]++,s[ua[e.time.gan]]++,s[ma[e.year.ji]]++,s[ma[e.month.ji]]++,s[ma[e.day.ji]]++,s[ma[e.time.ji]]++;const n=Object.values(s),r=Math.max(...n),i=Math.min(...n);return 100-(r-i)*15}static calculateDimensionFactors(e){const s=this.getSajuHash(e);return{woon:.15+s%10*.01,haeng:.2+s%7*.01,hyeong:.08+s%5*.01,byeon:.3+s%8*.01}}static getSajuHash(e){const s={Í∞ë:1,ÏùÑ:2,Î≥ë:3,Ï†ï:4,Î¨¥:5,Í∏∞:6,Í≤Ω:7,Ïã†:8,ÏûÑ:9,Í≥Ñ:10},n={Ïûê:1,Ï∂ï:2,Ïù∏:3,Î¨ò:4,ÏßÑ:5,ÏÇ¨:6,Ïò§:7,ÎØ∏:8,Ïã†:9,Ïú†:10,Ïà†:11,Ìï¥:12};return s[e.year.gan]*1e3+n[e.year.ji]*100+s[e.month.gan]*50+n[e.month.ji]*25+s[e.day.gan]*10+n[e.day.ji]*5+s[e.time.gan]*2+n[e.time.ji]}static generatePreciseChart_DEPRECATED(e,s,n){const r={geunbon:[],woon:[],haeng:[],hyeong:[],byeon:[]};for(let i=0;i<=95;i++){const l=Math.max(0,Math.min(100,50));r.geunbon.push({age:i,value:l,year:2e3+i,intensity:Math.abs(l-50)/50});const c=Math.max(0,Math.min(100,50+Math.sin(i*.15)*8));r.woon.push({age:i,value:c,year:2e3+i,intensity:Math.abs(c-50)/50});const d=Math.max(0,Math.min(100,50+Math.sin(i*.2)*10));r.haeng.push({age:i,value:d,year:2e3+i,intensity:Math.abs(d-50)/50});const h=Math.max(0,Math.min(100,50+Math.sin(i*.08)*5));r.hyeong.push({age:i,value:h,year:2e3+i,intensity:Math.abs(h-50)/50});const m=Math.max(0,Math.min(100,50+Math.cos(i*.3)*12));r.byeon.push({age:i,value:m,year:2e3+i,intensity:Math.abs(m-50)/50})}return r}static analyzeLifePeriods(e,s){const n=[];return[{phase:"childhood",start:0,end:12,desc:"ÏÑ±Ïû•Í≥º Í∏∞Ï¥à ÌòïÏÑ±Í∏∞"},{phase:"youth",start:13,end:22,desc:"ÌïôÏäµÍ≥º ÌÉêÏÉâÍ∏∞"},{phase:"early_adult",start:23,end:35,desc:"ÎèÑÏ†ÑÍ≥º ÏÑ±Ï∑®Í∏∞"},{phase:"middle_adult",start:36,end:50,desc:"ÏïàÏ†ïÍ≥º Î∞úÏ†ÑÍ∏∞"},{phase:"late_adult",start:51,end:65,desc:"ÏÑ±ÏàôÍ≥º ÏßÄÌòúÍ∏∞"},{phase:"senior",start:66,end:80,desc:"Ïó¨Ïú†ÏôÄ Ï†ÑÏàòÍ∏∞"},{phase:"elder",start:81,end:95,desc:"ÏôÑÏÑ±Í≥º ÌöåÍ≥†Í∏∞"}].forEach(({phase:i,start:o,end:l,desc:c})=>{const d=e.geunbon.slice(o,Math.min(l+1,e.geunbon.length));if(d.length===0)return;const h=d.reduce((y,j)=>y+j.value,0)/d.length,m=d.filter(y=>Math.abs(y.value-50)>20).map(y=>y.age).slice(0,3);let u="stable";const g=d.slice(0,Math.floor(d.length/2)),f=d.slice(Math.floor(d.length/2)),x=g.reduce((y,j)=>y+j.value,0)/g.length||0,b=f.reduce((y,j)=>y+j.value,0)/f.length||0;b-x>5?u="ascending":x-b>5?u="descending":Math.abs(h-50)>15&&(u="turbulent"),n.push({startAge:o,endAge:l,phase:i,description:c,majorEvents:this.getMajorEvents(i),overallTrend:u,keyYears:m})}),n}static getMajorEvents(e){return{childhood:["ÏÑ±Ïû•Í∏∞ ÌäπÏÑ± ÌòïÏÑ±","Í∏∞Ï¥à ÍµêÏú° ÏãúÏûë","Í∞ÄÏ°±Í¥ÄÍ≥Ñ ÌòïÏÑ±"],youth:["ÌïôÏóÖ ÏßëÏ§ëÍ∏∞","ÏßÑÎ°ú ÌÉêÏÉâ","ÏûêÏïÑ Ï†ïÏ≤¥ÏÑ± ÌôïÎ¶Ω"],early_adult:["ÏÇ¨Ìöå ÏßÑÏ∂ú","Í≤ΩÎ†• ÏãúÏûë","Ïù∏Í∞ÑÍ¥ÄÍ≥Ñ ÌôïÎåÄ"],middle_adult:["Í≤ΩÎ†• ÏïàÏ†ïÍ∏∞","Í∞ÄÏ†ï ÌòïÏÑ±","ÏÇ¨ÌöåÏ†Å ÏÑ±Ï∑®"],late_adult:["Ï†ÑÎ¨∏ÏÑ± Ï†ïÏ†ê","ÌõÑÏßÑ ÏñëÏÑ±","Ïù∏ÏÉù ÏÑ±Ï∞∞"],senior:["ÏùÄÌá¥ Ï§ÄÎπÑ","Í±¥Í∞ï Í¥ÄÎ¶¨","ÏßÄÌòú Ï†ÑÏàò"],elder:["Ïó¨ÏÉù Ï†ïÎ¶¨","Ïú†ÏÇ∞ Ï†ÑÎã¨","ÌöåÍ≥†ÏôÄ ÏÑ±Ï∞∞"]}[e]||[]}}function j8(t){const e=[];try{const s={year:{gan:t.year.gan,ji:t.year.ji,combined:t.year.gan+t.year.ji},month:{gan:t.month.gan,ji:t.month.ji,combined:t.month.gan+t.month.ji},day:{gan:t.day.gan,ji:t.day.ji,combined:t.day.gan+t.day.ji},time:{gan:t.time.gan,ji:t.time.ji,combined:t.time.gan+t.time.ji}};return ga(s.year)||e.push("ÎÖÑÏ£º Îç∞Ïù¥ÌÑ∞ Î∂àÏôÑÏ†Ñ"),ga(s.month)||e.push("ÏõîÏ£º Îç∞Ïù¥ÌÑ∞ Î∂àÏôÑÏ†Ñ"),ga(s.day)||e.push("ÏùºÏ£º Îç∞Ïù¥ÌÑ∞ Î∂àÏôÑÏ†Ñ"),ga(s.time)||e.push("ÏãúÏ£º Îç∞Ïù¥ÌÑ∞ Î∂àÏôÑÏ†Ñ"),{standardSaju:s,isValid:e.length===0,source:"backend",warnings:e}}catch(s){throw console.error("Backend ÏÇ¨Ï£º Î≥ÄÌôò Ïã§Ìå®:",s),new Error(`Backend ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò Ïã§Ìå®: ${s}`)}}function w8(t){const e=[];try{const s={year:{gan:t.year.heavenly,ji:t.year.earthly,combined:t.year.combined},month:{gan:t.month.heavenly,ji:t.month.earthly,combined:t.month.combined},day:{gan:t.day.heavenly,ji:t.day.earthly,combined:t.day.combined},time:{gan:t.hour.heavenly,ji:t.hour.earthly,combined:t.hour.combined}};return s.year.combined!==s.year.gan+s.year.ji&&e.push("ÎÖÑÏ£º Ï°∞Ìï© Î∂àÏùºÏπò"),s.month.combined!==s.month.gan+s.month.ji&&e.push("ÏõîÏ£º Ï°∞Ìï© Î∂àÏùºÏπò"),s.day.combined!==s.day.gan+s.day.ji&&e.push("ÏùºÏ£º Ï°∞Ìï© Î∂àÏùºÏπò"),s.time.combined!==s.time.gan+s.time.ji&&e.push("ÏãúÏ£º Ï°∞Ìï© Î∂àÏùºÏπò"),{standardSaju:s,isValid:e.length===0,source:"frontend",warnings:e}}catch(s){throw console.error("Frontend ÏÇ¨Ï£º Î≥ÄÌôò Ïã§Ìå®:",s),new Error(`Frontend ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò Ïã§Ìå®: ${s}`)}}function k8(t,e){const s={year:t.year.combined!==e.year.combined,month:t.month.combined!==e.month.combined,day:t.day.combined!==e.day.combined,time:t.time.combined!==e.time.combined},n=4,r=Object.values(s).filter(l=>!l).length,i=Math.round(r/n*100);let o;return i>=75?o="use_backend":i>=50?o="use_frontend":o="recalculate",{isMatch:i===100,differences:s,confidence:i,recommendation:o}}function N8(t,e){console.log("üîç ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ìï¥Í≤∞ ÏãúÏûë");let s=null,n=null;if(t)try{const r=j8(t);r.isValid?(s=r.standardSaju,console.log("‚úÖ Backend ÏÇ¨Ï£º Î≥ÄÌôò ÏÑ±Í≥µ:",s)):console.warn("‚ö†Ô∏è Backend ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùå:",r.warnings)}catch(r){console.error("‚ùå Backend ÏÇ¨Ï£º Î≥ÄÌôò Ïã§Ìå®:",r)}if(e)try{const r=w8(e);r.isValid?(n=r.standardSaju,console.log("‚úÖ Frontend ÏÇ¨Ï£º Î≥ÄÌôò ÏÑ±Í≥µ:",n)):console.warn("‚ö†Ô∏è Frontend ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùå:",r.warnings)}catch(r){console.error("‚ùå Frontend ÏÇ¨Ï£º Î≥ÄÌôò Ïã§Ìå®:",r)}if(s&&n){const r=k8(s,n);if(console.log(`üîç ÏÇ¨Ï£º ÏùºÏπòÎèÑ: ${r.confidence}%`),console.log("Ï∞®Ïù¥Ï†ê:",r.differences),r.isMatch)return console.log("‚úÖ ÏÇ¨Ï£º ÏôÑÏ†Ñ ÏùºÏπò - Backend Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©"),{finalSaju:s,resolution:"ÏÇ¨Ï£º ÏôÑÏ†Ñ ÏùºÏπò - Backend Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©",confidence:100};switch(r.recommendation){case"use_backend":return console.log("üì§ Backend Îç∞Ïù¥ÌÑ∞ Ïö∞ÏÑ† ÏÇ¨Ïö© (ÏùºÏπòÎèÑ ÎÜíÏùå)"),{finalSaju:s,resolution:`Backend Ïö∞ÏÑ† ÏÇ¨Ïö© (ÏùºÏπòÎèÑ: ${r.confidence}%)`,confidence:r.confidence};case"use_frontend":return console.log("üîÑ Frontend Ïû¨Í≥ÑÏÇ∞ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö© (ÏùºÏπòÎèÑ Ï§ëÍ∞Ñ)"),{finalSaju:n,resolution:`Frontend Ïû¨Í≥ÑÏÇ∞ ÏÇ¨Ïö© (ÏùºÏπòÎèÑ: ${r.confidence}%)`,confidence:r.confidence};default:return console.log("‚ö†Ô∏è ÏÇ¨Ï£º Ïã¨Í∞ÅÌïú Î∂àÏùºÏπò - Backend Îç∞Ïù¥ÌÑ∞ Í∞ïÏ†ú ÏÇ¨Ïö©"),{finalSaju:s,resolution:`Ïã¨Í∞ÅÌïú Î∂àÏùºÏπòÎ°ú Backend Í∞ïÏ†ú ÏÇ¨Ïö© (ÏùºÏπòÎèÑ: ${r.confidence}%)`,confidence:r.confidence}}}if(s)return console.log("üì§ Backend Îç∞Ïù¥ÌÑ∞Îßå ÏÇ¨Ïö© Í∞ÄÎä•"),{finalSaju:s,resolution:"Backend Îç∞Ïù¥ÌÑ∞Îßå ÏÇ¨Ïö©",confidence:80};if(n)return console.log("üîÑ Frontend Ïû¨Í≥ÑÏÇ∞ Îç∞Ïù¥ÌÑ∞Îßå ÏÇ¨Ïö© Í∞ÄÎä•"),{finalSaju:n,resolution:"Frontend Ïû¨Í≥ÑÏÇ∞ Îç∞Ïù¥ÌÑ∞Îßå ÏÇ¨Ïö©",confidence:60};throw new Error("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÍ±∞ÎÇò Î™®Îëê Ïú†Ìö®ÌïòÏßÄ ÏïäÏùå")}function ga(t){const e=["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"],s=["Ïûê","Ï∂ï","Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨","Ïò§","ÎØ∏","Ïã†","Ïú†","Ïà†","Ìï¥"];return e.includes(t.gan)&&s.includes(t.ji)&&t.combined===t.gan+t.ji}function S8(t){return{year:{gan:t.year.gan,ji:t.year.ji},month:{gan:t.month.gan,ji:t.month.ji},day:{gan:t.day.gan,ji:t.day.ji},time:{gan:t.time.gan,ji:t.time.ji}}}function C8(t,e){console.log(`üîç ${e} ÏÇ¨Ï£º:`,{ÎÖÑÏ£º:t.year.combined,ÏõîÏ£º:t.month.combined,ÏùºÏ£º:t.day.combined,ÏãúÏ£º:t.time.combined})}const vo=["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"],jo=["Ïûê","Ï∂ï","Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨","Ïò§","ÎØ∏","Ïã†","Ïú†","Ïà†","Ìï¥"],Tn={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},_8={Ïù∏:"Î™©",Î¨ò:"Î™©",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÏßÑ:"ÌÜ†",Ïà†:"ÌÜ†",Ï∂ï:"ÌÜ†",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïûê:"Ïàò",Ìï¥:"Ïàò"},wo={Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"},ko={Î™©:"ÌÜ†",Ìôî:"Í∏à",ÌÜ†:"Ïàò",Í∏à:"Î™©",Ïàò:"Ìôî"},x0={Î¥Ñ:{Î™©:100,Ìôî:50,ÌÜ†:25,Í∏à:10,Ïàò:75},Ïó¨Î¶Ñ:{Î™©:25,Ìôî:100,ÌÜ†:75,Í∏à:10,Ïàò:10},Í∞ÄÏùÑ:{Î™©:10,Ìôî:10,ÌÜ†:25,Í∏à:100,Ïàò:50},Í≤®Ïö∏:{Î™©:50,Ìôî:10,ÌÜ†:10,Í∏à:75,Ïàò:100}},M8={Ïù∏:"Î¥Ñ",Î¨ò:"Î¥Ñ",ÏßÑ:"Î¥Ñ",ÏÇ¨:"Ïó¨Î¶Ñ",Ïò§:"Ïó¨Î¶Ñ",ÎØ∏:"Ïó¨Î¶Ñ",Ïã†:"Í∞ÄÏùÑ",Ïú†:"Í∞ÄÏùÑ",Ïà†:"Í∞ÄÏùÑ",Ïûê:"Í≤®Ïö∏",Ï∂ï:"Í≤®Ïö∏",Ìï¥:"Í≤®Ïö∏"},p0={Í∞ë:"Í∏∞",Í∏∞:"Í∞ë",ÏùÑ:"Í≤Ω",Í≤Ω:"ÏùÑ",Î≥ë:"Ïã†",Ïã†:"Î≥ë",Ï†ï:"ÏûÑ",ÏûÑ:"Ï†ï",Î¨¥:"Í≥Ñ",Í≥Ñ:"Î¨¥"},b0={Ïûê:"Ïò§",Ïò§:"Ïûê",Ï∂ï:"ÎØ∏",ÎØ∏:"Ï∂ï",Ïù∏:"Ïã†",Ïã†:"Ïù∏",Î¨ò:"Ïú†",Ïú†:"Î¨ò",ÏßÑ:"Ïà†",Ïà†:"ÏßÑ",ÏÇ¨:"Ìï¥",Ìï¥:"ÏÇ¨"},E8={Ïûê:"Ï∂ï",Ï∂ï:"Ïûê",Ïù∏:"Ìï¥",Ìï¥:"Ïù∏",Î¨ò:"Ïà†",Ïà†:"Î¨ò",ÏßÑ:"Ïú†",Ïú†:"ÏßÑ",ÏÇ¨:"Ïã†",Ïã†:"ÏÇ¨",Ïò§:"ÎØ∏",ÎØ∏:"Ïò§"};class Ox{static calculateAuthenticLifeChart(e,s){this.DEBUG&&(console.log("üîÆ Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô Í≥ÑÏÇ∞ ÏãúÏûë"),console.log("üìÖ ÏÇ¨Ï£º ÌåîÏûê:",e),console.log("üéÇ Ï∂úÏÉùÎÖÑÎèÑ:",s));const n=this.analyzeGyeokGuk(e),r=this.selectYongSin(n),i=this.calculateDaeUn(e,n),o=this.calculateYearlyScores(e,n,r,i,s),l=this.calculateStatistics(o,r);return this.DEBUG&&(console.log("‚úÖ Í≤©Íµ≠ Î∂ÑÏÑù ÏôÑÎ£å:",n),console.log("‚úÖ Ïö©Ïã† ÏÑ†Ï†ï ÏôÑÎ£å:",r),console.log("üìä ÎåÄÏö¥ Ïàò:",i.length),console.log("üìà ÌèâÍ∑† Ï†êÏàò:",l.ÌèâÍ∑†Ï†êÏàò)),{Í∞úÏù∏Ï†ïÎ≥¥:{ÏÇ¨Ï£º:this.formatSaju(e),Í≤©Íµ≠:n,Ïö©Ïã†:r},ÎåÄÏö¥Î™©Î°ù:i,Ïó∞ÎèÑÎ≥ÑÏ†êÏàò:o,ÌÜµÍ≥Ñ:l}}static analyzeGyeokGuk(e){const s=e.day.gan,n=Tn[s],r=e.month.ji,i=M8[r],o={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};[e.year.gan,e.month.gan,e.day.gan,e.time.gan].forEach(u=>{o[Tn[u]]+=20}),[e.year.ji,e.month.ji,e.day.ji,e.time.ji].forEach(u=>{o[_8[u]]+=30});const c=x0[i][n];let d;const h=o[n]+c;h>=120?d="Í∞ï":h<=60?d="ÏïΩ":d="Ï§ë";let m="ÏùºÎ∞òÍ≤©";return d==="Í∞ï"?m="Ïã†Í∞ïÍ≤©":d==="ÏïΩ"&&(m="Ïã†ÏïΩÍ≤©"),this.DEBUG&&(console.log("üèõÔ∏è Í≤©Íµ≠ Î∂ÑÏÑù:"),console.log(`   ÏùºÍ∞Ñ: ${s}(${n}) | ÏõîÎ†π: ${r}(${i})`),console.log("   Ïò§ÌñâÎ∂ÑÌè¨:",o),console.log(`   ÏõîÎ†πÏßÄÏõê: ${c} | ÏùºÍ∞ÑÍ∞ïÏïΩ: ${d}`),console.log(`   Í≤©Íµ≠Ïú†Ìòï: ${m}`)),{ÏùºÍ∞Ñ:s,ÏùºÍ∞ÑÏò§Ìñâ:n,ÏùºÍ∞ÑÍ∞ïÏïΩ:d,ÏõîÎ†π:r,Í≥ÑÏ†à:i,ÏõîÎ†πÏßÄÏõê:c,Ïò§ÌñâÎ∂ÑÌè¨:o,Í≤©Íµ≠Ïú†Ìòï:m}}static selectYongSin(e){const s={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};if(e.ÏùºÍ∞ÑÍ∞ïÏïΩ==="ÏïΩ")s[e.ÏùºÍ∞ÑÏò§Ìñâ]+=100,s[this.getGeneratingElement(e.ÏùºÍ∞ÑÏò§Ìñâ)]+=90;else if(e.ÏùºÍ∞ÑÍ∞ïÏïΩ==="Í∞ï")s[wo[e.ÏùºÍ∞ÑÏò§Ìñâ]]+=100,s[ko[e.ÏùºÍ∞ÑÏò§Ìñâ]]+=90,s[this.getConflictingElement(e.ÏùºÍ∞ÑÏò§Ìñâ)]+=80;else{const d=Object.values(e.Ïò§ÌñâÎ∂ÑÌè¨).reduce((h,m)=>h+m)/5;Object.entries(e.Ïò§ÌñâÎ∂ÑÌè¨).forEach(([h,m])=>{m<d&&(s[h]+=d-m)})}const n=x0[e.Í≥ÑÏ†à];Object.entries(n).forEach(([d,h])=>{h<30&&(s[d]+=50)});const r=Object.entries(s).sort(([,d],[,h])=>h-d).map(([d])=>d),i=r.slice(0,2),o=r.slice(2,4),l=r.slice(4);let c="";return e.ÏùºÍ∞ÑÍ∞ïÏïΩ==="ÏïΩ"?c="Ïã†ÏïΩÏúºÎ°ú Ïù∏Ìïú Î∂ÄÏ°± Ïò§Ìñâ Î≥¥Ï∂© ÌïÑÏöî":e.ÏùºÍ∞ÑÍ∞ïÏïΩ==="Í∞ï"?c="Ïã†Í∞ïÏúºÎ°ú Ïù∏Ìïú Í≥ºÏûâ Ïò§Ìñâ ÏÜåÎ™® ÌïÑÏöî":c="Ï§ëÌôîÎ°ú Ïù∏Ìïú Í∑†Ìòï Ïò§Ìñâ Î≥¥ÏôÑ ÌïÑÏöî",this.DEBUG&&(console.log("‚≠ê Ïö©Ïã† ÏÑ†Ï†ï:"),console.log(`   Ïö©Ïã†: [${i.join(", ")}]`),console.log(`   Í∏∞Ïã†: [${o.join(", ")}]`),console.log("   Ïö©Ïã†Ï†êÏàò:",s),console.log(`   ÏÑ†Ï†ïÏù¥Ïú†: ${c}`)),{Ïö©Ïã†:i,Í∏∞Ïã†:o,Ìù¨Ïã†:l,Í∏∞Ïã†ÏõêÏù∏:c,Ïö©Ïã†Ï†êÏàò:s}}static calculateDaeUn(e,s){const n=[],r=e.day.gan,i=e.year.gan,o=this.determineDaeunDirection(r,i),l=vo.indexOf(e.month.gan),c=jo.indexOf(e.month.ji);for(let d=0;d<10;d++){let h,m;o==="ÏàúÌñâ"?(h=(l+d+1)%10,m=(c+d+1)%12):(h=(l-d-1+10)%10,m=(c-d-1+12)%12);const u=vo[h],g=jo[m],f=Tn[u];let x=50;u===r?x+=15:p0[r]===u?x+=25:wo[f]===s.ÏùºÍ∞ÑÏò§Ìñâ?x+=20:ko[f]===s.ÏùºÍ∞ÑÏò§Ìñâ&&(x-=15),b0[e.day.ji]===g?x-=20:E8[e.day.ji]===g&&(x+=15);const b=this.analyzeDaeunFeatures(d,u,g,o);n.push({cycle:d,Ï≤úÍ∞Ñ:u,ÏßÄÏßÄ:g,Ïò§Ìñâ:f,ÏàúÏó≠Ìñâ:o,Ï†êÏàò:Math.max(10,Math.min(90,x)),ÌäπÏßï:b})}return this.DEBUG&&(console.log("üåä ÎåÄÏö¥ Í≥ÑÏÇ∞:"),console.log(`   ÏàúÏó≠Ìñâ: ${o}`),n.slice(0,3).forEach(d=>{console.log(`   ${d.cycle*10}-${d.cycle*10+9}ÏÑ∏: ${d.Ï≤úÍ∞Ñ}${d.ÏßÄÏßÄ}(${d.Ïò§Ìñâ}) ${d.Ï†êÏàò}Ï†ê`)})),n}static calculateYearlyScores(e,s,n,r,i){const o=[],l=this.getÍ≤©Íµ≠Î≥ÑÍ∏∞Î≥∏Ï†êÏàò(s.Í≤©Íµ≠Ïú†Ìòï,s.ÏùºÍ∞Ñ),c=this.getÏùºÍ∞ÑÎ≥¥Ï†ïÍ∞í(s.ÏùºÍ∞Ñ);for(let d=0;d<=95;d++){const h=i+d,m=Math.floor(d/10),u=r[m]||r[r.length-1],g=(h-4)%10,f=(h-4)%12,x=vo[g],b=jo[f],y=Tn[x];let j=l+c;x===e.day.gan?j+=10:p0[e.day.gan]===x&&(j+=15);let S=0;const C=this.getÎÇòÏù¥Î≥ÑÏö©Ïã†Í∞ÄÏ§ëÏπò(d);n.Ïö©Ïã†.includes(y)?S+=35*C:n.Ìù¨Ïã†.includes(y)?S+=18*C:n.Í∏∞Ïã†.includes(y)&&(S-=30*C);let w=0;u.Ï≤úÍ∞Ñ===x&&(w+=20),u.ÏßÄÏßÄ===b&&(w+=15),b0[u.ÏßÄÏßÄ]===b&&(w-=25);const M=u.Ï†êÏàò,N=Math.max(10,Math.min(90,M*.4+(j+S)*.4+w*.2)),k={ÎÖÑÎèÑ:h,ÎÇòÏù¥:d,Ï≤úÍ∞Ñ:x,ÏßÄÏßÄ:b,Ïò§Ìñâ:y,Ï†êÏàò:j,ÎåÄÏö¥ÏÉÅÌò∏ÏûëÏö©:w};o.push({ÎÇòÏù¥:d,ÎÖÑÎèÑ:h,Ï¥ùÏ†ê:Math.round(N),ÎåÄÏö¥Ï†êÏàò:M,ÏÑ∏Ïö¥Ï†êÏàò:j,Ïö©Ïã†Ìö®Í≥º:S,ÏÉÅÏÑ∏:k})}return o}static calculateStatistics(e,s){const n=e.map(m=>m.Ï¥ùÏ†ê),r=Math.max(...n),i=Math.min(...n),o=n.reduce((m,u)=>m+u)/n.length,l=e.find(m=>m.Ï¥ùÏ†ê===r),c=e.find(m=>m.Ï¥ùÏ†ê===i),h=e.filter(m=>m.Ïö©Ïã†Ìö®Í≥º>20).length/e.length*100;return{ÏµúÍ≥†Ï†êÎÖÑÎèÑ:{ÎÇòÏù¥:l.ÎÇòÏù¥,Ï†êÏàò:r},ÏµúÏ†ÄÏ†êÎÖÑÎèÑ:{ÎÇòÏù¥:c.ÎÇòÏù¥,Ï†êÏàò:i},ÌèâÍ∑†Ï†êÏàò:Math.round(o),Ïö©Ïã†Î∂ÄÌï©ÎèÑ:Math.round(h)}}static getÍ≤©Íµ≠Î≥ÑÍ∏∞Î≥∏Ï†êÏàò(e,s){return{Ïã†Í∞ïÍ≤©:70,Ïã†ÏïΩÍ≤©:50,Ï¢ÖÍ≤©:60,ÌäπÏàòÍ≤©:65,Í∏∞ÌÉÄ:55}[e]||55}static getÏùºÍ∞ÑÎ≥¥Ï†ïÍ∞í(e){return{Í∞ë:5,ÏùÑ:3,Î≥ë:7,Ï†ï:4,Î¨¥:6,Í∏∞:2,Í≤Ω:8,Ïã†:3,ÏûÑ:4,Í≥Ñ:5}[e]||0}static getÎÇòÏù¥Î≥ÑÏö©Ïã†Í∞ÄÏ§ëÏπò(e){return e>=20&&e<=40?1.5:e>=40&&e<=60?1.3:e>=60?1.1:1}static getGeneratingElement(e){return Object.fromEntries(Object.entries(wo).map(([n,r])=>[r,n]))[e]}static getConflictingElement(e){return Object.fromEntries(Object.entries(ko).map(([n,r])=>[r,n]))[e]}static determineDaeunDirection(e,s){return["Í∞ë","Î≥ë","Î¨¥","Í≤Ω","ÏûÑ"].includes(s)?"ÏàúÌñâ":"Ïó≠Ìñâ"}static analyzeDaeunFeatures(e,s,n,r){const i=[];e===0?i.push("Í∏∞Ï¥àÌòïÏÑ±Í∏∞"):e===1?i.push("ÏÑ±Ïû•Î∞úÏ†ÑÍ∏∞"):e===2?i.push("ÎèÑÏ†ÑÍ∏∞ÌöåÍ∏∞"):e===3?i.push("ÏïàÏ†ïÌôïÎ¶ΩÍ∏∞"):e===4?i.push("ÏÑ±ÏàôÏ†ÑÏÑ±Í∏∞"):e===5?i.push("ÏßÄÌòúÏ†ÑÏàòÍ∏∞"):i.push("ÏôÑÏÑ±ÌöåÍ≥†Í∏∞");const o=Tn[s];return i.push(`${o}Í∏∞Ïö¥`),i.join(", ")}static formatSaju(e){return`${e.year.gan}${e.year.ji} ${e.month.gan}${e.month.ji} ${e.day.gan}${e.day.ji} ${e.time.gan}${e.time.ji}`}static createParkJunSooTestCase(){return{year:{gan:"Ïã†",ji:"Ìï¥"},month:{gan:"Í∏∞",ji:"Ìï¥"},day:{gan:"Î≥ë",ji:"Ïò§"},time:{gan:"Í≤Ω",ji:"Ïù∏"}}}static createJeongBiJeTestCase(){return{year:{gan:"Î≥ë",ji:"ÏßÑ"},month:{gan:"Ï†ï",ji:"Ïú†"},day:{gan:"Ïã†",ji:"ÎØ∏"},time:{gan:"Í≥Ñ",ji:"ÏÇ¨"}}}static runTestCases(){var i,o,l,c;console.log("üß™ === Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô ÌÖåÏä§Ìä∏ ÏºÄÏù¥Ïä§ Ïã§Ìñâ ==="),console.log(`
üë§ Î∞ïÏ§ÄÏàò (Ïã†Ìï¥Í∏∞Ìï¥Î≥ëÏò§Í≤ΩÏù∏) ÌÖåÏä§Ìä∏:`);const e=this.createParkJunSooTestCase(),s=this.calculateAuthenticLifeChart(e,1971);console.log("Ïö©Ïã†:",s.Í∞úÏù∏Ï†ïÎ≥¥.Ïö©Ïã†.Ïö©Ïã†),console.log("40ÏÑ∏ Ï†êÏàò:",(i=s.Ïó∞ÎèÑÎ≥ÑÏ†êÏàò[40])==null?void 0:i.Ï¥ùÏ†ê),console.log("50ÏÑ∏ Ï†êÏàò:",(o=s.Ïó∞ÎèÑÎ≥ÑÏ†êÏàò[50])==null?void 0:o.Ï¥ùÏ†ê),console.log(`
üë§ Ï†ïÎπÑÏ†ú (Î≥ëÏßÑÏ†ïÏú†Ïã†ÎØ∏Í≥ÑÏÇ¨) ÌÖåÏä§Ìä∏:`);const n=this.createJeongBiJeTestCase(),r=this.calculateAuthenticLifeChart(n,1976);console.log("Ïö©Ïã†:",r.Í∞úÏù∏Ï†ïÎ≥¥.Ïö©Ïã†.Ïö©Ïã†),console.log("40ÏÑ∏ Ï†êÏàò:",(l=r.Ïó∞ÎèÑÎ≥ÑÏ†êÏàò[40])==null?void 0:l.Ï¥ùÏ†ê),console.log("50ÏÑ∏ Ï†êÏàò:",(c=r.Ïó∞ÎèÑÎ≥ÑÏ†êÏàò[50])==null?void 0:c.Ï¥ùÏ†ê),console.log(`
‚úÖ ÌÖåÏä§Ìä∏ ÏôÑÎ£å`)}}$(Ox,"DEBUG",!0);async function T8(t){try{console.log("üéØ 100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ API Ìò∏Ï∂ú:",t);const e=A8(t);return console.log("‚úÖ 100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± ÏôÑÎ£å (ÏûÑÏãú)"),e}catch(e){throw console.error("‚ùå 100ÎÖÑ Ïù∏ÏÉùÏö¥ÏÑ∏ API Ïò§Î•ò:",e),e}}function A8(t){return console.log("üîÆ Ïã§Ï†ú ÏÇ¨Ï£º Í≥ÑÏÇ∞ ÏãúÏûë:",t),console.log("‚öôÔ∏è Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô Í≥ÑÏÇ∞Í∏∞ ÏÇ¨Ïö©:",t.useAuthenticCalculator!==!1),t.useAuthenticCalculator!==!1?D8(t):P8(t)}function D8(t){console.log("üèõÔ∏è Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô Í≥ÑÏÇ∞Í∏∞Î°ú Ïö¥ÏÑ∏ ÏÉùÏÑ± Ï§ë...");const e=Hl.calculateFourPillars({year:t.year,month:t.month,day:t.day,hour:t.hour,minute:0,isLunar:t.isLunar||!1,isLeapMonth:!1});console.log("üîµ Í∏∞Î≥∏ ÏÇ¨Ï£º Í≥ÑÏÇ∞ ÏôÑÎ£å:",e);const s={year:{gan:e.year.heavenly,ji:e.year.earthly},month:{gan:e.month.heavenly,ji:e.month.earthly},day:{gan:e.day.heavenly,ji:e.day.earthly},time:{gan:e.hour.heavenly,ji:e.hour.earthly}};console.log("üìã Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô ÌòïÏãù Î≥ÄÌôò:",s);const n=Ox.calculateAuthenticLifeChart(s,t.year);console.log("‚ú® Ï†ïÌÜµ ÏÇ¨Ï£ºÌïô Í≥ÑÏÇ∞ ÏôÑÎ£å"),console.log("üéØ Í≤©Íµ≠:",n.Í∞úÏù∏Ï†ïÎ≥¥.Í≤©Íµ≠.Í≤©Íµ≠Ïú†Ìòï),console.log("‚≠ê Ïö©Ïã†:",n.Í∞úÏù∏Ï†ïÎ≥¥.Ïö©Ïã†.Ïö©Ïã†),console.log("üìä ÌèâÍ∑†Ï†êÏàò:",n.ÌÜµÍ≥Ñ.ÌèâÍ∑†Ï†êÏàò);const r=n.Ïó∞ÎèÑÎ≥ÑÏ†êÏàò.map(c=>{var d,h,m;return{year:c.ÎÖÑÎèÑ,age:c.ÎÇòÏù¥,totalScore:c.Ï¥ùÏ†ê,fortune:Math.min(100,Math.max(0,c.ÎåÄÏö¥Ï†êÏàò*.6+c.ÏÑ∏Ïö¥Ï†êÏàò*.4+Math.max(0,c.Ïö©Ïã†Ìö®Í≥º*.3)+10)),willpower:Math.min(100,Math.max(0,c.ÎåÄÏö¥Ï†êÏàò*.8+20)),environment:Math.min(100,Math.max(0,c.ÏÑ∏Ïö¥Ï†êÏàò*.8+20)),change:Math.min(100,Math.max(0,Math.abs(c.Ïö©Ïã†Ìö®Í≥º)*.6+30)),ÎåÄÏö¥:{Ï≤úÍ∞Ñ:((d=n.ÎåÄÏö¥Î™©Î°ù[Math.floor(c.ÎÇòÏù¥/10)])==null?void 0:d.Ï≤úÍ∞Ñ)||"Í∞ë",ÏßÄÏßÄ:((h=n.ÎåÄÏö¥Î™©Î°ù[Math.floor(c.ÎÇòÏù¥/10)])==null?void 0:h.ÏßÄÏßÄ)||"Ïûê",Ïò§Ìñâ:((m=n.ÎåÄÏö¥Î™©Î°ù[Math.floor(c.ÎÇòÏù¥/10)])==null?void 0:m.Ïò§Ìñâ)||"Î™©",score:c.ÎåÄÏö¥Ï†êÏàò},ÏÑ∏Ïö¥:{Ï≤úÍ∞Ñ:c.ÏÉÅÏÑ∏.Ï≤úÍ∞Ñ,ÏßÄÏßÄ:c.ÏÉÅÏÑ∏.ÏßÄÏßÄ,Ïò§Ìñâ:c.ÏÉÅÏÑ∏.Ïò§Ìñâ,score:c.ÏÑ∏Ïö¥Ï†êÏàò}}}),i=r.reduce((c,d)=>c.totalScore>d.totalScore?c:d),o=r.reduce((c,d)=>c.totalScore<d.totalScore?c:d),l=n.ÌÜµÍ≥Ñ.ÌèâÍ∑†Ï†êÏàò;return console.log("üìà Î∂ÑÏÑù Í≤∞Í≥º:"),console.log(`   ÏµúÍ≥†Ï†ê: ${i.age}ÏÑ∏ (${i.totalScore}Ï†ê)`),console.log(`   ÏµúÏ†ÄÏ†ê: ${o.age}ÏÑ∏ (${o.totalScore}Ï†ê)`),console.log(`   ÌèâÍ∑†: ${l}Ï†ê`),{success:!0,data:{lifetimeFortune:r,analysis:{keyYears:r.filter(c=>Math.abs(c.totalScore-l)>15).slice(0,5),bestYear:{year:i.year,age:i.age,score:i.totalScore},worstYear:{year:o.year,age:o.age,score:o.totalScore},averageScore:l}},timestamp:new Date().toISOString()}}function P8(t){var g,f,x,b,y;console.log("üîß Î†àÍ±∞Ïãú ÏóîÏßÑÏúºÎ°ú Ïö¥ÏÑ∏ ÏÉùÏÑ± Ï§ë..."),t.sajuData?console.log("üî¥ Ï†ÑÎã¨Î∞õÏùÄ ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞:",t.sajuData):console.log("‚ö†Ô∏è ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞Í∞Ä Ï†ÑÎã¨ÎêòÏßÄ ÏïäÏùå - Ïû¨Í≥ÑÏÇ∞ ÌïÑÏöî");const e=Hl.calculateFourPillars({year:t.year,month:t.month,day:t.day,hour:t.hour,minute:0,isLunar:t.isLunar||!1,isLeapMonth:!1});console.log("üîµ Ïû¨Í≥ÑÏÇ∞Îêú ÏÇ¨Ï£º:",e);let s;try{s=N8(t.sajuData,e),console.log("‚úÖ ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ìï¥Í≤∞ ÏôÑÎ£å:",s.resolution),console.log("üéØ Ïã†Î¢∞ÎèÑ:",`${s.confidence}%`),C8(s.finalSaju,"ÏµúÏ¢Ö ÏÑ†ÌÉùÎêú")}catch(j){console.error("‚ùå ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ìï¥Í≤∞ Ïã§Ìå®:",j),s={finalSaju:{year:{gan:e.year.heavenly,ji:e.year.earthly,combined:e.year.combined},month:{gan:e.month.heavenly,ji:e.month.earthly,combined:e.month.combined},day:{gan:e.day.heavenly,ji:e.day.earthly,combined:e.day.combined},time:{gan:e.hour.heavenly,ji:e.hour.earthly,combined:e.hour.combined}},resolution:"Ìè¥Î∞±: Ïû¨Í≥ÑÏÇ∞ ÏÇ¨Ï£º ÏÇ¨Ïö©",confidence:50}}const n=S8(s.finalSaju);console.log("üìå ÏµúÏ¢Ö ÏÇ¨Ïö© ÏÇ¨Ï£º (ÏóîÏßÑ ÌòïÏãù):",n);const r=`${t.year}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`,i=`${String(t.hour).padStart(2,"0")}:00`,o=`${e.year.combined} ${e.month.combined} ${e.day.combined} ${e.hour.combined}`,l={name:"ÏÇ¨Ïö©Ïûê",birthDate:r,birthTime:i,sajuText:o,gender:t.gender||"male",lunarSolar:t.isLunar?"lunar":"solar"};console.log("üë§ Í∞úÏù∏Ï†ïÎ≥¥:",l),console.log("üîÑ Ìï¥Í≤∞ Î∞©Î≤ï:",s.resolution),console.log("üìä Îç∞Ïù¥ÌÑ∞ Ïã†Î¢∞ÎèÑ:",`${s.confidence}%`);const c=v8.generateUniversalLifeChart(n,l),d=[];for(let j=0;j<=95;j++){const S=t.year+j,C=((g=c.chartData.geunbon[j])==null?void 0:g.value)||50,w=((f=c.chartData.woon[j])==null?void 0:f.value)||50,M=((x=c.chartData.haeng[j])==null?void 0:x.value)||50,N=((b=c.chartData.hyeong[j])==null?void 0:b.value)||50,k=((y=c.chartData.byeon[j])==null?void 0:y.value)||50,_=Math.round((C+w+M+N+k)/5);d.push({year:S,age:j,totalScore:_,fortune:Math.min(100,Math.max(0,w*.7+C*.3)),willpower:Math.min(100,Math.max(0,M*.8+w*.2)),environment:Math.min(100,Math.max(0,N*.7+C*.3)),change:Math.min(100,Math.max(0,k*.9+10)),ÎåÄÏö¥:{Ï≤úÍ∞Ñ:["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"][Math.floor(j/10)%10],ÏßÄÏßÄ:["Ïûê","Ï∂ï","Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨","Ïò§","ÎØ∏","Ïã†","Ïú†","Ïà†","Ìï¥"][Math.floor(j/10)%12],Ïò§Ìñâ:["Î™©","Ìôî","ÌÜ†","Í∏à","Ïàò"][Math.floor(j/10)%5],score:Math.round((w+N)/2)},ÏÑ∏Ïö¥:{Ï≤úÍ∞Ñ:["Í∞ë","ÏùÑ","Î≥ë","Ï†ï","Î¨¥","Í∏∞","Í≤Ω","Ïã†","ÏûÑ","Í≥Ñ"][S%10],ÏßÄÏßÄ:["Ïûê","Ï∂ï","Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨","Ïò§","ÎØ∏","Ïã†","Ïú†","Ïà†","Ìï¥"][S%12],Ïò§Ìñâ:["Î™©","Ìôî","ÌÜ†","Í∏à","Ïàò"][S%5],score:Math.round(k)}})}const h=d.reduce((j,S)=>j.totalScore>S.totalScore?j:S),m=d.reduce((j,S)=>j.totalScore<S.totalScore?j:S),u=d.reduce((j,S)=>j+S.totalScore,0)/d.length;return{success:!0,data:{lifetimeFortune:d,analysis:{keyYears:d.filter(j=>Math.abs(j.totalScore-u)>20).slice(0,5),bestYear:{year:h.year,age:h.age,score:h.totalScore},worstYear:{year:m.year,age:m.age,score:m.totalScore},averageScore:Math.round(u)}},timestamp:new Date().toISOString()}}const nt={year:{gan:"Ïã†",ji:"Ìï¥"},month:{gan:"Í∏∞",ji:"Ìï¥"},day:{gan:"Î≥ë",ji:"Ïò§"},time:{gan:"Í≤Ω",ji:"Ïù∏"}},rt={year:{gan:"Î≥ë",ji:"ÏßÑ"},month:{gan:"Ï†ï",ji:"Ïú†"},day:{gan:"Ïã†",ji:"ÎØ∏"},time:{gan:"Í≥Ñ",ji:"ÏÇ¨"}},wl={Í∞ë:1,ÏùÑ:2,Î≥ë:3,Ï†ï:4,Î¨¥:5,Í∏∞:6,Í≤Ω:7,Ïã†:8,ÏûÑ:9,Í≥Ñ:10},kl={Ïûê:1,Ï∂ï:2,Ïù∏:3,Î¨ò:4,ÏßÑ:5,ÏÇ¨:6,Ïò§:7,ÎØ∏:8,Ïã†:9,Ïú†:10,Ïà†:11,Ìï¥:12},Nl={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},Sl={Ïûê:"Ïàò",Ï∂ï:"ÌÜ†",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏßÑ:"ÌÜ†",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïà†:"ÌÜ†",Ìï¥:"Ïàò"};function y0(t){const e=wl,s=kl,n=((e[t.year.gan]-1)*12+(s[t.year.ji]-1))%60,r=((e[t.month.gan]-1)*12+(s[t.month.ji]-1))%60,i=((e[t.day.gan]-1)*12+(s[t.day.ji]-1))%60,o=((e[t.time.gan]-1)*12+(s[t.time.ji]-1))%60,l={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};[t.year.gan,t.month.gan,t.day.gan,t.time.gan].forEach(g=>{l[Nl[g]]++}),[t.year.ji,t.month.ji,t.day.ji,t.time.ji].forEach(g=>{l[Sl[g]]++});const c=Object.values(l),d=Math.max(...c),h=Math.min(...c),m=(d-h)*100;return n*1e3+r*500+i*800+o*300+m*20}function R8(){const t=y0(nt),e=y0(rt);console.log("üîç Í∞úÏù∏Î≥Ñ Í≥†Ïú†Í∞í ÌÖåÏä§Ìä∏ Í≤∞Í≥º:"),console.log(`Î∞ïÏ§ÄÏàòÎãò (Ïã†Ìï¥ Í∏∞Ìï¥ Î≥ëÏò§ Í≤ΩÏù∏): ${t}`),console.log(`Ï†ïÎπÑÏ†úÎãò (Î≥ëÏßÑ Ï†ïÏú† Ïã†ÎØ∏ Í≥ÑÏÇ¨): ${e}`),console.log(`Ï∞®Ïù¥Í∞í: ${Math.abs(t-e)}`),console.log(`Ï∞®Ïù¥Ïú®: ${(Math.abs(t-e)/Math.max(t,e)*100).toFixed(2)}%`),console.log(`
üìä Íµ¨ÏÑ±ÏöîÏÜåÎ≥Ñ Î∂ÑÏÑù:`);const s=((wl[nt.year.gan]-1)*12+(kl[nt.year.ji]-1))%60,n={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};[nt.year.gan,nt.month.gan,nt.day.gan,nt.time.gan].forEach(o=>{n[Nl[o]]++}),[nt.year.ji,nt.month.ji,nt.day.ji,nt.time.ji].forEach(o=>{n[Sl[o]]++});const r=((wl[rt.year.gan]-1)*12+(kl[rt.year.ji]-1))%60,i={Î™©:0,Ìôî:0,ÌÜ†:0,Í∏à:0,Ïàò:0};return[rt.year.gan,rt.month.gan,rt.day.gan,rt.time.gan].forEach(o=>{i[Nl[o]]++}),[rt.year.ji,rt.month.ji,rt.day.ji,rt.time.ji].forEach(o=>{i[Sl[o]]++}),console.log(`Î∞ïÏ§ÄÏàòÎãò - Í∞ëÏûêÌå®ÌÑ¥: ${s}, Ïò§ÌñâÎ∂ÑÌè¨: ${JSON.stringify(n)}`),console.log(`Ï†ïÎπÑÏ†úÎãò - Í∞ëÏûêÌå®ÌÑ¥: ${r}, Ïò§ÌñâÎ∂ÑÌè¨: ${JSON.stringify(i)}`),{parkUniqueValue:t,jungUniqueValue:e}}typeof window<"u"&&(window.testUniqueValues=R8,console.log("üöÄ ÌÖåÏä§Ìä∏ Ìï®Ïàò Îì±Î°ù ÏôÑÎ£å: window.testUniqueValues() Ìò∏Ï∂úÌïòÏó¨ ÌÖåÏä§Ìä∏ Ïã§Ìñâ"));function L8(){var E,T,R,P,O;const[t,e]=v.useState("jubon"),[s,n]=v.useState(""),[r,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(!1),[h,m]=v.useState(!1),[u,g]=v.useState(null),[f,x]=v.useState(!1),[b,y]=v.useState(null),[j,S]=v.useState(us),C=D=>{const F=new Date(D),L=new Date;let I=L.getFullYear()-F.getFullYear();const H=L.getMonth()-F.getMonth();return(H<0||H===0&&L.getDate()<F.getDate())&&I--,I+1},w=j.find(D=>D.id===t);v.useEffect(()=>{w&&w.subcategories.length>0&&n(w.subcategories[0].id)},[t,w]),v.useEffect(()=>{r!=null&&r.id?N(r.id):(l(null),yo(null))},[r]),v.useEffect(()=>{(async()=>{if(!c&&!h){m(!0);try{await l8();const F=c8();S([...F]),d(!0)}catch(F){console.error("Ïπ¥ÌÖåÍ≥†Î¶¨ Î°úÎìú Ïã§Ìå®:",F)}finally{m(!1)}}})()},[c,h]);const M=async D=>{try{x(!0),y(null),g(null),console.log("üîÑ Ïù∏ÏÉùÏ∞®Ìä∏ Î°úÎìú ÏãúÏûë:",D.name);const F=f8(D);console.log("üì§ Ïù∏ÏÉùÏö¥ÏÑ∏ ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:",F),console.log("  - ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ìè¨Ìï® Ïó¨Î∂Ä:",F.sajuData?"‚úÖ":"‚ùå");const L=await T8(F);g(L),console.log("‚úÖ Ïù∏ÏÉùÏ∞®Ìä∏ Î°úÎìú ÏôÑÎ£å:",D.name)}catch(F){y(F.message||"Ïù∏ÏÉùÏ∞®Ìä∏ Î°úÎìú Ïã§Ìå®"),console.error("‚ùå Ïù∏ÏÉùÏ∞®Ìä∏ Î°úÎìú Ïã§Ìå®:",F)}finally{x(!1)}},N=async D=>{try{console.log("[Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏãúÏûë] Í≥†Í∞ù ID:",D);const F=await pj(D);console.log("[API ÏùëÎãµ]",F.data);let L=F.data.saju_data;if(typeof L=="string")try{L=JSON.parse(L),console.log("[ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± ÏôÑÎ£å]",L)}catch(I){console.error("[ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± Ïã§Ìå®]",I),L=null}console.log("[ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÏàòÏã†]",L),l(L),yo(L),console.log("[Ï†ÑÏó≠ ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÏÑ§Ï†ï ÏôÑÎ£å]",L)}catch(F){console.error("[ÏóêÎü¨] Í≥†Í∞ù ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ïã§Ìå®:",F),yo(null)}},k=v.useMemo(()=>{if(!w||!s)return null;const D=w.subcategories.find(F=>F.id===s);return D?{categoryId:t,subcategoryId:s,title:`${w.name} - ${D.name}`,items:D.items,chartData:D.items.map(F=>F.baseScore),maxValue:100}:null},[t,s,w]),_=r?`${r.birth_date} ${r.birth_time}`:"Í≥†Í∞ùÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî";return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"üîÆ ÌÜµÌï© ÏÇ¨Ï£º Î†àÏù¥Îçî Î∂ÑÏÑù"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Ï£ºÎ¨∏Ï∞®Ìä∏ Í∏∞Î∞ò 9Í∞ú ÎåÄÌï≠Î™© ÏÉÅÏÑ∏ Î∂ÑÏÑù ÏãúÏä§ÌÖú"}),a.jsx("div",{className:"mt-2 text-sm text-purple-600 dark:text-purple-400",children:"Í∏∞Ï°¥ 6ÎåÄ/17ÎåÄ/7ÎåÄ ÏÑ±Ìñ• Ï∞®Ìä∏Í∞Ä ÌÜµÌï©Îêú ÏÉàÎ°úÏö¥ Î∂ÑÏÑù ÏãúÏä§ÌÖú"})]}),a.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[a.jsx(jl,{onSelect:i,selectedCustomer:r}),r&&o&&a.jsx("div",{className:"mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:a.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:[a.jsx("div",{className:"font-semibold mb-1",children:"ÏÇ¨Ï£º ÌåîÏûê:"}),a.jsx("div",{children:o.fullSaju}),a.jsxs("div",{className:"mt-2 grid grid-cols-5 gap-2 text-xs",children:[a.jsxs("div",{children:["Î™©: ",(E=o.ohHaengBalance)==null?void 0:E.Î™©,"%"]}),a.jsxs("div",{children:["Ìôî: ",(T=o.ohHaengBalance)==null?void 0:T.Ìôî,"%"]}),a.jsxs("div",{children:["ÌÜ†: ",(R=o.ohHaengBalance)==null?void 0:R.ÌÜ†,"%"]}),a.jsxs("div",{children:["Í∏à: ",(P=o.ohHaengBalance)==null?void 0:P.Í∏à,"%"]}),a.jsxs("div",{children:["Ïàò: ",(O=o.ohHaengBalance)==null?void 0:O.Ïàò,"%"]})]})]})})]}),r&&a.jsx("div",{className:"mb-6",children:a.jsx(b8,{customer:r,lifetimeFortune:u,loading:f,error:b,onLoadChart:()=>M(r),onScrollToChart:()=>{var D;return(D=document.getElementById("hundred-year-chart"))==null?void 0:D.scrollIntoView({behavior:"smooth"})}})}),u&&r&&a.jsx("div",{id:"hundred-year-chart",className:"mb-8",children:a.jsx(y8,{data:u.data.lifetimeFortune,currentAge:C(r.birth_date),birthYear:new Date(r.birth_date).getFullYear()})}),h&&a.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full"}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"üîÆ Ï£ºÎä•/Ï£ºÌùâ Ïπ¥ÌÖåÍ≥†Î¶¨ Îç∞Ïù¥ÌÑ∞Î•º Î∞±ÏóîÎìúÏóêÏÑú Í∞ÄÏ†∏Ïò§Îäî Ï§ë..."})]})}),a.jsx(d8,{categories:j,selectedCategory:t,onCategoryChange:e}),w&&a.jsx("div",{className:"mb-6 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-4xl",children:w.icon}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:w.description}),a.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 mt-1",children:[w.subcategories.length,"Í∞ú Ï§ëÌï≠Î™© ‚Ä¢ Ï¥ù ",w.subcategories.reduce((D,F)=>D+F.items.length,0),"Í∞ú ÏÑ∏Î∂ÄÌï≠Î™©"]})]})]})}),w&&a.jsx(h8,{subcategories:w.subcategories,selectedSubcategory:s,onSubcategoryChange:n}),k&&a.jsxs("div",{className:"mb-8",children:[console.log("[Ï∞®Ìä∏ Î†åÎçîÎßÅ] customerSajuData:",o),a.jsx(m8,{data:k,birthDate:_,sajuData:o})]}),a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:[a.jsx("p",{children:"‚ú® Ïù¥ Î∂ÑÏÑùÏùÄ Ï†ÑÌÜµ ÏÇ¨Ï£ºÌïôÍ≥º ÌòÑÎåÄ ÌÜµÍ≥ÑÌïôÏùÑ Í≤∞Ìï©Ìïú Ìï¥ÏÑùÏûÖÎãàÎã§."}),a.jsx("p",{className:"mt-1",children:"üí° ÏãúÍ∞ÑÎåÄÎ≥Ñ Ïö¥ÏÑ∏ Î≥ÄÌôîÎäî Ï∞∏Í≥†Ïö©Ïù¥Î©∞, Í∞úÏù∏Ïùò ÎÖ∏Î†•Í≥º ÌôòÍ≤ΩÏóê Îî∞Îùº Îã¨ÎùºÏßà Ïàò ÏûàÏäµÎãàÎã§."})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:"9"}),a.jsx("div",{className:"text-sm",children:"ÎåÄÌï≠Î™©"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:j.reduce((D,F)=>D+F.subcategories.length,0)}),a.jsx("div",{className:"text-sm",children:"Ï§ëÌï≠Î™©"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:j.reduce((D,F)=>D+F.subcategories.reduce((L,I)=>L+I.items.length,0),0)}),a.jsx("div",{className:"text-sm",children:"ÏÑ∏Î∂ÄÌï≠Î™©"})]})]})]})})}dt.register(...HS);const Vc=v.createContext(void 0);function O8({children:t,defaultTheme:e="light",storageKey:s="sajuapp-theme"}){const[n,r]=v.useState(()=>{if(typeof window<"u"){const o=localStorage.getItem(s);if(o==="light"||o==="dark")return o;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return e});v.useEffect(()=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(n),localStorage.setItem(s,n)},[n,s]),v.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>{localStorage.getItem(s)||r(c.matches?"dark":"light")};return o.addEventListener("change",l),()=>o.removeEventListener("change",l)},[s]);const i={theme:n,setTheme:o=>{r(o)},toggleTheme:()=>{r(o=>o==="light"?"dark":"light")}};return a.jsx(Vc.Provider,{value:i,children:t})}const Ix=()=>{const t=v.useContext(Vc);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},I8=({data:t})=>{const e=v.useRef(null),s=v.useRef(null),{theme:n}=v.useContext(Vc),r=n==="dark";return v.useEffect(()=>{if(!e.current||!t)return;s.current&&s.current.destroy();const i=e.current.getContext("2d");if(!i)return;const o=t.categories.map(m=>m.name),l=t.categories.map(m=>m.score),c=t.categories.map(()=>100),d=r?"rgba(229, 231, 235, 1)":"rgba(31, 41, 55, 1)",h=r?"rgba(107, 114, 128, 0.3)":"rgba(0, 0, 0, 0.1)";return s.current=new dt(i,{type:"radar",data:{labels:o,datasets:[{label:`${t.person1Name} ‚ô• ${t.person2Name}`,data:l,backgroundColor:"rgba(147, 51, 234, 0.2)",borderColor:"rgba(147, 51, 234, 1)",borderWidth:2,pointBackgroundColor:"rgba(147, 51, 234, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(147, 51, 234, 1)",pointRadius:4,pointHoverRadius:6},{label:"Ïù¥ÏÉÅÏ†Å Í∂ÅÌï©",data:c,backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)",borderWidth:1,borderDash:[5,5],pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{font:{size:12},padding:20,usePointStyle:!0,color:d}},tooltip:{callbacks:{label(m){const u=m.dataset.label||"",g=m.parsed.r||m.parsed.y;return`${u}: ${Math.round(g)}Ï†ê`}}}},scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20,font:{size:10},color:d,callback(m){return`${m}Ï†ê`}},pointLabels:{font:{size:13,weight:"bold"},color:d,callback(m,u){const g=l[u];return`${m}
(${Math.round(g)}Ï†ê)`}},grid:{color:h}}}}}),()=>{s.current&&s.current.destroy()}},[t,r,n]),a.jsx("div",{className:"w-full h-[400px] p-4",children:a.jsx("canvas",{ref:e})})},F8=({relationshipAnalysis:t,practicalAnalysis:e,depthAnalysis:s,specialAnalysis:n})=>{const[r,i]=v.useState("overview");if(!t||!e||!s||!n)return a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Í∂ÅÌï© Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§. Î®ºÏ†Ä Îëê ÏÇ¨ÎûåÏùÑ ÏÑ†ÌÉùÌïòÍ≥† Î∂ÑÏÑùÌïòÍ∏∞Î•º ÌÅ¥Î¶≠Ìï¥Ï£ºÏÑ∏Ïöî."});const o=u=>u>=85?"text-green-600 dark:text-green-400":u>=70?"text-blue-600 dark:text-blue-400":u>=50?"text-yellow-600 dark:text-yellow-400":u>=30?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",l=u=>{const g={Îß§Ïö∞Ï¢ãÏùå:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Ï¢ãÏùå:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Î≥¥ÌÜµ:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Ï£ºÏùò:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",ÏúÑÌóò:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g[u]}`,children:u})},c=[{key:"firstImpression",label:"Ï≤´Ïù∏ÏÉÅ Í∂ÅÌï©",icon:"üëã"},{key:"communication",label:"ÎåÄÌôîÏÜåÌÜµ Í∂ÅÌï©",icon:"üí¨"},{key:"valueSystem",label:"Í∞ÄÏπòÍ¥Ä Í∂ÅÌï©",icon:"üíé"},{key:"lifePattern",label:"ÏÉùÌôúÌå®ÌÑ¥ Í∂ÅÌï©",icon:"üåÖ"},{key:"conflictResolution",label:"Í∞àÎì±Ìï¥Í≤∞ Í∂ÅÌï©",icon:"ü§ù"},{key:"emotional",label:"Ï†ïÏÑúÏ†Å Í∂ÅÌï©",icon:"‚ù§Ô∏è"},{key:"trust",label:"Ïã†Î¢∞ÎèÑ Í∂ÅÌï©",icon:"üõ°Ô∏è"}],d=[{key:"economic",label:"Í≤ΩÏ†úÍ¥ÄÎÖê Í∂ÅÌï©",icon:"üí∞"},{key:"career",label:"ÏßÅÏóÖÏö¥ Í∂ÅÌï©",icon:"üíº"},{key:"residence",label:"Ï£ºÍ±∞ÌôòÍ≤Ω Í∂ÅÌï©",icon:"üè†"},{key:"children",label:"ÏûêÎÖÄÏö¥ Í∂ÅÌï©",icon:"üë∂"},{key:"inLaw",label:"ÏãúÎåÅ/Ï≤òÍ∞Ä Í∂ÅÌï©",icon:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"}],h=[{key:"sexual",label:"ÏÑ±Ï†Å Í∂ÅÌï©",icon:"üî•"},{key:"spiritual",label:"Ï†ïÏã†Ï†Å Í∂ÅÌï©",icon:"üßò"},{key:"hobby",label:"Ï∑®ÎØ∏ Í∂ÅÌï©",icon:"üéØ"},{key:"retirement",label:"ÎÖ∏ÌõÑ Í∂ÅÌï©",icon:"üåÖ"}],m=[{key:"noblePerson",label:"Í∑ÄÏù∏Ïö¥ Í∂ÅÌï©",icon:"‚≠ê"},{key:"peachBlossom",label:"ÎèÑÌôîÏö¥ Í∂ÅÌï©",icon:"üå∏"},{key:"emptiness",label:"Í≥µÎßù Í∂ÅÌï©",icon:"üåÄ"},{key:"sinsal",label:"Ïã†ÏÇ¥ Í∂ÅÌï©",icon:"üîÆ"}];return a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>i("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${r==="overview"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Ï¢ÖÌï© Î∂ÑÏÑù"}),a.jsx("button",{onClick:()=>i("relationship"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${r==="relationship"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Í¥ÄÍ≥ÑÏÑ± Î∂ÑÏÑù (7Í∞ú Ìï≠Î™©)"}),a.jsx("button",{onClick:()=>i("practical"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${r==="practical"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"ÌòÑÏã§Ï†Å Î∂ÑÏÑù (5Í∞ú Ìï≠Î™©)"}),a.jsx("button",{onClick:()=>i("depth"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${r==="depth"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Ïã¨Ï∏µ Î∂ÑÏÑù (4Í∞ú Ìï≠Î™©)"}),a.jsx("button",{onClick:()=>i("special"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${r==="special"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"ÌäπÏàò Î∂ÑÏÑù (4Í∞ú Ìï≠Î™©)"})]})}),a.jsxs("div",{className:"mt-6",children:[r==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Í¥ÄÍ≥ÑÏÑ± Ï¢ÖÌï© Î∂ÑÏÑù"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:`text-4xl font-bold ${o(t.averageScore)}`,children:[t.averageScore,"Ï†ê"]}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:t.summary})]}),a.jsx("div",{className:"text-5xl opacity-20",children:"üíï"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"ÌòÑÏã§Ï†Å Ï¢ÖÌï© Î∂ÑÏÑù"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:`text-4xl font-bold ${o(e.averageScore)}`,children:[e.averageScore,"Ï†ê"]}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:e.summary})]}),a.jsx("div",{className:"text-5xl opacity-20",children:"üíç"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Ïã¨Ï∏µ Ï¢ÖÌï© Î∂ÑÏÑù"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:`text-4xl font-bold ${o(s.averageScore)}`,children:[s.averageScore,"Ï†ê"]}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s.summary})]}),a.jsx("div",{className:"text-5xl opacity-20",children:"üåä"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"ÌäπÏàò Ï¢ÖÌï© Î∂ÑÏÑù"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:`text-4xl font-bold ${o(n.averageScore)}`,children:[n.averageScore,"Ï†ê"]}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:n.summary})]}),a.jsx("div",{className:"text-5xl opacity-20",children:"‚ú®"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:"Í¥ÄÍ≥ÑÏÑ± Î∂ÑÏÑù"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:c.map(u=>{const g=t[u.key];return!g||typeof g.score!="number"?null:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl",children:u.icon}),l(g.level)]}),a.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:u.label}),a.jsxs("div",{className:`text-xl font-bold mt-1 ${o(g.score)}`,children:[g.score,"Ï†ê"]})]},u.key)})}),a.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"ÌòÑÏã§Ï†Å Î∂ÑÏÑù"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.map(u=>{const g=e[u.key];return!g||typeof g.score!="number"?null:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl",children:u.icon}),l(g.level)]}),a.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:u.label}),a.jsxs("div",{className:`text-xl font-bold mt-1 ${o(g.score)}`,children:[g.score,"Ï†ê"]})]},u.key)})}),a.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"Ïã¨Ï∏µ Î∂ÑÏÑù"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:h.map(u=>{const g=s[u.key];return!g||typeof g.score!="number"?null:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl",children:u.icon}),l(g.level)]}),a.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:u.label}),a.jsxs("div",{className:`text-xl font-bold mt-1 ${o(g.score)}`,children:[g.score,"Ï†ê"]})]},u.key)})}),a.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"ÌäπÏàò Î∂ÑÏÑù"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:m.map(u=>{const g=n[u.key];return!g||typeof g.score!="number"?null:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl",children:u.icon}),l(g.level)]}),a.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:u.label}),a.jsxs("div",{className:`text-xl font-bold mt-1 ${o(g.score)}`,children:[g.score,"Ï†ê"]})]},u.key)})})]})]}),r==="relationship"&&a.jsx("div",{className:"space-y-6",children:c.map(u=>{const g=t[u.key];return!g||typeof g.score!="number"?null:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:u.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u.label})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[l(g.level),a.jsxs("span",{className:`text-2xl font-bold ${o(g.score)}`,children:[g.score,"Ï†ê"]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g.description}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.score>=85?"bg-green-500":g.score>=70?"bg-blue-500":g.score>=50?"bg-yellow-500":g.score>=30?"bg-orange-500":"bg-red-500"}`,style:{width:`${g.score}%`}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g.factors.positive.length>0&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"‚úÖ Í∏çÏ†ï ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.positive.map((f,x)=>a.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["‚Ä¢ ",f]},x))})]}),g.factors.negative.length>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"‚ö†Ô∏è Ï£ºÏùò ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.negative.map((f,x)=>a.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["‚Ä¢ ",f]},x))})]})]})]})},u.key)})}),r==="practical"&&a.jsx("div",{className:"space-y-6",children:d.map(u=>{const g=e[u.key];return!g||typeof g.score!="number"?null:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:u.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u.label})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[l(g.level),a.jsxs("span",{className:`text-2xl font-bold ${o(g.score)}`,children:[g.score,"Ï†ê"]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g.description}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.score>=85?"bg-green-500":g.score>=70?"bg-blue-500":g.score>=50?"bg-yellow-500":g.score>=30?"bg-orange-500":"bg-red-500"}`,style:{width:`${g.score}%`}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g.factors.positive.length>0&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"‚úÖ Í∏çÏ†ï ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.positive.map((f,x)=>a.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["‚Ä¢ ",f]},x))})]}),g.factors.negative.length>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"‚ö†Ô∏è Ï£ºÏùò ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.negative.map((f,x)=>a.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["‚Ä¢ ",f]},x))})]})]})]})},u.key)})}),r==="depth"&&a.jsx("div",{className:"space-y-6",children:h.map(u=>{const g=s[u.key];return!g||typeof g.score!="number"?null:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:u.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u.label})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[l(g.level),a.jsxs("span",{className:`text-2xl font-bold ${o(g.score)}`,children:[g.score,"Ï†ê"]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g.description}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.score>=85?"bg-green-500":g.score>=70?"bg-blue-500":g.score>=50?"bg-yellow-500":g.score>=30?"bg-orange-500":"bg-red-500"}`,style:{width:`${g.score}%`}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g.factors.positive.length>0&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"‚úÖ Í∏çÏ†ï ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.positive.map((f,x)=>a.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["‚Ä¢ ",f]},x))})]}),g.factors.negative.length>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"‚ö†Ô∏è Ï£ºÏùò ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.negative.map((f,x)=>a.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["‚Ä¢ ",f]},x))})]})]})]})},u.key)})}),r==="special"&&a.jsx("div",{className:"space-y-6",children:m.map(u=>{const g=n[u.key];return!g||typeof g.score!="number"?null:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-3xl",children:u.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u.label})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[l(g.level),a.jsxs("span",{className:`text-2xl font-bold ${o(g.score)}`,children:[g.score,"Ï†ê"]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g.description}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.score>=85?"bg-green-500":g.score>=70?"bg-blue-500":g.score>=50?"bg-yellow-500":g.score>=30?"bg-orange-500":"bg-red-500"}`,style:{width:`${g.score}%`}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g.factors.positive.length>0&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"‚úÖ Í∏çÏ†ï ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.positive.map((f,x)=>a.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["‚Ä¢ ",f]},x))})]}),g.factors.negative.length>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"‚ö†Ô∏è Ï£ºÏùò ÏöîÏù∏"}),a.jsx("ul",{className:"space-y-1",children:g.factors.negative.map((f,x)=>a.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["‚Ä¢ ",f]},x))})]})]})]})},u.key)})})]})]})},Cl={ÏÉÅÏÉù:{Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"},ÏÉÅÍ∑π:{Î™©:"ÌÜ†",Ìôî:"Í∏à",ÌÜ†:"Ïàò",Í∏à:"Î™©",Ïàò:"Ìôî"}},Fx={Ïù∏Ïò§Ïà†:"Ìôî",Ïã†ÏûêÏßÑ:"Ïàò",Ìï¥Î¨òÎØ∏:"Î™©",ÏÇ¨Ïú†Ï∂ï:"Í∏à"},v0={ÏûêÏ∂ï:"ÌÜ†",Ïù∏Ìï¥:"Î™©",Î¨òÏà†:"Ìôî",ÏßÑÏú†:"Í∏à",ÏÇ¨Ïã†:"Ïàò",Ïò§ÎØ∏:"ÌôîÌÜ†"},Bx=[["Ïûê","Ïò§"],["Ï∂ï","ÎØ∏"],["Ïù∏","Ïã†"],["Î¨ò","Ïú†"],["ÏßÑ","Ïà†"],["ÏÇ¨","Ìï¥"]],j0={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"};function Xn(t,e){const s=j0[t],n=j0[e],r={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"},i=r[t],o=r[e],l=i===o;if(s===n)return l?"ÎπÑÍ≤¨":"Í≤ÅÏû¨";const d={Î™©:{Ìôî:["ÏãùÏã†","ÏÉÅÍ¥Ä"],ÌÜ†:["Ìé∏Ïû¨","Ï†ïÏû¨"],Í∏à:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ïàò:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ìôî:{ÌÜ†:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Í∏à:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ïàò:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Î™©:["Ìé∏Ïù∏","Ï†ïÏù∏"]},ÌÜ†:{Í∏à:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ïàò:["Ìé∏Ïû¨","Ï†ïÏû¨"],Î™©:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ìôî:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Í∏à:{Ïàò:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Î™©:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ìôî:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],ÌÜ†:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ïàò:{Î™©:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ìôî:["Ìé∏Ïû¨","Ï†ïÏû¨"],ÌÜ†:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Í∏à:["Ìé∏Ïù∏","Ï†ïÏù∏"]}}[s][n];return d?l?d[0]:d[1]:"ÏïåÏàòÏóÜÏùå"}function B8(t,e){let s=50;for(const r of t)for(const i of e){(v0[r+i]||v0[i+r])&&(s+=15);for(const o of Bx)(o[0]===r&&o[1]===i||o[1]===r&&o[0]===i)&&(s-=10)}const n=[...t,...e].join("");for(const r of Object.keys(Fx)){const i=r.split("").filter(o=>n.includes(o)).length;i>=2&&(s+=i*5)}return Math.max(0,Math.min(100,s))}function $8(t,e){const s=t.ohHaengBalance||{},n=e.ohHaengBalance||{};let r=60;const i=["Î™©","Ìôî","ÌÜ†","Í∏à","Ïàò"];for(const o of i){const l=Cl.ÏÉÅÏÉù[o];s[o]>25&&n[l]>25?r+=15:s[o]>15&&n[l]>15&&(r+=8)}for(const o of i){const l=Cl.ÏÉÅÍ∑π[o];s[o]>30&&n[l]>30&&(r-=10)}for(const o of i)(s[o]<10&&n[o]>30||n[o]<10&&s[o]>30)&&(r+=5);return Math.max(0,Math.min(100,r))}function V8(t,e){const s=t.day.gan,n=e.day.gan;let r=70;const i=Xn(s,n),o=["Ï†ïÏû¨","Ï†ïÍ¥Ä","Ï†ïÏù∏","ÏãùÏã†"],l=["ÎπÑÍ≤¨","Ìé∏Ïû¨","Ìé∏Í¥Ä","Ìé∏Ïù∏"],c=["Í≤ÅÏû¨","ÏÉÅÍ¥Ä"];o.includes(i)?r+=20:l.includes(i)?r+=5:c.includes(i)&&(r-=10);const d=Xn(s,e.year.gan),h=Xn(s,e.month.gan);return o.includes(d)&&(r+=10),o.includes(h)&&(r+=10),Math.max(0,Math.min(100,r))}function H8(t,e){const s=$8(t,e),n=V8(t,e);return Math.round(s*.6+n*.4)}function z8(t,e){const s=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],r=B8(s,n),i=t.day.gan,o=e.day.gan,l={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"};let c=60;return l[i]!==l[o]&&(c+=20),Math.round(r*.5+c*.5)}function U8(t,e){const s=t.day.gan,n=e.day.gan;let r=65;const i=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],o=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let l=0,c=0;for(const d of i){const h=Xn(s,d);(h==="Ï†ïÏû¨"||h==="Ìé∏Ïû¨")&&l++}for(const d of o){const h=Xn(n,d);(h==="Ï†ïÏû¨"||h==="Ìé∏Ïû¨")&&c++}return l>0&&l<=2&&(r+=10),c>0&&c<=2&&(r+=10),l>2&&c>2&&(r-=15),Math.max(0,Math.min(100,r))}function W8(t,e){const s=t.ohHaengBalance||{},n=e.ohHaengBalance||{};let r=70;const i=["Î™©","Ìôî","ÌÜ†","Í∏à","Ïàò"];for(const o of i){const l=(s[o]+n[o])/2;l>=15&&l<=25&&(r+=4)}for(const o of i){const l=Cl.ÏÉÅÏÉù[o];s[o]>15&&n[l]>15&&(r+=3)}return Math.max(0,Math.min(100,r))}function Y8(t,e){const s=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji];let r=60;const i=[...s,...n];for(const o of Object.keys(Fx)){const c=o.split("").filter(d=>i.includes(d)).length;c===3?r+=20:c===2&&(r+=10)}for(const o of Bx)s.includes(o[0])&&n.includes(o[1])&&(r-=8);return Math.max(0,Math.min(100,r))}function G8(t,e){let s="";t>=90?s="Ï≤úÏÉùÏó∞Î∂ÑÏûÖÎãàÎã§! ÏÑúÎ°úÎ•º ÏúÑÌïú ÏôÑÎ≤ΩÌïú ÌååÌä∏ÎÑàÏûÖÎãàÎã§. ":t>=80?s="Îß§Ïö∞ Ï¢ãÏùÄ Í∂ÅÌï©ÏûÖÎãàÎã§. ÏÑúÎ°úÎ•º Ïù¥Ìï¥ÌïòÍ≥† Ï°¥Ï§ëÌïòÎ©¥ ÌñâÎ≥µÌïú Í¥ÄÍ≥ÑÍ∞Ä Îê† Í≤ÉÏûÖÎãàÎã§. ":t>=70?s="Ï¢ãÏùÄ Í∂ÅÌï©ÏûÖÎãàÎã§. ÏÑúÎ°úÏùò Ï∞®Ïù¥Î•º Ïù∏Ï†ïÌïòÍ≥† ÎÖ∏Î†•ÌïúÎã§Î©¥ Ï¢ãÏùÄ Í¥ÄÍ≥ÑÎ•º Ïú†ÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§. ":t>=60?s="Î≥¥ÌÜµÏùò Í∂ÅÌï©ÏûÖÎãàÎã§. ÏÑúÎ°úÎ•º Ïù¥Ìï¥ÌïòÎ†§Îäî ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. ":s="ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌïú Í∂ÅÌï©ÏûÖÎãàÎã§. ÏÉÅÎåÄÎ∞©ÏùÑ Ïù¥Ìï¥ÌïòÍ≥† Î∞∞Î†§ÌïòÎäî ÏûêÏÑ∏Í∞Ä Ï§ëÏöîÌï©ÎãàÎã§. ";const n=[...e].sort((o,l)=>l.score-o.score),r=n[0],i=n[n.length-1];return r.score>=80&&(s+=`ÌäπÌûà ${r.name} Î©¥ÏóêÏÑú Îõ∞Ïñ¥ÎÇú Ï°∞ÌôîÎ•º Î≥¥ÏûÖÎãàÎã§. `),i.score<60&&(s+=`${i.name} Î∂ÄÎ∂ÑÏùÄ ÏÑúÎ°ú Îçî ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌïú ÏòÅÏó≠ÏûÖÎãàÎã§.`),s}const Xa={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"},Es={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},jr={Ïûê:"Ïàò",Ï∂ï:"ÌÜ†",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏßÑ:"ÌÜ†",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïà†:"ÌÜ†",Ìï¥:"Ïàò"},Hc=[["Ïûê","Ïò§"],["Ï∂ï","ÎØ∏"],["Ïù∏","Ïã†"],["Î¨ò","Ïú†"],["ÏßÑ","Ïà†"],["ÏÇ¨","Ìï¥"]],$x=[["Ïù∏","ÏÇ¨","Ïã†"],["Ï∂ï","Ïà†","ÎØ∏"],["Ïûê","Î¨ò"]],K8=[["Ïûê","Ïú†"],["Ïò§","Î¨ò"],["Ïã†","ÏÇ¨"],["Ïù∏","Ìï¥"],["Ï∂ï","ÏßÑ"],["ÎØ∏","Ïà†"]];function Rs(t){return t>=85?"Îß§Ïö∞Ï¢ãÏùå":t>=70?"Ï¢ãÏùå":t>=50?"Î≥¥ÌÜµ":t>=30?"Ï£ºÏùò":"ÏúÑÌóò"}function q8(t,e){let s=60;const n=[],r=[],i=t.year.gan,o=e.year.gan,l=Xa[i],c=Xa[o];l!==c?(s+=15,n.push("ÏùåÏñëÏù¥ Ï°∞ÌôîÎ°úÏõå Ï≤´ÎßåÎÇ®Î∂ÄÌÑ∞ ÎÅåÎ¶ºÏù¥ ÏûàÏäµÎãàÎã§")):(s-=5,r.push("Í∞ôÏùÄ ÏùåÏñëÏúºÎ°ú Ï≤´Ïù∏ÏÉÅÏù¥ ÌèâÎ≤îÌï† Ïàò ÏûàÏäµÎãàÎã§"));const d=Es[i],h=Es[o],m={Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"};(m[d]===h||m[h]===d)&&(s+=20,n.push("Ïò§ÌñâÏù¥ ÏÉÅÏÉùÌïòÏó¨ ÏûêÏó∞Ïä§Îü¨Ïö¥ Ìò∏Í∞êÏùÑ ÎäêÎÇçÎãàÎã§"));const u=t.year.ji,g=e.year.ji;for(const f of Hc)if(f[0]===u&&f[1]===g||f[1]===u&&f[0]===g){s-=15,r.push("ÎÖÑÏßÄÍ∞Ä Ï∂©Ïù¥ ÎêòÏñ¥ Ï≤´ÎßåÎÇ®Ïù¥ Ïñ¥ÏÉâÌï† Ïàò ÏûàÏäµÎãàÎã§");break}return u===g&&(s+=10,n.push("Í∞ôÏùÄ Îù†Î°ú Í≥µÍ∞êÎåÄÍ∞Ä ÌòïÏÑ±Îê©ÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`ÎÖÑÏ£º Í∏∞Î∞ò Ï≤´Ïù∏ÏÉÅ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ï¢ãÏùÄ Ï≤´Ïù∏ÏÉÅÏùÑ Ï£ºÍ≥†Î∞õÏäµÎãàÎã§.":"Ï≤úÏ≤úÌûà ÏπúÌï¥ÏßÄÎäî Ïä§ÌÉÄÏùºÏûÖÎãàÎã§."}`,factors:{positive:n,negative:r}}}function J8(t,e){let s=65;const n=[],r=[],i=Es[t.month.gan],o=Es[e.month.gan],l=["Î™©","Ìôî"],c=["Í∏à","Ïàò"];l.includes(i)&&l.includes(o)?(s+=15,n.push("Îëò Îã§ ÌôúÎ∞úÌïú ÏÜåÌÜµ Ïä§ÌÉÄÏùºÎ°ú ÎåÄÌôîÍ∞Ä Ï¶êÍ≤ÅÏäµÎãàÎã§")):c.includes(i)&&c.includes(o)?(s+=10,n.push("Ï∞®Î∂ÑÌïòÍ≥† ÍπäÏù¥ ÏûàÎäî ÎåÄÌôîÎ•º ÎÇòÎàïÎãàÎã§")):(l.includes(i)&&c.includes(o)||c.includes(i)&&l.includes(o))&&(s+=5,n.push("ÏÑúÎ°ú Îã§Î•∏ ÏÜåÌÜµ Ïä§ÌÉÄÏùºÏù¥ Í∑†ÌòïÏùÑ Ïù¥Î£πÎãàÎã§"));const d=t.month.ji,h=e.month.ji;for(const u of $x)if(u.includes(d)&&u.includes(h)){s-=10,r.push("ÏÜåÌÜµ Í≥ºÏ†ïÏóêÏÑú Ïò§Ìï¥Í∞Ä ÏÉùÍ∏∞Í∏∞ ÏâΩÏäµÎãàÎã§");break}const m={Ïù∏:"Î¥Ñ",Î¨ò:"Î¥Ñ",ÏßÑ:"Î¥Ñ",ÏÇ¨:"Ïó¨Î¶Ñ",Ïò§:"Ïó¨Î¶Ñ",ÎØ∏:"Ïó¨Î¶Ñ",Ïã†:"Í∞ÄÏùÑ",Ïú†:"Í∞ÄÏùÑ",Ïà†:"Í∞ÄÏùÑ",Ìï¥:"Í≤®Ïö∏",Ïûê:"Í≤®Ïö∏",Ï∂ï:"Í≤®Ïö∏"};return m[d]===m[h]&&(s+=10,n.push("Í∞ôÏùÄ Í≥ÑÏ†à Ï∂úÏÉùÏúºÎ°ú Ï†ïÏÑúÏ†Å Î¶¨Îì¨Ïù¥ ÎßûÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`ÏõîÏ£º Í∏∞Î∞ò ÏÜåÌÜµ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏõêÌôúÌïú ÏùòÏÇ¨ÏÜåÌÜµÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.":"ÏÜåÌÜµ Î∞©ÏãùÏùò Ï∞®Ïù¥Î•º Ïù¥Ìï¥Ìï† ÌïÑÏöîÍ∞Ä ÏûàÏäµÎãàÎã§."}`,factors:{positive:n,negative:r}}}function X8(t,e){let s=70;const n=[],r=[],i=t.day.gan,o=e.day.gan;Xa[i]!==Xa[o]&&(s+=20,n.push("ÏùåÏñëÏù¥ Ï°∞ÌôîÎêòÏñ¥ ÏÑúÎ°úÎ•º Î≥¥ÏôÑÌï©ÎãàÎã§"));const l=Es[i],c=Es[o];l===c&&(s+=10,n.push("Í∞ôÏùÄ Ïò§ÌñâÏúºÎ°ú Í∏∞Î≥∏ ÏÑ±Ìñ•Ïù¥ ÎπÑÏä∑Ìï©ÎãàÎã§"));const d={Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"};d[l]===c?(s+=15,n.push(`${l}Ïù¥ ${c}Î•º ÏÉùÌïòÏó¨ Î≤†Ìë∏Îäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§`)):d[c]===l&&(s+=15,n.push(`${c}Í∞Ä ${l}ÏùÑ ÏÉùÌïòÏó¨ Î∞õÎäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§`));const h={Î™©:"ÌÜ†",ÌÜ†:"Ïàò",Ïàò:"Ìôî",Ìôî:"Í∏à",Í∏à:"Î™©"};return(h[l]===c||h[c]===l)&&(s-=15,r.push("Ïò§ÌñâÏù¥ ÏÉÅÍ∑πÌïòÏó¨ Í∞ÄÏπòÍ¥Ä Ï∂©ÎèåÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`ÏùºÍ∞Ñ Í∏∞Î∞ò Í∞ÄÏπòÍ¥Ä Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÌïµÏã¨ Í∞ÄÏπòÍ¥ÄÏù¥ Ïûò ÎßûÏäµÎãàÎã§.":"ÏÑúÎ°úÏùò Í∞ÄÏπòÍ¥ÄÏùÑ Ï°¥Ï§ëÌïòÎäî ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function Q8(t,e){let s=60;const n=[],r=[],i=t.time.ji,o=e.time.ji,l=["Ïù∏","Î¨ò","ÏßÑ","ÏÇ¨"],c=["Ïò§","ÎØ∏","Ïã†","Ïú†"],d=["Ïà†","Ìï¥","Ïûê","Ï∂ï"],h=x=>l.includes(x)?"morning":c.includes(x)?"afternoon":d.includes(x)?"evening":"unknown",m=h(i),u=h(o);m===u?(s+=20,n.push("ÏÉùÌôú Î¶¨Îì¨Ïù¥ ÎπÑÏä∑ÌïòÏó¨ ÏùºÏÉÅÏù¥ Ï°∞ÌôîÎ°≠ÏäµÎãàÎã§")):(s-=10,r.push("ÌôúÎèô ÏãúÍ∞ÑÎåÄÍ∞Ä Îã¨Îùº Ï°∞Ïú®Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§"));for(const x of Hc)if(x[0]===i&&x[1]===o||x[1]===i&&x[0]===o){s-=15,r.push("ÏÉùÌôú Ìå®ÌÑ¥Ïù¥ Ï†ïÎ∞òÎåÄÏó¨ÏÑú Í∞àÎì±Ïù¥ ÏÉùÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§");break}const g=jr[i],f=jr[o];return g===f&&(s+=10,n.push("ÎπÑÏä∑Ìïú ÏóêÎÑàÏßÄ Ìå®ÌÑ¥ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`ÏãúÏ£º Í∏∞Î∞ò ÏÉùÌôúÌå®ÌÑ¥ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏùºÏÉÅÏÉùÌôúÏù¥ Ï°∞ÌôîÎ°≠Í≤å ÌùòÎü¨Í∞ëÎãàÎã§.":"ÏÉùÌôú Ìå®ÌÑ¥ Ï°∞Ïú®Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function Z8(t,e){let s=80;const n=[],r=[],i=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],o=[e.year.ji,e.month.ji,e.day.ji,e.time.ji];let l=0,c=0,d=0;for(const u of i)for(const g of o)for(const f of Hc)(f[0]===u&&f[1]===g||f[1]===u&&f[0]===g)&&l++;l>0&&(s-=l*10,r.push(`${l}Í∞úÏùò Ï∂©Ïù¥ ÏûàÏñ¥ Í∞àÎì±Ïù¥ ÏûêÏ£º Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§`));for(const u of $x){let g=!1,f=!1;for(const x of i)u.includes(x)&&(g=!0);for(const x of o)u.includes(x)&&(f=!0);g&&f&&c++}c>0&&(s-=c*8,r.push("ÌòïÏù¥ ÏûàÏñ¥ ÏÑúÎ°ú ÏÉÅÏ≤òÎ•º Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§"));for(const u of i)for(const g of o)for(const f of K8)(f[0]===u&&f[1]===g||f[1]===u&&f[0]===g)&&d++;d>0&&(s-=d*5,r.push("ÌååÍ∞Ä ÏûàÏñ¥ Í¥ÄÍ≥ÑÍ∞Ä Î∂àÏïàÏ†ïÌï† Ïàò ÏûàÏäµÎãàÎã§")),l===0&&c===0&&(s+=10,n.push("Ï∂©Ïù¥ÎÇò ÌòïÏù¥ ÏóÜÏñ¥ ÌèâÌôîÎ°úÏö¥ Í¥ÄÍ≥ÑÏûÖÎãàÎã§"));const h=i.filter(u=>jr[u]==="ÌÜ†").length,m=o.filter(u=>jr[u]==="ÌÜ†").length;return(h>0||m>0)&&(s+=5,n.push("ÌÜ† Ïò§ÌñâÏù¥ ÏûàÏñ¥ Í∞àÎì± Ï§ëÏû¨ Îä•Î†•Ïù¥ ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`Í∞àÎì±Ìï¥Í≤∞ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Í∞àÎì±ÏùÑ Ïûò Ìï¥Í≤∞Ìï† Ïàò ÏûàÏäµÎãàÎã§.":"Í∞àÎì± Î∞úÏÉù Ïãú Ïã†Ï§ëÌïú ÎåÄÏ≤òÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function eM(t,e){let s=65;const n=[],r=[],i=Ws(t,"Ïàò"),o=Ws(e,"Ïàò");i>0&&i<=2&&(s+=10,n.push("Ï†ÅÏ†àÌïú Ïàò Í∏∞Ïö¥ÏúºÎ°ú Í∞êÏ†ï ÌëúÌòÑÏù¥ ÏûêÏó∞Ïä§ÎüΩÏäµÎãàÎã§")),o>0&&o<=2&&(s+=10,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ Í∞êÏ†ï ÍµêÎ•òÍ∞Ä ÏõêÌôúÌï©ÎãàÎã§")),(i>3||o>3)&&(s-=10,r.push("ÏàòÍ∞Ä Í≥ºÎã§ÌïòÏó¨ Í∞êÏ†ï Í∏∞Î≥µÏù¥ Ïã¨Ìï† Ïàò ÏûàÏäµÎãàÎã§")),i===0&&o===0&&(s-=15,r.push("ÏàòÍ∞Ä Î∂ÄÏ°±ÌïòÏó¨ Ï†ïÏÑúÏ†Å ÍµêÍ∞êÏù¥ Ïñ¥Î†§Ïö∏ Ïàò ÏûàÏäµÎãàÎã§"));const l=Ws(t,"Ìôî"),c=Ws(e,"Ìôî");if(Math.abs(l-i)<=1&&Math.abs(c-o)<=1&&(s+=15,n.push("ÌôîÏàòÍ∞Ä Í∑†ÌòïÏùÑ Ïù¥Î£®Ïñ¥ Ïó¥Ï†ïÍ≥º Í∞êÏÑ±Ïù¥ Ï°∞ÌôîÎ°≠ÏäµÎãàÎã§")),t.ohHaengBalance&&e.ohHaengBalance){const d=t.ohHaengBalance.Ïàò||0,h=e.ohHaengBalance.Ïàò||0;d>=15&&d<=25&&h>=15&&h<=25&&(s+=10,n.push("Ïàò Ïò§ÌñâÏù¥ Í∑†ÌòïÏû°ÌòÄ Ï†ïÏÑúÏ†Å ÏïàÏ†ïÍ∞êÏù¥ ÏûàÏäµÎãàÎã§"))}return s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`Ï†ïÏÑúÏ†Å Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÍπäÏùÄ Ï†ïÏÑúÏ†Å ÍµêÍ∞êÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.":"Í∞êÏ†ï ÌëúÌòÑÍ≥º Ïù¥Ìï¥Ïóê ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function tM(t,e){let s=70;const n=[],r=[],i=Ws(t,"ÌÜ†"),o=Ws(e,"ÌÜ†");i>=1&&i<=3&&(s+=10,n.push("ÌÜ† Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÎØøÏùåÏßÅÌï©ÎãàÎã§")),o>=1&&o<=3&&(s+=10,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ Ïã†Î¢∞Ìï† ÎßåÌïú ÏÇ¨ÎûåÏûÖÎãàÎã§")),i>0&&o>0&&(s+=15,n.push("ÏÑúÎ°ú ÌÜ† Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÏïàÏ†ïÏ†ÅÏù∏ Ïã†Î¢∞Í¥ÄÍ≥ÑÎ•º ÌòïÏÑ±Ìï©ÎãàÎã§")),(i>4||o>4)&&(s-=10,r.push("ÌÜ†Í∞Ä Í≥ºÎã§ÌïòÏó¨ Í≥†ÏßëÏù¥ ÏÑ∏Í≥† Î≥ÄÌôîÎ•º Í±∞Î∂ÄÌï† Ïàò ÏûàÏäµÎãàÎã§")),(i===0||o===0)&&(s-=15,r.push("ÌÜ†Í∞Ä Î∂ÄÏ°±ÌïòÏó¨ Ïã†Î¢∞ ÌòïÏÑ±Ïóê ÏãúÍ∞ÑÏù¥ ÌïÑÏöîÌï©ÎãàÎã§"));const l=t.day.ji,c=e.day.ji,d=["Ï∂ï","ÏßÑ","ÎØ∏","Ïà†"];return(d.includes(l)||d.includes(c))&&(s+=5,n.push("ÏùºÏßÄÏóê ÌÜ†Í∞Ä ÏûàÏñ¥ Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ïã†Î¢∞Í∞êÏùÑ Ï§çÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Rs(s),description:`Ïã†Î¢∞ÎèÑ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏÑúÎ°úÎ•º ÍπäÏù¥ Ïã†Î¢∞Ìï† Ïàò ÏûàÏäµÎãàÎã§.":"Ïã†Î¢∞ Íµ¨Ï∂ïÏóê ÏãúÍ∞ÑÍ≥º ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function Ws(t,e){let s=0;const n=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],r=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(const i of n)Es[i]===e&&s++;for(const i of r)jr[i]===e&&s++;return s}function sM(t,e){const s=q8(t,e),n=J8(t,e),r=X8(t,e),i=Q8(t,e),o=Z8(t,e),l=eM(t,e),c=tM(t,e),d=[s.score,n.score,r.score,i.score,o.score,l.score,c.score],h=Math.round(d.reduce((u,g)=>u+g,0)/d.length);let m="";return h>=80?m="Îß§Ïö∞ ÌõåÎ•≠Ìïú Í¥ÄÍ≥ÑÏÑ±ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. ÏÑúÎ°úÎ•º ÍπäÏù¥ Ïù¥Ìï¥ÌïòÍ≥† Ï°¥Ï§ëÌï† Ïàò ÏûàÎäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§.":h>=70?m="Ï¢ãÏùÄ Í¥ÄÍ≥ÑÎ•º Ïú†ÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏïΩÍ∞ÑÏùò ÎÖ∏Î†•ÏúºÎ°ú ÎçîÏö± Î∞úÏ†ÑÌï† Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÏäµÎãàÎã§.":h>=60?m="ÌèâÍ∑†Ï†ÅÏù∏ Í¥ÄÍ≥ÑÏûÖÎãàÎã§. ÏÑúÎ°úÎ•º Ïù¥Ìï¥ÌïòÎ†§Îäî ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.":h>=50?m="Í¥ÄÍ≥Ñ Ïú†ÏßÄÏóê ÏÉÅÎãπÌïú ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. Ï∞®Ïù¥Ï†êÏùÑ Ïù∏Ï†ïÌïòÍ≥† Ï°¥Ï§ëÌïòÎäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.":m="Í¥ÄÍ≥ÑÏóê Ïñ¥Î†§ÏõÄÏù¥ ÏòàÏÉÅÎê©ÎãàÎã§. Ï∂©Î∂ÑÌïú Ïù¥Ìï¥ÏôÄ Ïù∏ÎÇ¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.",{firstImpression:s,communication:n,valueSystem:r,lifePattern:i,conflictResolution:o,emotional:l,trust:c,averageScore:h,summary:m}}function et(t,e){var d;const s={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},n={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"},r=s[t],i=s[e],o=n[t]===n[e];if(r===i)return o?"ÎπÑÍ≤¨":"Í≤ÅÏû¨";const c=(d={Î™©:{Ìôî:["ÏãùÏã†","ÏÉÅÍ¥Ä"],ÌÜ†:["Ìé∏Ïû¨","Ï†ïÏû¨"],Í∏à:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ïàò:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ìôî:{ÌÜ†:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Í∏à:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ïàò:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Î™©:["Ìé∏Ïù∏","Ï†ïÏù∏"]},ÌÜ†:{Í∏à:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ïàò:["Ìé∏Ïû¨","Ï†ïÏû¨"],Î™©:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ìôî:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Í∏à:{Ïàò:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Î™©:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ìôî:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],ÌÜ†:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ïàò:{Î™©:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ìôî:["Ìé∏Ïû¨","Ï†ïÏû¨"],ÌÜ†:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Í∏à:["Ìé∏Ïù∏","Ï†ïÏù∏"]}}[r])==null?void 0:d[i];return c?o?c[0]:c[1]:"ÏïåÏàòÏóÜÏùå"}function Fr(t){return t>=85?"Îß§Ïö∞Ï¢ãÏùå":t>=70?"Ï¢ãÏùå":t>=50?"Î≥¥ÌÜµ":t>=30?"Ï£ºÏùò":"ÏúÑÌóò"}function nM(t,e){let s=65;const n=[],r=[],i=t.day.gan,o=e.day.gan,l=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],c=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let d=0,h=0,m=0;for(const y of l){const j=et(i,y);j==="Ï†ïÏû¨"?(d++,h++):j==="Ìé∏Ïû¨"&&(d++,m++)}let u=0,g=0,f=0;for(const y of c){const j=et(o,y);j==="Ï†ïÏû¨"?(u++,g++):j==="Ìé∏Ïû¨"&&(u++,f++)}d>=1&&d<=2&&(s+=10,n.push("Ï†ÅÏ†àÌïú Ïû¨ÏÑ±ÏúºÎ°ú Í±¥Ïã§Ìïú Í≤ΩÏ†úÍ¥ÄÎÖêÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§")),u>=1&&u<=2&&(s+=10,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ ÏïàÏ†ïÏ†ÅÏù∏ Í≤ΩÏ†úÍ¥ÄÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§")),h>m&&g>f?(s+=15,n.push("Îëò Îã§ ÏïàÏ†ïÏ†ÅÏù¥Í≥† Î≥¥ÏàòÏ†ÅÏù∏ Ïû¨ÌÖåÌÅ¨ ÏÑ±Ìñ•ÏûÖÎãàÎã§")):m>h&&f>g?(s+=5,n.push("Îëò Îã§ Ï†ÅÍ∑πÏ†ÅÏù∏ Ìà¨Ïûê ÏÑ±Ìñ•ÏúºÎ°ú ÏùòÍ≤¨Ïù¥ ÎßûÏùÑ Ïàò ÏûàÏäµÎãàÎã§")):(s+=10,n.push("ÏÑúÎ°ú Îã§Î•∏ Ïû¨ÌÖåÌÅ¨ Ïä§ÌÉÄÏùºÎ°ú Í∑†ÌòïÏùÑ Ïù¥Î£πÎãàÎã§")),(d>3||u>3)&&(s-=15,r.push("Ïû¨ÏÑ±Ïù¥ Í≥ºÎã§ÌïòÏó¨ Îèà Î¨∏Ï†úÎ°ú Í∞àÎì±Ïù¥ ÏÉùÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§")),(d===0||u===0)&&(s-=10,r.push("Ïû¨ÏÑ±Ïù¥ Î∂ÄÏ°±ÌïòÏó¨ Í≤ΩÏ†úÏ†Å Í≥ÑÌöçÏÑ±Ïù¥ Îñ®Ïñ¥Ïßà Ïàò ÏûàÏäµÎãàÎã§"));const x=Ut(t,"Í∏à"),b=Ut(e,"Í∏à");return x>0&&b>0&&(s+=5,n.push("Í∏à Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ Ï†àÏïΩ Ï†ïÏã†Ïù¥ ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Fr(s),description:`Í≤ΩÏ†úÍ¥ÄÎÖê Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Í≤ΩÏ†úÏ†Å Í∞ÄÏπòÍ¥ÄÏù¥ Ïûò ÎßûÏäµÎãàÎã§.":"Í∏àÏ†Ñ Í¥ÄÎ¶¨ Î∞©ÏãùÏóê ÎåÄÌïú Ï°∞Ïú®Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function rM(t,e){let s=60;const n=[],r=[],i=t.day.gan,o=e.day.gan,l=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],c=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let d=0,h=0,m=0;for(const y of l){const j=et(i,y);j==="Ï†ïÍ¥Ä"?(d++,h++):j==="Ìé∏Í¥Ä"&&(d++,m++)}let u=0,g=0,f=0;for(const y of c){const j=et(o,y);j==="Ï†ïÍ¥Ä"?(u++,g++):j==="Ìé∏Í¥Ä"&&(u++,f++)}d>=1&&d<=2&&(s+=15,n.push("ÏïàÏ†ïÏ†ÅÏù∏ ÏßÅÏóÖÏö¥ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§")),u>=1&&u<=2&&(s+=15,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ Ïª§Î¶¨Ïñ¥Í∞Ä ÏïàÏ†ïÏ†ÅÏûÖÎãàÎã§")),h>0&&g>0?(s+=10,n.push("Îëò Îã§ ÏïàÏ†ïÏ†ÅÏù∏ ÏßÅÏû• ÏÉùÌôúÏùÑ ÏÑ†Ìò∏Ìï©ÎãàÎã§")):m>0&&f>0&&(s+=10,n.push("Îëò Îã§ ÎèÑÏ†ÑÏ†ÅÏù∏ ÏÇ¨ÏóÖÍ∞Ä Í∏∞ÏßàÏù¥ ÏûàÏäµÎãàÎã§")),(d>3||u>3)&&(s-=10,r.push("Í¥ÄÏÑ±Ïù¥ Í≥ºÎã§ÌïòÏó¨ ÏóÖÎ¨¥ Ïä§Ìä∏Î†àÏä§Í∞Ä Í¥ÄÍ≥ÑÏóê ÏòÅÌñ•ÏùÑ Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§"));let x=0,b=0;for(const y of l){const j=et(i,y);(j==="ÏãùÏã†"||j==="ÏÉÅÍ¥Ä")&&x++}for(const y of c){const j=et(o,y);(j==="ÏãùÏã†"||j==="ÏÉÅÍ¥Ä")&&b++}return x>0&&b>0&&(s+=10,n.push("Îëò Îã§ Ï∞ΩÏùòÏ†ÅÏù∏ Îä•Î†•Ïù¥ ÏûàÏñ¥ ÏÑúÎ°úÎ•º Ïù¥Ìï¥Ìï©ÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Fr(s),description:`ÏßÅÏóÖÏö¥ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏÑúÎ°úÏùò Ïª§Î¶¨Ïñ¥Î•º ÏßÄÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§.":"ÏßÅÏóÖÏ†Å Î™©ÌëúÏóê ÎåÄÌïú Ïù¥Ìï¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function aM(t,e){let s=65;const n=[],r=[],i=t.day.gan,o=e.day.gan,l=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],c=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let d=0,h=0;for(const x of l){const b=et(i,x);(b==="Ï†ïÏù∏"||b==="Ìé∏Ïù∏")&&d++}for(const x of c){const b=et(o,x);(b==="Ï†ïÏù∏"||b==="Ìé∏Ïù∏")&&h++}d>=1&&d<=2&&(s+=15,n.push("ÏïàÏ†ïÏ†ÅÏù∏ Ï£ºÍ±∞ ÌôòÍ≤ΩÏùÑ ÏÑ†Ìò∏Ìï©ÎãàÎã§")),h>=1&&h<=2&&(s+=15,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ Ìé∏ÏïàÌïú ÏßëÏùÑ Ï§ëÏöîÏãúÌï©ÎãàÎã§"));const m=Ut(t,"ÌÜ†"),u=Ut(e,"ÌÜ†");(m>=2||u>=2)&&(s+=10,n.push("ÌÜ† Í∏∞Ïö¥Ïù¥ Í∞ïÌï¥ Î∂ÄÎèôÏÇ∞ Ïö¥Ïù¥ Ï¢ãÏäµÎãàÎã§")),(d>3||h>3)&&(s-=10,r.push("Ïù∏ÏÑ±Ïù¥ Í≥ºÎã§ÌïòÏó¨ ÎèÖÎ¶ΩÏ†ÅÏù∏ Ï£ºÍ±∞ ÏÉùÌôúÏù¥ Ïñ¥Î†§Ïö∏ Ïàò ÏûàÏäµÎãàÎã§"));const g=Ut(t,"Î™©"),f=Ut(e,"Î™©");return g>0&&f>0?(s+=5,n.push("Î™© Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÏûêÏó∞ÏπúÌôîÏ†ÅÏù∏ Ï£ºÍ±∞Î•º ÏÑ†Ìò∏Ìï©ÎãàÎã§")):(g>2&&f===0||g===0&&f>2)&&(s-=5,r.push("Ï£ºÍ±∞ ÌôòÍ≤Ω Ï∑®Ìñ•Ïù¥ ÌÅ¨Í≤å Îã§Î•º Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Fr(s),description:`Ï£ºÍ±∞ÌôòÍ≤Ω Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ìé∏ÏïàÌïú Î≥¥Í∏àÏûêÎ¶¨Î•º ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§.":"Ï£ºÍ±∞ Ïä§ÌÉÄÏùº Ï°∞Ïú®Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function iM(t,e){let s=70;const n=[],r=[],i=t.day.gan,o=e.day.gan,l=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],c=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let d=0,h=0,m=0;for(const j of l){const S=et(i,j);S==="ÏãùÏã†"?(d++,h++):S==="ÏÉÅÍ¥Ä"&&(d++,m++)}let u=0,g=0,f=0;for(const j of c){const S=et(o,j);S==="ÏãùÏã†"?(u++,g++):S==="ÏÉÅÍ¥Ä"&&(u++,f++)}h>0&&g>0?(s+=20,n.push("Îëò Îã§ ÏãùÏã†Ïù¥ ÏûàÏñ¥ ÏûêÎÖÄ Î≥µÏù¥ ÏûàÏäµÎãàÎã§")):(h>0||g>0)&&(s+=10,n.push("ÏûêÎÖÄÏóê ÎåÄÌïú ÏÇ¨ÎûëÏù¥ ÍπäÏäµÎãàÎã§")),(m>1||f>1)&&(s-=5,r.push("ÏûêÎÖÄ ÍµêÏú° Î∞©ÏãùÏóêÏÑú ÏùòÍ≤¨ Ï∂©ÎèåÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§")),d===0&&u===0&&(s-=15,r.push("ÏãùÏÉÅÏù¥ Î∂ÄÏ°±ÌïòÏó¨ ÏûêÎÖÄ Í≥ÑÌöçÏóê Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§"));const x=Ut(t,"Ïàò"),b=Ut(e,"Ïàò");x>0&&b>0&&(s+=10,n.push("Ïàò Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÏûêÎÖÄ ÏÉùÏÇ∞Î†•Ïù¥ Ï¢ãÏäµÎãàÎã§"));const y=["Ïûê","Ïò§","Î¨ò","Ïú†"];return(y.includes(t.time.ji)||y.includes(e.time.ji))&&(s+=5,n.push("ÎèÑÌôîÍ∞Ä ÏûàÏñ¥ ÏòàÏÅú ÏûêÎÖÄÎ•º ÏñªÏùÑ Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Fr(s),description:`ÏûêÎÖÄÏö¥ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏûêÎÖÄÏôÄ ÌñâÎ≥µÌïú Í∞ÄÏ†ïÏùÑ Ïù¥Î£∞ Ïàò ÏûàÏäµÎãàÎã§.":"ÏûêÎÖÄ Í≥ÑÌöçÏóê ÎåÄÌïú Ï∂©Î∂ÑÌïú ÎåÄÌôîÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function oM(t,e){let s=70;const n=[],r=[],i=t.year.ji,o=e.year.ji,l=t.month.ji,c=e.month.ji,d=[["Ïûê","Ïò§"],["Ï∂ï","ÎØ∏"],["Ïù∏","Ïã†"],["Î¨ò","Ïú†"],["ÏßÑ","Ïà†"],["ÏÇ¨","Ìï¥"]];let h=!1;for(const j of d)if(j[0]===i&&j[1]===o||j[1]===i&&j[0]===o){s-=15,r.push("ÎÖÑÏßÄÍ∞Ä Ï∂©Ïù¥ ÎêòÏñ¥ ÏñëÍ∞Ä Î∂ÄÎ™®ÎãòÍ≥ºÏùò Í¥ÄÍ≥ÑÏóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§"),h=!0;break}h||(s+=10,n.push("ÎÖÑÏßÄÍ∞Ä Ï∂©ÎèåÌïòÏßÄ ÏïäÏïÑ ÏñëÍ∞Ä ÌôîÌï©Ïù¥ Ï¢ãÏäµÎãàÎã§"));for(const j of d)if(j[0]===l&&j[1]===c||j[1]===l&&j[0]===c){s-=10,r.push("ÏõîÏßÄÍ∞Ä Ï∂©Ïù¥ ÎêòÏñ¥ ÌòïÏ†úÍ∞Ñ Í¥ÄÍ≥ÑÏóê Ïã†Í≤ΩÏç®Ïïº Ìï©ÎãàÎã§");break}const m=w0(t.year.gan),u=w0(e.year.gan),g={Î™©:"Ìôî",Ìôî:"ÌÜ†",ÌÜ†:"Í∏à",Í∏à:"Ïàò",Ïàò:"Î™©"};(g[m]===u||g[u]===m)&&(s+=15,n.push("ÎÖÑÍ∞ÑÏù¥ ÏÉÅÏÉùÌïòÏó¨ ÏñëÍ∞Ä Ïñ¥Î•∏Îì§Ïùò Ï∂ïÎ≥µÏùÑ Î∞õÏäµÎãàÎã§"));const f=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],x=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let b=0,y=0;for(const j of f){const S=et(t.day.gan,j);(S==="Ï†ïÏù∏"||S==="Ìé∏Ïù∏")&&b++}for(const j of x){const S=et(e.day.gan,j);(S==="Ï†ïÏù∏"||S==="Ìé∏Ïù∏")&&y++}return b>0&&y>0&&(s+=10,n.push("Ïù∏ÏÑ±Ïù¥ ÏûàÏñ¥ Ïñ¥Î•∏ÏùÑ Í≥µÍ≤ΩÌïòÎäî ÎßàÏùåÏù¥ ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:Fr(s),description:`ÏãúÎåÅ/Ï≤òÍ∞Ä Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏñëÍ∞Ä Í∞ÄÏ°±Í≥º ÏõêÎßåÌïú Í¥ÄÍ≥ÑÎ•º Ïú†ÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§.":"Í∞ÄÏ°± Í¥ÄÍ≥ÑÏóêÏÑú ÏÑúÎ°ú Î∞∞Î†§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function Ut(t,e){const s={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},n={Ïûê:"Ïàò",Ï∂ï:"ÌÜ†",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏßÑ:"ÌÜ†",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïà†:"ÌÜ†",Ìï¥:"Ïàò"};let r=0;const i=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],o=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(const l of i)s[l]===e&&r++;for(const l of o)n[l]===e&&r++;return r}function w0(t){return{Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"}[t]||""}function lM(t,e){const s=nM(t,e),n=rM(t,e),r=aM(t,e),i=iM(t,e),o=oM(t,e),l=[s.score,n.score,r.score,i.score,o.score],c=Math.round(l.reduce((h,m)=>h+m,0)/l.length);let d="";return c>=80?d="ÌòÑÏã§Ï†ÅÏù∏ Î©¥ÏóêÏÑú Îß§Ïö∞ Ïûò ÎßûÏäµÎãàÎã§. ÏïàÏ†ïÏ†ÅÏù∏ Í∞ÄÏ†ïÏùÑ Ïù¥Î£∞ Ïàò ÏûàÏäµÎãàÎã§.":c>=70?d="Ïã§ÏÉùÌôúÏóêÏÑú ÌÅ∞ Î¨∏Ï†úÏóÜÏù¥ Ï°∞ÌôîÎ•º Ïù¥Î£∞ Ïàò ÏûàÏäµÎãàÎã§.":c>=60?d="ÏùºÎ∂Ä ÌòÑÏã§Ï†Å Î¨∏Ï†úÏóêÏÑú Ï°∞Ïú®Ïù¥ ÌïÑÏöîÌïòÏßÄÎßå Í∑πÎ≥µ Í∞ÄÎä•Ìï©ÎãàÎã§.":c>=50?d="ÌòÑÏã§Ï†Å Í∞ÄÏπòÍ¥ÄÏùò Ï∞®Ïù¥Í∞Ä ÏûàÏñ¥ Ï∂©Î∂ÑÌïú ÎåÄÌôîÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.":d="ÌòÑÏã§Ï†Å Î¨∏Ï†úÎ°ú Ïñ¥Î†§ÏõÄÏù¥ ÏòàÏÉÅÎê©ÎãàÎã§. Ïã†Ï§ëÌïú Ï†ëÍ∑ºÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.",{economic:s,career:n,residence:r,children:i,inLaw:o,averageScore:c,summary:d}}function ss(t){return t>=85?"Îß§Ïö∞Ï¢ãÏùå":t>=70?"Ï¢ãÏùå":t>=50?"Î≥¥ÌÜµ":t>=30?"Ï£ºÏùò":"ÏúÑÌóò"}const ft=["Ïûê","Ïò§","Î¨ò","Ïú†"],k0=["Ïù∏","Ïã†","ÏÇ¨","Ìï¥"],Qa=["ÏßÑ","Ïà†","Ï∂ï","ÎØ∏"];function cM(t,e){let s=60;const n=[],r=[],i=$e(t,"Ìôî"),o=$e(e,"Ìôî"),l=$e(t,"Ïàò"),c=$e(e,"Ïàò");i>=1&&i<=2&&l>=1&&l<=2&&(s+=15,n.push("ÌôîÏàòÍ∞Ä Í∑†ÌòïÏùÑ Ïù¥Î£®Ïñ¥ Í±¥Í∞ïÌïú ÏÑ±ÏÉùÌôúÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§")),o>=1&&o<=2&&c>=1&&c<=2&&(s+=15,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ ÏÑ±Ï†Å ÏóêÎÑàÏßÄÍ∞Ä Í∑†ÌòïÏû°ÌòÄ ÏûàÏäµÎãàÎã§"));const d=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],h=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],m=d.filter(f=>ft.includes(f)).length,u=h.filter(f=>ft.includes(f)).length;m===1&&u===1?(s+=20,n.push("Ï†ÅÏ†àÌïú ÎèÑÌôîÍ∞Ä ÏûàÏñ¥ ÏÑúÎ°úÏóêÍ≤å Îß§Î†•ÏùÑ ÎäêÎÇçÎãàÎã§")):m>2||u>2?(s-=15,r.push("ÎèÑÌôîÍ∞Ä Í≥ºÎã§ÌïòÏó¨ Ïù¥ÏÑ± Î¨∏Ï†úÍ∞Ä ÏÉùÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§")):m===0&&u===0&&(s-=10,r.push("ÎèÑÌôîÍ∞Ä ÏóÜÏñ¥ ÏÑ±Ï†Å Îß§Î†•Ïù¥ Î∂ÄÏ°±Ìï† Ïàò ÏûàÏäµÎãàÎã§")),ft.includes(t.day.ji)&&ft.includes(e.day.ji)&&(s+=10,n.push("ÏùºÏßÄ ÎèÑÌôîÎ°ú Í∞ïÌïú ÏÑ±Ï†Å ÎÅåÎ¶ºÏù¥ ÏûàÏäµÎãàÎã§")),(i>3||o>3)&&(s-=10,r.push("ÌôîÍ∞Ä Í≥ºÎã§ÌïòÏó¨ ÏÑ±Ï†ÅÏúºÎ°ú Ï∂©ÎèôÏ†ÅÏùº Ïàò ÏûàÏäµÎãàÎã§"));const g={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"};return g[t.day.gan]!==g[e.day.gan]&&(s+=10,n.push("ÏùåÏñëÏù¥ Ï°∞ÌôîÎêòÏñ¥ ÏÑ±Ï†Å Í∂ÅÌï©Ïù¥ Ï¢ãÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`ÏÑ±Ï†Å Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÏÑúÎ°úÏóêÍ≤å ÏÑ±Ï†Å Îß§Î†•ÏùÑ ÎäêÎÇçÎãàÎã§.":"ÏÑ±Ï†Å Ï°∞ÌôîÎ•º ÏúÑÌïú ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function dM(t,e){let s=70;const n=[],r=[],i=tt(t,["Ï†ïÏù∏","Ìé∏Ïù∏"]),o=tt(e,["Ï†ïÏù∏","Ìé∏Ïù∏"]),l=tt(t,["ÏãùÏã†"]),c=tt(e,["ÏãùÏã†"]);i>0&&o>0&&(s+=15,n.push("Îëò Îã§ Ï†ïÏã†Ï†Å Í∞ÄÏπòÎ•º Ï§ëÏöîÏãúÌï©ÎãàÎã§")),l>0&&c>0&&(s+=15,n.push("Ï¢ÖÍµêÎÇò Ï≤†ÌïôÏóê ÎåÄÌïú Í¥ÄÏã¨Ïù¥ ÎπÑÏä∑Ìï©ÎãàÎã§"));const d=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],h=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],m=d.filter(x=>Qa.includes(x)).length,u=h.filter(x=>Qa.includes(x)).length;m>0&&u>0?(s+=10,n.push("ÌôîÍ∞úÏÇ¥Ïù¥ ÏûàÏñ¥ ÏòàÏà†Ï†Å/ÏòÅÏ†Å ÍµêÍ∞êÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§")):(m>1&&u===0||m===0&&u>1)&&(s-=10,r.push("Ï¢ÖÍµêÍ¥ÄÏùò Ï∞®Ïù¥Í∞Ä ÌÅ¥ Ïàò ÏûàÏäµÎãàÎã§"));const g=$e(t,"Î™©"),f=$e(e,"Î™©");return g>0&&f>0&&(s+=5,n.push("Î™© Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÏûêÎπÑÎ°≠Í≥† Ìè¨Ïö©Ï†ÅÏûÖÎãàÎã§")),(i>3||o>3)&&(s-=15,r.push("Ïù∏ÏÑ±Ïù¥ Í≥ºÎã§ÌïòÏó¨ Ï¢ÖÍµêÏ†Å Í∑πÎã®Ï£ºÏùò Ïö∞Î†§Í∞Ä ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`Ï¢ÖÍµê/Ïã†Ïïô Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ï†ïÏã†Ï†Å Í∞ÄÏπòÍ¥ÄÏù¥ Ïûò ÎßûÏäµÎãàÎã§.":"Ï¢ÖÍµêÎÇò Ïã†ÎÖêÏóê ÎåÄÌïú ÏÉÅÌò∏ Ïù¥Ìï¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function hM(t,e){let s=65;const n=[],r=[],i=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],o=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=i.filter(x=>k0.includes(x)).length,c=o.filter(x=>k0.includes(x)).length;l>0&&c>0?(s+=20,n.push("Îëò Îã§ Ïó≠ÎßàÍ∞Ä ÏûàÏñ¥ Ïó¨ÌñâÏùÑ Ï¶êÍπÅÎãàÎã§")):l>1&&c===0||l===0&&c>1?(s-=10,r.push("Ïó¨Ìñâ Ï∑®Ìñ•Ïùò Ï∞®Ïù¥Î°ú Í∞àÎì±Ïù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§")):l===0&&c===0&&(s+=5,n.push("Îëò Îã§ ÏïàÏ†ïÏ†ÅÏù∏ Ï∑®ÎØ∏Î•º ÏÑ†Ìò∏Ìï©ÎãàÎã§"));const d=i.filter(x=>Qa.includes(x)).length,h=o.filter(x=>Qa.includes(x)).length;d>0&&h>0&&(s+=15,n.push("ÏòàÏà†Ï†Å Ï∑®ÎØ∏Î•º Í≥µÏú†Ìï† Ïàò ÏûàÏäµÎãàÎã§"));const m=tt(t,["ÏãùÏã†","ÏÉÅÍ¥Ä"]),u=tt(e,["ÏãùÏã†","ÏÉÅÍ¥Ä"]);m>0&&u>0&&(s+=10,n.push("Ï∞ΩÏùòÏ†ÅÏù∏ Ï∑®ÎØ∏ ÌôúÎèôÏùÑ Ìï®Íªò Ï¶êÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§"));const g=$e(t,"Î™©")+$e(t,"Ìôî"),f=$e(e,"Î™©")+$e(e,"Ìôî");return g>=3&&f>=3?(s+=10,n.push("ÌôúÎèôÏ†ÅÏù∏ Ï∑®ÎØ∏Î•º Ìï®Íªò Ï¶êÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§")):(g>=4&&f<=1||g<=1&&f>=4)&&(s-=10,r.push("ÌôúÎèôÎüâÏùò Ï∞®Ïù¥Î°ú Ï∑®ÎØ∏ Í≥µÏú†Í∞Ä Ïñ¥Î†§Ïö∏ Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`Ïó¨Ìñâ/Ï∑®ÎØ∏ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ï∑®ÎØ∏ÏôÄ Ïó¨Í∞ÄÎ•º Ìï®Íªò Ï¶êÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§.":"ÏÑúÎ°úÏùò Ï∑®ÎØ∏Î•º Ï°¥Ï§ëÌïòÎäî ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function uM(t,e){let s=70;const n=[],r=[],i=$e(t,"Í∏à"),o=$e(e,"Í∏à");i>=1&&i<=3&&(s+=10,n.push("Í∏à Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÎÖ∏ÌõÑ Ï§ÄÎπÑÍ∞Ä Ï≤†Ï†ÄÌï©ÎãàÎã§")),o>=1&&o<=3&&(s+=10,n.push("ÏÉÅÎåÄÎ∞©ÎèÑ ÎÖ∏ÌõÑÎ•º Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú Ï§ÄÎπÑÌï©ÎãàÎã§"));const l=$e(t,"ÌÜ†"),c=$e(e,"ÌÜ†");l>0&&c>0&&(s+=15,n.push("ÌÜ† Í∏∞Ïö¥Ïù¥ ÏûàÏñ¥ ÏïàÏ†ïÏ†ÅÏù∏ ÎÖ∏ÌõÑÏÉùÌôúÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§"));const d=tt(t,["Ï†ïÏû¨","Ìé∏Ïû¨"]),h=tt(e,["Ï†ïÏû¨","Ìé∏Ïû¨"]);d>0&&h>0?(s+=10,n.push("Ïû¨ÏÑ±Ïù¥ ÏûàÏñ¥ Í≤ΩÏ†úÏ†ÅÏúºÎ°ú ÏïàÏ†ïÎêú ÎÖ∏ÌõÑÍ∞Ä Í∏∞ÎåÄÎê©ÎãàÎã§")):d===0&&h===0&&(s-=15,r.push("Ïû¨ÏÑ±Ïù¥ Î∂ÄÏ°±ÌïòÏó¨ ÎÖ∏ÌõÑ ÏûêÍ∏à Ï§ÄÎπÑÏóê Ïã†Í≤ΩÏç®Ïïº Ìï©ÎãàÎã§"));const m=tt(t,["Ï†ïÏù∏","Ìé∏Ïù∏"]),u=tt(e,["Ï†ïÏù∏","Ìé∏Ïù∏"]);return(m>0||u>0)&&(s+=5,n.push("Ïù∏ÏÑ±Ïù¥ ÏûàÏñ¥ Ï†ïÏã†Ï†ÅÏúºÎ°ú ÌíçÏöîÎ°úÏö¥ ÎÖ∏ÌõÑÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§")),(i>4||o>4)&&(s-=10,r.push("Í∏àÏù¥ Í≥ºÎã§ÌïòÏó¨ ÎÖ∏ÌõÑÏóê Í≥†ÏßëÏù¥ ÏÑ∏Ïßà Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`ÎÖ∏ÌõÑÏÉùÌôú Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"ÌñâÎ≥µÌïòÍ≥† ÏïàÏ†ïÎêú ÎÖ∏ÌõÑÎ•º Î≥¥ÎÇº Ïàò ÏûàÏäµÎãàÎã§.":"ÎÖ∏ÌõÑ Í≥ÑÌöçÏùÑ Ìï®Íªò Ï§ÄÎπÑÌï¥Ïïº Ìï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function mM(t,e){var S,C;let s=60;const n=[],r=[],i={Í∞ë:["Ï∂ï","ÎØ∏"],ÏùÑ:["Ïûê","Ïã†"],Î≥ë:["Ìï¥","Ïú†"],Ï†ï:["Ìï¥","Ïú†"],Î¨¥:["Ï∂ï","ÎØ∏"],Í∏∞:["Ïûê","Ïã†"],Í≤Ω:["Ï∂ï","ÎØ∏"],Ïã†:["Ïù∏","Ïò§"],ÏûÑ:["Î¨ò","ÏÇ¨"],Í≥Ñ:["Î¨ò","ÏÇ¨"]},o=t.day.gan,l=e.day.gan,c=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],d=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],h=i[o]||[],m=i[l]||[],u=c.some(w=>h.includes(w)),g=d.some(w=>m.includes(w));u&&g?(s+=30,n.push("Îëò Îã§ Ï≤úÏùÑÍ∑ÄÏù∏Ïù¥ ÏûàÏñ¥ Í∑ÄÏù∏Ïùò ÎèÑÏõÄÏùÑ Î∞õÏäµÎãàÎã§")):u||g?(s+=15,n.push("Ï≤úÏùÑÍ∑ÄÏù∏Ïù¥ ÏûàÏñ¥ Ïñ¥Î†§Ïö∏ Îïå ÎèÑÏõÄÏùÑ Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§")):(s-=10,r.push("Ï≤úÏùÑÍ∑ÄÏù∏Ïù¥ ÏóÜÏñ¥ Ïä§Ïä§Î°ú Ìó§Ï≥êÎÇòÍ∞ÄÏïº Ìï©ÎãàÎã§"));const f=d.some(w=>h.includes(w)),x=c.some(w=>m.includes(w));(f||x)&&(s+=20,n.push("ÏÑúÎ°úÍ∞Ä ÏÑúÎ°úÏùò Í∑ÄÏù∏Ïù¥ ÎêòÏñ¥Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§"));const b={Ïù∏:["Î≥ë","Ï†ï"],Î¨ò:["Í∞ë","ÏùÑ"],ÏÇ¨:["Î≥ë","Ï†ï"],Ïò§:["ÏûÑ","Í≥Ñ"],Ïã†:["Í≤Ω","Ïã†"],Ïú†:["Í≤Ω","Ïã†"],Ìï¥:["ÏûÑ","Í≥Ñ"],Ïûê:["ÏûÑ","Í≥Ñ"]},y=t.month.ji,j=e.month.ji;return((S=b[y])!=null&&S.includes(o)||(C=b[j])!=null&&C.includes(l))&&(s+=10,n.push("ÏõîÎçïÍ∑ÄÏù∏Ïù¥ ÏûàÏñ¥ Ïù∏ÎçïÏù¥ ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`Ï≤úÏùÑÍ∑ÄÏù∏ Í∂ÅÌï©ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Í∑ÄÏù∏Ïùò ÎèÑÏõÄÏúºÎ°ú ÏàúÏ°∞Î°úÏö¥ ÏÇ∂Ïù¥ ÏòàÏÉÅÎê©ÎãàÎã§.":"Ïä§Ïä§Î°ú ÎÖ∏Î†•ÌïòÏó¨ Í∏∏ÏùÑ Í∞úÏ≤ôÌï¥Ïïº Ìï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function gM(t,e){let s=70;const n=[],r=[],i=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],o=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=i.filter(m=>ft.includes(m)).length,c=o.filter(m=>ft.includes(m)).length;l===1&&c===1?(s+=20,n.push("Ï†ÅÏ†àÌïú ÎèÑÌôîÎ°ú ÏÑúÎ°úÏóêÍ≤åÎßå Îß§Î†•ÏùÑ ÎäêÎÇçÎãàÎã§")):l===0&&c===0?(s+=10,n.push("ÎèÑÌôîÍ∞Ä ÏóÜÏñ¥ Ïù¥ÏÑ± Î¨∏Ï†úÍ∞Ä Ï†ÅÏäµÎãàÎã§")):l>=3||c>=3?(s-=30,r.push("ÎèÑÌôîÍ∞Ä Í≥ºÎã§ÌïòÏó¨ Ïù¥ÏÑ± Î¨∏Ï†úÎ°ú Í∞àÎì±Ïù¥ ÏòàÏÉÅÎê©ÎãàÎã§")):(l>=2&&c===0||l===0&&c>=2)&&(s-=20,r.push("ÎèÑÌôî Î∂àÍ∑†ÌòïÏúºÎ°ú Ïù¥ÏÑ± Î¨∏Ï†úÍ∞Ä ÏÉùÍ∏∏ Ïàò ÏûàÏäµÎãàÎã§")),(ft.includes(t.day.ji)||ft.includes(e.day.ji))&&(ft.includes(t.day.ji)&&ft.includes(e.day.ji)?(s+=10,n.push("ÏùºÏßÄ ÎèÑÌôîÎ°ú ÏÑúÎ°úÏóêÍ≤å Í∞ïÌïú Îß§Î†•ÏùÑ ÎäêÎÇçÎãàÎã§")):(s-=10,r.push("ÏùºÏßÄ ÎèÑÌôî Î∂àÍ∑†ÌòïÏúºÎ°ú Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§")));const d=tt(t,["Ï†ïÍ¥Ä","Ìé∏Í¥Ä"]),h=tt(e,["Ï†ïÍ¥Ä","Ìé∏Í¥Ä"]);return(d>=3&&t.day.gan in{ÏùÑ:1,Ï†ï:1,Í∏∞:1,Ïã†:1,Í≥Ñ:1}||h>=3&&e.day.gan in{ÏùÑ:1,Ï†ï:1,Í∏∞:1,Ïã†:1,Í≥Ñ:1})&&(s-=15,r.push("Í¥ÄÏÇ¥ÌòºÏû°ÏúºÎ°ú Ïù¥ÏÑ±Í¥ÄÍ≥ÑÍ∞Ä Î≥µÏû°Ìï† Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`ÎèÑÌôîÏÇ¥ ÏòÅÌñ•ÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ïù¥ÏÑ± Î¨∏Ï†ú ÏóÜÏù¥ ÏïàÏ†ïÏ†ÅÏù∏ Í¥ÄÍ≥ÑÏûÖÎãàÎã§.":"Ïù¥ÏÑ± Í¥ÄÍ≥ÑÏóê ÌäπÎ≥ÑÌïú Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function fM(t,e){let s=75;const n=[],r=[],i={Ïûê:["Ïà†","Ìï¥"],Ï∂ï:["Ïà†","Ìï¥"],Ïù∏:["Ïûê","Ï∂ï"],Î¨ò:["Ïûê","Ï∂ï"],ÏßÑ:["Ïù∏","Î¨ò"],ÏÇ¨:["Ïù∏","Î¨ò"],Ïò§:["ÏßÑ","ÏÇ¨"],ÎØ∏:["ÏßÑ","ÏÇ¨"],Ïã†:["Ïò§","ÎØ∏"],Ïú†:["Ïò§","ÎØ∏"],Ïà†:["Ïã†","Ïú†"],Ìï¥:["Ïã†","Ïú†"]},o=t.year.ji,l=e.year.ji,c=i[o]||[],d=i[l]||[],h=[t.month.ji,t.day.ji,t.time.ji],m=[e.month.ji,e.day.ji,e.time.ji],u=h.some(f=>c.includes(f)),g=m.some(f=>d.includes(f));return!u&&!g?(s+=15,n.push("Í≥µÎßùÏù¥ ÏóÜÏñ¥ ÌòÑÏã§Ï†ÅÏù¥Í≥† Ïã§ÏÜçÏûàÎäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§")):u&&g?(s-=20,r.push("Îëò Îã§ Í≥µÎßùÏù¥ ÏûàÏñ¥ ÌóàÎ¨¥Ìï®ÏùÑ ÎäêÎÇÑ Ïàò ÏûàÏäµÎãàÎã§")):(u||g)&&(s-=10,r.push("Í≥µÎßùÏúºÎ°ú Ïù∏Ìïú Í≥µÌóàÌï®ÏùÑ Ïù¥Ìï¥Ìï¥Ï£ºÏñ¥Ïïº Ìï©ÎãàÎã§")),(c.includes(t.day.ji)||d.includes(e.day.ji))&&(s-=15,r.push("ÏùºÏßÄ Í≥µÎßùÏúºÎ°ú Í¥ÄÍ≥ÑÏùò Ïã§ÏÜçÏù¥ Î∂ÄÏ°±Ìï† Ïàò ÏûàÏäµÎãàÎã§")),(c.includes(t.month.ji)||d.includes(e.month.ji))&&(s-=10,r.push("ÏõîÏßÄ Í≥µÎßùÏúºÎ°ú Í∞ÄÏ°± Í¥ÄÍ≥ÑÏóê Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§")),u&&m.some(f=>c.includes(f))&&(s+=10,n.push("ÏÉÅÎåÄÎ∞©Ïù¥ Í≥µÎßùÏùÑ Ï±ÑÏõåÏ§Ñ Ïàò ÏûàÏäµÎãàÎã§")),g&&h.some(f=>d.includes(f))&&(s+=10,n.push("ÏÑúÎ°úÏùò Í≥µÎßùÏùÑ Ï±ÑÏõåÏ£ºÎäî Í¥ÄÍ≥ÑÏûÖÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`Í≥µÎßù Î∂ÑÏÑùÏùÄ ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Ïã§ÏÜçÏûàÍ≥† Ï∂©Ïã§Ìïú Í¥ÄÍ≥ÑÏûÖÎãàÎã§.":"Í≥µÌóàÌï®ÏùÑ Ï±ÑÏö∞Í∏∞ ÏúÑÌïú ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function xM(t,e){let s=70;const n=[],r=[],i=[t.year.ji,t.month.ji,t.day.ji,t.time.ji],o=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=["Ïù∏","Ïã†"],c=i.filter(M=>l.includes(M)).length,d=o.filter(M=>l.includes(M)).length;(c>=2||d>=2)&&(s-=10,r.push("Î∞±Ìò∏ÏÇ¥Ïù¥ ÏûàÏñ¥ Ï∂©ÎèôÏ†ÅÏù∏ ÌñâÎèôÏóê Ï£ºÏùòÌï¥Ïïº Ìï©ÎãàÎã§"));const h=["ÏÇ¨","Ìï¥"],m=i.filter(M=>h.includes(M)).length,u=o.filter(M=>h.includes(M)).length;(m>=2||u>=2)&&(s-=5,r.push("ÌòÑÏπ®ÏÇ¥Ïù¥ ÏûàÏñ¥ ÏòàÎØºÌïú Î∞òÏùëÏóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§"));const g={Í∞ë:"ÏÇ¨",ÏùÑ:"Ïò§",Î≥ë:"Ïã†",Ï†ï:"Ïú†",Î¨¥:"Ïã†",Í∏∞:"Ïú†",Í≤Ω:"Ìï¥",Ïã†:"Ïûê",ÏûÑ:"Ïù∏",Í≥Ñ:"Î¨ò"},f=t.day.gan,x=e.day.gan;(i.includes(g[f])||o.includes(g[x]))&&(s+=10,n.push("Î¨∏Ï∞ΩÍ∑ÄÏù∏Ïù¥ ÏûàÏñ¥ ÌïôÎ¨∏Í≥º ÏòàÏà†Ïóê Ïû¨Îä•Ïù¥ ÏûàÏäµÎãàÎã§"));const b={Í∞ë:"Î¨ò",ÏùÑ:"ÏßÑ",Î≥ë:"Ïò§",Ï†ï:"ÎØ∏",Î¨¥:"Ïò§",Í∏∞:"ÎØ∏",Í≤Ω:"Ïú†",Ïã†:"Ïà†",ÏûÑ:"Ïûê",Í≥Ñ:"Ï∂ï"};i.includes(b[f])&&o.includes(b[x])&&(s+=15,n.push("Îëò Îã§ Ïû•ÏÑ±ÏÇ¥Ïù¥ ÏûàÏñ¥ ÏÑúÎ°úÎ•º Î∞úÏ†ÑÏãúÌÇµÎãàÎã§"));const y=["Í≤ΩÏßÑ","ÏûÑÏßÑ","Î¨¥Ïà†","Í≤ΩÏà†"],j=t.day.gan+t.day.ji,S=e.day.gan+e.day.ji;(y.includes(j)||y.includes(S))&&(s-=10,r.push("Í¥¥Í∞ïÏÇ¥Ïù¥ ÏûàÏñ¥ Í∑πÎã®Ï†ÅÏù∏ ÏÑ±Í≤©Ïóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§"));const C=["ÏßÑ","ÏÇ¨"],w=["Ïà†","Ìï¥"];return(i.some(M=>C.includes(M))&&o.some(M=>w.includes(M))||i.some(M=>w.includes(M))&&o.some(M=>C.includes(M)))&&(s-=15,r.push("Ï≤úÎùºÏßÄÎßùÏù¥ ÌòïÏÑ±ÎêòÏñ¥ ÏÑúÎ°úÎ•º ÏÜçÎ∞ïÌï† Ïàò ÏûàÏäµÎãàÎã§")),s=Math.max(0,Math.min(100,s)),{score:s,level:ss(s),description:`Ïã†ÏÇ¥ Ï¢ÖÌï© Ï†êÏàòÎäî ${s}Ï†êÏûÖÎãàÎã§. ${s>=70?"Í∏∏Ïã†Ïù¥ ÎßéÏïÑ ÏàúÏ°∞Î°úÏö¥ Í¥ÄÍ≥ÑÏûÖÎãàÎã§.":"ÌùâÏã†Ïùò ÏòÅÌñ•ÏùÑ Ï£ºÏùòÌï¥Ïïº Ìï©ÎãàÎã§."}`,factors:{positive:n,negative:r}}}function $e(t,e){const s={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},n={Ïûê:"Ïàò",Ï∂ï:"ÌÜ†",Ïù∏:"Î™©",Î¨ò:"Î™©",ÏßÑ:"ÌÜ†",ÏÇ¨:"Ìôî",Ïò§:"Ìôî",ÎØ∏:"ÌÜ†",Ïã†:"Í∏à",Ïú†:"Í∏à",Ïà†:"ÌÜ†",Ìï¥:"Ïàò"};let r=0;const i=[t.year.gan,t.month.gan,t.day.gan,t.time.gan],o=[t.year.ji,t.month.ji,t.day.ji,t.time.ji];for(const l of i)s[l]===e&&r++;for(const l of o)n[l]===e&&r++;return r}function tt(t,e){const s=t.day.gan,n=[t.year.gan,t.month.gan,t.day.gan,t.time.gan];let r=0;for(const i of n){const o=pM(s,i);e.includes(o)&&r++}return r}function pM(t,e){var d;const s={Í∞ë:"Î™©",ÏùÑ:"Î™©",Î≥ë:"Ìôî",Ï†ï:"Ìôî",Î¨¥:"ÌÜ†",Í∏∞:"ÌÜ†",Í≤Ω:"Í∏à",Ïã†:"Í∏à",ÏûÑ:"Ïàò",Í≥Ñ:"Ïàò"},n={Í∞ë:"Ïñë",ÏùÑ:"Ïùå",Î≥ë:"Ïñë",Ï†ï:"Ïùå",Î¨¥:"Ïñë",Í∏∞:"Ïùå",Í≤Ω:"Ïñë",Ïã†:"Ïùå",ÏûÑ:"Ïñë",Í≥Ñ:"Ïùå"},r=s[t],i=s[e],o=n[t]===n[e];if(r===i)return o?"ÎπÑÍ≤¨":"Í≤ÅÏû¨";const c=(d={Î™©:{Ìôî:["ÏãùÏã†","ÏÉÅÍ¥Ä"],ÌÜ†:["Ìé∏Ïû¨","Ï†ïÏû¨"],Í∏à:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ïàò:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ìôî:{ÌÜ†:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Í∏à:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ïàò:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Î™©:["Ìé∏Ïù∏","Ï†ïÏù∏"]},ÌÜ†:{Í∏à:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ïàò:["Ìé∏Ïû¨","Ï†ïÏû¨"],Î™©:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Ìôî:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Í∏à:{Ïàò:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Î™©:["Ìé∏Ïû¨","Ï†ïÏû¨"],Ìôî:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],ÌÜ†:["Ìé∏Ïù∏","Ï†ïÏù∏"]},Ïàò:{Î™©:["ÏãùÏã†","ÏÉÅÍ¥Ä"],Ìôî:["Ìé∏Ïû¨","Ï†ïÏû¨"],ÌÜ†:["Ìé∏Í¥Ä","Ï†ïÍ¥Ä"],Í∏à:["Ìé∏Ïù∏","Ï†ïÏù∏"]}}[r])==null?void 0:d[i];return c?o?c[0]:c[1]:"ÏïåÏàòÏóÜÏùå"}function bM(t,e){const s=cM(t,e),n=dM(t,e),r=hM(t,e),i=uM(t,e),o=[s.score,n.score,r.score,i.score],l=Math.round(o.reduce((d,h)=>d+h,0)/o.length);let c="";return l>=80?c="Ïã¨Ï∏µÏ†ÅÏù∏ Î©¥ÏóêÏÑúÎèÑ Îß§Ïö∞ Ïûò Ïñ¥Ïö∏Î¶ΩÎãàÎã§.":l>=70?c="ÍπäÏù¥ ÏûàÎäî Í¥ÄÍ≥ÑÎ•º ÎßåÎì§Ïñ¥Í∞à Ïàò ÏûàÏäµÎãàÎã§.":l>=60?c="ÏùºÎ∂Ä ÍπäÏùÄ Ï£ºÏ†úÏóêÏÑú Ïù¥Ìï¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.":c="Ïã¨Ï∏µÏ†Å Ïù¥Ìï¥Î•º ÏúÑÌïú ÎÖ∏Î†•Ïù¥ ÎßéÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.",{sexual:s,spiritual:n,hobby:r,retirement:i,averageScore:l,summary:c}}function yM(t,e){const s=mM(t,e),n=gM(t,e),r=fM(t,e),i=xM(t,e),o=[s.score,n.score,r.score,i.score],l=Math.round(o.reduce((d,h)=>d+h,0)/o.length);let c="";return l>=80?c="ÌäπÏàòÌïú Ïù∏Ïó∞ÏúºÎ°ú Îß∫Ïñ¥ÏßÑ Ï¢ãÏùÄ Í¥ÄÍ≥ÑÏûÖÎãàÎã§.":l>=70?c="Í∏∏Ïã†Ïù¥ ÎßéÏïÑ ÏàúÏ°∞Î°úÏö¥ Í¥ÄÍ≥ÑÍ∞Ä ÏòàÏÉÅÎê©ÎãàÎã§.":l>=60?c="ÏùºÎ∂Ä Ïã†ÏÇ¥Ïùò ÏòÅÌñ•Ïóê Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.":c="Ïã†ÏÇ¥Ïùò ÏòÅÌñ•ÏùÑ Í∑πÎ≥µÌïòÍ∏∞ ÏúÑÌïú ÎÖ∏Î†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.",{noblePerson:s,peachBlossom:n,emptiness:r,sinsal:i,averageScore:l,summary:c}}dt.register(zt,Gt,Qe,wi,Ps,Ds);const vM=({data:t})=>{const{theme:e}=Ix(),s=e==="dark",n=[],r=[],i=[{key:"firstImpression",label:"Ï≤´Ïù∏ÏÉÅ"},{key:"communication",label:"ÎåÄÌôîÏÜåÌÜµ"},{key:"valueSystem",label:"Í∞ÄÏπòÍ¥Ä"},{key:"lifePattern",label:"ÏÉùÌôúÌå®ÌÑ¥"},{key:"conflictResolution",label:"Í∞àÎì±Ìï¥Í≤∞"},{key:"emotional",label:"Ï†ïÏÑúÏ†Å"},{key:"trust",label:"Ïã†Î¢∞ÎèÑ"}],o=[{key:"economic",label:"Í≤ΩÏ†úÍ¥ÄÎÖê"},{key:"career",label:"ÏßÅÏóÖÏö¥"},{key:"residence",label:"Ï£ºÍ±∞ÌôòÍ≤Ω"},{key:"children",label:"ÏûêÎÖÄÏö¥"},{key:"inLaw",label:"ÏãúÎåÅ/Ï≤òÍ∞Ä"}],l=[{key:"sexual",label:"ÏÑ±Ï†Å"},{key:"spiritual",label:"Ï†ïÏã†Ï†Å"},{key:"hobby",label:"Ï∑®ÎØ∏"},{key:"retirement",label:"ÎÖ∏ÌõÑ"}],c=[{key:"noblePerson",label:"Í∑ÄÏù∏Ïö¥"},{key:"peachBlossom",label:"ÎèÑÌôîÏö¥"},{key:"emptiness",label:"Í≥µÎßù"},{key:"sinsal",label:"Ïã†ÏÇ¥"}];t.relationship&&i.forEach(m=>{const u=t.relationship[m.key];u&&typeof u.score=="number"&&(n.push(m.label),r.push(u.score))}),t.practical&&o.forEach(m=>{const u=t.practical[m.key];u&&typeof u.score=="number"&&(n.push(m.label),r.push(u.score))}),t.depth&&l.forEach(m=>{const u=t.depth[m.key];u&&typeof u.score=="number"&&(n.push(m.label),r.push(u.score))}),t.special&&c.forEach(m=>{const u=t.special[m.key];u&&typeof u.score=="number"&&(n.push(m.label),r.push(u.score))});const d={labels:n,datasets:[{label:"Ï¢ÖÌï© Í∂ÅÌï© Ï†êÏàò",data:r,backgroundColor:"rgba(147, 51, 234, 0.2)",borderColor:"rgba(147, 51, 234, 1)",borderWidth:2,pointBackgroundColor:"rgba(147, 51, 234, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(147, 51, 234, 1)",pointRadius:4,pointHoverRadius:6}]},h={responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,min:0,ticks:{stepSize:20,color:s?"#9CA3AF":"#4B5563",backdropColor:"transparent",font:{size:10}},grid:{color:s?"rgba(156, 163, 175, 0.2)":"rgba(107, 114, 128, 0.2)",circular:!0},angleLines:{color:s?"rgba(156, 163, 175, 0.2)":"rgba(107, 114, 128, 0.2)"},pointLabels:{color:s?"#D1D5DB":"#374151",font:{size:11,weight:500},padding:15}}},plugins:{legend:{display:!0,position:"top",labels:{color:s?"#D1D5DB":"#374151",font:{size:12},padding:20}},tooltip:{enabled:!0,backgroundColor:s?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",titleColor:s?"#F3F4F6":"#111827",bodyColor:s?"#D1D5DB":"#4B5563",borderColor:s?"#4B5563":"#E5E7EB",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:m=>{const u=m.parsed.r;let g="Îß§Ïö∞Ï¢ãÏùå";return u<30?g="ÏúÑÌóò":u<50?g="Ï£ºÏùò":u<70?g="Î≥¥ÌÜµ":u<85&&(g="Ï¢ãÏùå"),`${m.label}: ${u}Ï†ê (${g})`}}}},interaction:{intersect:!1,mode:"point"}};return a.jsx("div",{className:"w-full h-[600px] p-4",children:a.jsx(oc,{data:d,options:h})})},jM=()=>{const[t,e]=v.useState(null),[s,n]=v.useState(null),[r,i]=v.useState(null),[o,l]=v.useState(!1),c=m=>{if(!m)return console.error("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"),null;try{const u=JSON.parse(m),g=["year","month","day","time"];for(const f of g)if(!u[f]||!u[f].gan||!u[f].ji)return console.error(`ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞Í∞Ä Î∂àÏôÑÏ†ÑÌï©ÎãàÎã§ - ${f} ÌïÑÎìú ÎàÑÎùΩ`),null;return u.ohHaengBalance||console.warn("Ïò§Ìñâ Í∑†Ìòï Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§. ÏùºÎ∂Ä Í∂ÅÌï© Í≥ÑÏÇ∞Ïù¥ Ï†úÌïúÎê©ÎãàÎã§."),console.log("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± ÏÑ±Í≥µ:",{name:u.fullSaju,year:`${u.year.gan}${u.year.ji}`,month:`${u.month.gan}${u.month.ji}`,day:`${u.day.gan}${u.day.ji}`,time:`${u.time.gan}${u.time.ji}`,ohHaeng:u.ohHaengBalance}),u}catch(u){return console.error("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± Ïò§Î•ò:",u),null}},d=()=>{if(!t||!s)return;console.log("=== Í∂ÅÌï© Í≥ÑÏÇ∞ ÏãúÏûë ==="),console.log("Ï≤´Î≤àÏß∏ ÏÇ¨Îûå:",t.name,t.birth_date,t.birth_time),console.log("ÎëêÎ≤àÏß∏ ÏÇ¨Îûå:",s.name,s.birth_date,s.birth_time),l(!0);const m=c(t.saju_data),u=c(s.saju_data);if(!m||!u){console.error("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ ÌååÏã± Ïã§Ìå® - Í∂ÅÌï© Í≥ÑÏÇ∞ Ï§ëÎã®"),alert("ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞Ïóê Î¨∏Ï†úÍ∞Ä ÏûàÏäµÎãàÎã§. Í≥†Í∞ù Ï†ïÎ≥¥Î•º Îã§Ïãú ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî."),l(!1);return}console.log("ÌååÏã±Îêú ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞:"),console.log("- ÏÇ¨Ï£º1:",m),console.log("- ÏÇ¨Ï£º2:",u),setTimeout(()=>{console.log("Í∂ÅÌï© Ï†êÏàò Í≥ÑÏÇ∞ ÏãúÏûë...");const g=H8(m,u),f=z8(m,u),x=U8(m,u),b=W8(m,u),y=Y8(m,u);console.log("Í≥ÑÏÇ∞Îêú Í∂ÅÌï© Ï†êÏàò:"),console.log("- ÏÑ±Í≤© Í∂ÅÌï©:",g),console.log("- Ïï†Ï†ï Í∂ÅÌï©:",f),console.log("- Ïû¨Î¨º Í∂ÅÌï©:",x),console.log("- Í±¥Í∞ï Í∂ÅÌï©:",b),console.log("- ÎØ∏Îûò Í∂ÅÌï©:",y);const j=[{name:"ÏÑ±Í≤© Í∂ÅÌï©",score:g,description:"ÏÑ±Í≤©Í≥º Í∞ÄÏπòÍ¥ÄÏùò Ï°∞Ìôî (Ïã≠Ïã†/Ïò§Ìñâ Î∂ÑÏÑù)"},{name:"Ïï†Ï†ï Í∂ÅÌï©",score:f,description:"Í∞êÏ†ïÍ≥º Ïï†Ï†ï ÌëúÌòÑÏùò Ï°∞Ìôî (ÏßÄÏßÄÍ¥ÄÍ≥Ñ/ÏùåÏñëÏ°∞Ìôî)"},{name:"Ïû¨Î¨º Í∂ÅÌï©",score:x,description:"Í≤ΩÏ†úÍ¥ÄÎÖêÍ≥º Ïû¨Î¨ºÏö¥Ïùò Ï°∞Ìôî (Ïû¨ÏÑ± Î∂ÑÏÑù)"},{name:"Í±¥Í∞ï Í∂ÅÌï©",score:b,description:"Ï≤¥ÏßàÍ≥º Í±¥Í∞ï ÏóêÎÑàÏßÄÏùò Ï°∞Ìôî (Ïò§Ìñâ Í∑†Ìòï)"},{name:"ÎØ∏Îûò Í∂ÅÌï©",score:y,description:"Ïù∏ÏÉù Î∞©Ìñ•Í≥º Î™©ÌëúÏùò Ï°∞Ìôî (ÏÇºÌï©/Ïú°Ìï©)"}],S=Math.round(j.reduce((k,_)=>k+_.score,0)/j.length);console.log("ÏµúÏ¢Ö Í∂ÅÌï© Ï†êÏàò:",S),console.log("ÏÉÅÏÑ∏ Í¥ÄÍ≥ÑÏÑ± Î∂ÑÏÑù ÏãúÏûë...");const C=sM(m,u);console.log("Í¥ÄÍ≥ÑÏÑ± Î∂ÑÏÑù ÏôÑÎ£å:",C),console.log("ÌòÑÏã§Ï†Å Î∂ÑÏÑù ÏãúÏûë...");const w=lM(m,u);console.log("ÌòÑÏã§Ï†Å Î∂ÑÏÑù ÏôÑÎ£å:",w),console.log("Ïã¨Ï∏µ Î∂ÑÏÑù ÏãúÏûë...");const M=bM(m,u);console.log("Ïã¨Ï∏µ Î∂ÑÏÑù ÏôÑÎ£å:",M),console.log("ÌäπÏàò Î∂ÑÏÑù ÏãúÏûë...");const N=yM(m,u);console.log("ÌäπÏàò Î∂ÑÏÑù ÏôÑÎ£å:",N),console.log("=== Í∂ÅÌï© Í≥ÑÏÇ∞ ÏôÑÎ£å ==="),i({totalScore:S,categories:j,advice:G8(S,j),detailedAnalysis:{relationship:C,practical:w,depth:M,special:N}}),l(!1)},1500)},h=m=>m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600";return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-900 dark:text-gray-100",children:"Í∂ÅÌï© Î∂ÑÏÑù"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Ï≤´ Î≤àÏß∏ ÏÇ¨Îûå"}),a.jsx(jl,{onSelect:e,selectedCustomer:t}),t&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.birth_date," ",t.birth_time," (",t.lunar_solar==="lunar"?"ÏùåÎ†•":"ÏñëÎ†•",")"]}),t.saju_data&&(()=>{try{const m=JSON.parse(t.saju_data);return a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsxs("p",{children:["ÏÇ¨Ï£º: ",m.fullSaju||"Í≥ÑÏÇ∞ Ï§ë..."]}),m.ohHaengBalance&&a.jsxs("p",{className:"text-xs mt-1",children:["Ïò§Ìñâ: Î™©",m.ohHaengBalance.Î™©||0," Ìôî",m.ohHaengBalance.Ìôî||0," ÌÜ†",m.ohHaengBalance.ÌÜ†||0," Í∏à",m.ohHaengBalance.Í∏à||0," Ïàò",m.ohHaengBalance.Ïàò||0]})]})}catch{return a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ïò§Î•ò"})}})()]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Îëê Î≤àÏß∏ ÏÇ¨Îûå"}),a.jsx(jl,{onSelect:n,selectedCustomer:s}),s&&a.jsxs("div",{className:"mt-4 p-4 bg-pink-50 dark:bg-pink-900/30 rounded-lg",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.birth_date," ",s.birth_time," (",s.lunar_solar==="lunar"?"ÏùåÎ†•":"ÏñëÎ†•",")"]}),s.saju_data&&(()=>{try{const m=JSON.parse(s.saju_data);return a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsxs("p",{children:["ÏÇ¨Ï£º: ",m.fullSaju||"Í≥ÑÏÇ∞ Ï§ë..."]}),m.ohHaengBalance&&a.jsxs("p",{className:"text-xs mt-1",children:["Ïò§Ìñâ: Î™©",m.ohHaengBalance.Î™©||0," Ìôî",m.ohHaengBalance.Ìôî||0," ÌÜ†",m.ohHaengBalance.ÌÜ†||0," Í∏à",m.ohHaengBalance.Í∏à||0," Ïàò",m.ohHaengBalance.Ïàò||0]})]})}catch{return a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"ÏÇ¨Ï£º Îç∞Ïù¥ÌÑ∞ Ïò§Î•ò"})}})()]})]})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsx("button",{onClick:d,disabled:!t||!s||o,className:`px-8 py-3 rounded-lg font-semibold transition-colors ${t&&s&&!o?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?"Î∂ÑÏÑù Ï§ë...":"Í∂ÅÌï© Î∂ÑÏÑùÌïòÍ∏∞"})}),r&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:[t==null?void 0:t.name," ‚ô• ",s==null?void 0:s.name," Í∂ÅÌï© Í≤∞Í≥º"]}),a.jsxs("div",{className:`text-6xl font-bold ${h(r.totalScore)}`,children:[r.totalScore,"Ï†ê"]}),a.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-gray-300",children:r.advice})]}),a.jsxs("div",{className:"mb-8 bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-900 dark:text-gray-100",children:"Í∂ÅÌï© Î∂ÑÏÑù Ï∞®Ìä∏"}),a.jsx(I8,{data:{categories:r.categories,person1Name:(t==null?void 0:t.name)||"",person2Name:(s==null?void 0:s.name)||""}})]}),r.detailedAnalysis&&a.jsxs("div",{className:"mb-8 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-900 dark:text-gray-100",children:"üåü 20Í∞ú Ìï≠Î™© Ï¢ÖÌï© Í∂ÅÌï© Ï∞®Ìä∏"}),a.jsx(vM,{data:{relationship:r.detailedAnalysis.relationship,practical:r.detailedAnalysis.practical,depth:r.detailedAnalysis.depth,special:r.detailedAnalysis.special}})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.categories.map((m,u)=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.name}),a.jsxs("span",{className:`font-bold ${h(m.score)}`,children:[Math.round(m.score),"Ï†ê"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mb-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${m.score>=80?"bg-green-500":m.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${m.score}%`}})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description})]},u))}),a.jsxs("div",{className:"mt-8 p-6 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"üí° Í∂ÅÌï© Í∞úÏÑ† ÌåÅ"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsx("li",{children:"‚Ä¢ ÏÑúÎ°úÏùò Ï∞®Ïù¥Î•º Ïù∏Ï†ïÌïòÍ≥† Ï°¥Ï§ëÌïòÏÑ∏Ïöî"}),a.jsx("li",{children:"‚Ä¢ ÎåÄÌôîÎ•º ÌÜµÌï¥ ÏÑúÎ°úÎ•º Ïù¥Ìï¥ÌïòÎ†§ ÎÖ∏Î†•ÌïòÏÑ∏Ïöî"}),a.jsx("li",{children:"‚Ä¢ Í≥µÌÜµÏùò Ï∑®ÎØ∏ÎÇò Í¥ÄÏã¨ÏÇ¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî"}),a.jsx("li",{children:"‚Ä¢ Í∞êÏÇ¨ÌïòÎäî ÎßàÏùåÏùÑ ÏûêÏ£º ÌëúÌòÑÌïòÏÑ∏Ïöî"})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"üìä Î∂ÑÏÑù Í∏∞Ï§Ä"}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:"‚Ä¢ Ïã≠Ïã†(ÂçÅÁ•û) Í¥ÄÍ≥Ñ Î∂ÑÏÑù"}),a.jsx("li",{children:"‚Ä¢ Ïò§Ìñâ ÏÉÅÏÉùÏÉÅÍ∑π Ï≤¥ÌÅ¨"}),a.jsx("li",{children:"‚Ä¢ ÏßÄÏßÄ ÏÇºÌï©/Ïú°Ìï©/Ï∂© Î∂ÑÏÑù"}),a.jsx("li",{children:"‚Ä¢ ÏùåÏñë Ï°∞ÌôîÎèÑ Í≥ÑÏÇ∞"})]})]}),a.jsxs("div",{className:"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"üéØ ÌïµÏã¨ Ìè¨Ïù∏Ìä∏"}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:"‚Ä¢ ÏùºÍ∞ÑÏùò ÏùåÏñë Ï°∞Ìôî"}),a.jsx("li",{children:"‚Ä¢ Ïò§Ìñâ Í∑†Ìòï Î≥¥ÏôÑ Í¥ÄÍ≥Ñ"}),a.jsx("li",{children:"‚Ä¢ Ïû¨ÏÑ±/Í¥ÄÏÑ± Î∂ÑÌè¨"}),a.jsx("li",{children:"‚Ä¢ ÎØ∏Îûò Î∞úÏ†Ñ Í∞ÄÎä•ÏÑ±"})]})]})]}),r.detailedAnalysis&&a.jsx(F8,{relationshipAnalysis:r.detailedAnalysis.relationship,practicalAnalysis:r.detailedAnalysis.practical,depthAnalysis:r.detailedAnalysis.depth,specialAnalysis:r.detailedAnalysis.special})]})]})};function wM(){var N,k;const{courseId:t}=E0(),e=ze(),[s,n]=v.useState(null),[r,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(!0),[h,m]=v.useState(!1),[u,g]=v.useState([]),[f,x]=v.useState(null);v.useEffect(()=>{t&&(b(),y())},[t]);const b=async()=>{try{const _={id:t||"1",title:"ÏÇ¨Ï£º Í∏∞Ï¥à ÏûÖÎ¨∏ Í≥ºÏ†ï",description:"ÏÇ¨Ï£ºÏùò Í∏∞Î≥∏ Í∞úÎÖêÎ∂ÄÌÑ∞ Ïã§Ï†Ñ Ìï¥ÏÑùÍπåÏßÄ",instructor:{name:"ÍπÄÏÇ¨Ï£º ÏÑ†ÏÉùÎãò"},lessons:[{id:"1",title:"ÏÇ¨Ï£ºÎûÄ Î¨¥ÏóáÏù∏Í∞Ä?",type:"video",duration:1200,videoUrl:"/videos/lesson1.mp4"},{id:"2",title:"Ï≤úÍ∞ÑÍ≥º ÏßÄÏßÄÏùò Ïù¥Ìï¥",type:"text",duration:900,content:"Ï≤úÍ∞ÑÍ≥º ÏßÄÏßÄÎäî ÏÇ¨Ï£ºÏùò Í∏∞Î≥∏ Íµ¨ÏÑ± ÏöîÏÜåÏûÖÎãàÎã§..."},{id:"3",title:"Í∏∞Ï¥à Ïù¥Î°† ÌÄ¥Ï¶à",type:"quiz",duration:600,quiz:{questions:[{question:"Ï≤úÍ∞ÑÏùÄ Î™á Í∞úÏûÖÎãàÍπå?",options:["8Í∞ú","10Í∞ú","12Í∞ú","14Í∞ú"],correctAnswer:1},{question:"ÏßÄÏßÄÎäî Î™á Í∞úÏûÖÎãàÍπå?",options:["10Í∞ú","12Í∞ú","14Í∞ú","16Í∞ú"],correctAnswer:1}]}},{id:"4",title:"Ïò§ÌñâÏùò ÏÉÅÏÉùÏÉÅÍ∑π",type:"video",duration:1500,videoUrl:"/videos/lesson4.mp4"}]};n(_),l(_.lessons[0]),d(!1)}catch(_){console.error("Í∞ïÏ¢å Î°úÎî© Ïã§Ìå®:",_),d(!1)}},y=async()=>{try{i({courseId:t||"1",enrollmentId:"enrollment-1",progress:25,completedLessons:1,totalLessons:4,currentLessonId:"2",lessonProgress:[{lessonId:"1",completed:!0,completedAt:"2024-01-01",timeSpent:1200},{lessonId:"2",completed:!1,timeSpent:300},{lessonId:"3",completed:!1,timeSpent:0},{lessonId:"4",completed:!1,timeSpent:0}]})}catch(_){console.error("ÏßÑÎèÑ Î°úÎî© Ïã§Ìå®:",_)}},j=async(_,E)=>{if(!r)return;const T={...r},R=T.lessonProgress.findIndex(P=>P.lessonId===_);R>=0&&(T.lessonProgress[R]={...T.lessonProgress[R],completed:!0,completedAt:new Date().toISOString(),score:E},T.completedLessons=T.lessonProgress.filter(P=>P.completed).length,T.progress=Math.round(T.completedLessons/T.totalLessons*100),i(T))},S=_=>{const E=s==null?void 0:s.lessons.find(T=>T.id===_);E&&(l(E),m(!1),g([]),x(null))},C=()=>{if(!(o!=null&&o.quiz))return;let _=0;o.quiz.questions.forEach((T,R)=>{u[R]===T.correctAnswer&&_++});const E=Math.round(_/o.quiz.questions.length*100);x(E),E>=70&&j(o.id,E)},w=_=>{const E=Math.floor(_/60),T=_%60;return`${E}:${T.toString().padStart(2,"0")}`},M=(_,E)=>{if(E)return Da;switch(_){case"video":return zv;case"text":return yv;case"quiz":return hd;default:return We}};return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Í∞ïÏ¢åÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]})}):s?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(av,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.instructor.name})]})]}),r&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[r.completedLessons,"/",r.totalLessons," ÏôÑÎ£å"]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.progress,"% ÏßÑÌñâ"]})]}),a.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.progress}%`}})})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Í∞ïÏùò Î™©Î°ù"}),a.jsx("div",{className:"space-y-2",children:s.lessons.map((_,E)=>{const T=r==null?void 0:r.lessonProgress.find(D=>D.lessonId===_.id),R=(T==null?void 0:T.completed)||!1,P=M(_.type,R),O=(o==null?void 0:o.id)===_.id;return a.jsx("button",{onClick:()=>S(_.id),className:`w-full text-left p-3 rounded-lg transition-colors ${O?"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(P,{className:`h-5 w-5 ${R?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:`text-sm font-medium truncate ${O?"text-purple-700 dark:text-purple-300":"text-gray-900 dark:text-white"}`,children:[E+1,". ",_.title]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w(_.duration)})]})]})},_.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:o&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:o.title}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),w(o.duration)]}),a.jsx("span",{className:"capitalize",children:o.type==="video"?"ÎèôÏòÅÏÉÅ":o.type==="text"?"ÌÖçÏä§Ìä∏":"ÌÄ¥Ï¶à"})]})]}),((N=r==null?void 0:r.lessonProgress.find(_=>_.lessonId===o.id))==null?void 0:N.completed)&&a.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[a.jsx(Da,{className:"h-6 w-6 mr-2"}),a.jsx("span",{className:"font-medium",children:"ÏôÑÎ£å"})]})]})}),a.jsxs("div",{className:"p-6",children:[o.type==="video"&&a.jsx("div",{className:"aspect-video bg-gray-900 rounded-lg flex items-center justify-center mb-6",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(ya,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg",children:"ÎèôÏòÅÏÉÅ ÌîåÎ†àÏù¥Ïñ¥"}),a.jsx("p",{className:"text-sm opacity-75",children:"Ïã§Ï†ú Íµ¨ÌòÑ Ïãú video ÌÉúÍ∑∏Î°ú ÍµêÏ≤¥Îê©ÎãàÎã§"})]})}),o.type==="text"&&o.content&&a.jsx("div",{className:"prose dark:prose-invert max-w-none",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:o.content})}),o.type==="quiz"&&o.quiz&&a.jsx("div",{className:"space-y-6",children:h?a.jsxs("div",{children:[o.quiz.questions.map((_,E)=>a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:[E+1,". ",_.question]}),a.jsx("div",{className:"space-y-2",children:_.options.map((T,R)=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:`question-${E}`,value:R,onChange:()=>{const P=[...u];P[E]=R,g(P)},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),a.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:T})]},R))})]},E)),f===null?a.jsx("button",{onClick:C,disabled:u.length!==o.quiz.questions.length,className:"w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Ï†úÏ∂úÌïòÍ∏∞"}):a.jsxs("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(qs,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"ÌÄ¥Ï¶à ÏôÑÎ£å!"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:[f,"Ï†ê"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f>=70?"Ìï©Í≤©ÏûÖÎãàÎã§! üéâ":"70Ï†ê Ïù¥ÏÉÅÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Î≥¥ÏÑ∏Ïöî."})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(hd,{className:"h-16 w-16 text-purple-600 dark:text-purple-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"ÌÄ¥Ï¶àÎ•º ÏãúÏûëÌïòÏãúÍ≤†ÏäµÎãàÍπå?"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:[o.quiz.questions.length,"Í∞úÏùò Î¨∏Ï†úÍ∞Ä ÏûàÏäµÎãàÎã§"]}),a.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"ÌÄ¥Ï¶à ÏãúÏûë"})]})}),o.type!=="quiz"&&!((k=r==null?void 0:r.lessonProgress.find(_=>_.lessonId===o.id))!=null&&k.completed)&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("button",{onClick:()=>j(o.id),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Ct,{className:"h-5 w-5 inline mr-2"}),"Î†àÏä® ÏôÑÎ£å"]})})]})]})})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(We,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Í∞ïÏ¢åÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§"}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"ÎåÄÏãúÎ≥¥ÎìúÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"})]})})}const N0=44032,kM=55203,NM=["„Ñ±","„Ñ≤","„Ñ¥","„Ñ∑","„Ñ∏","„Ñπ","„ÖÅ","„ÖÇ","„ÖÉ","„ÖÖ","„ÖÜ","„Öá","„Öà","„Öâ","„Öä","„Öã","„Öå","„Öç","„Öé"],SM=["„Öè","„Öê","„Öë","„Öí","„Öì","„Öî","„Öï","„Öñ","„Öó","„Öò","„Öô","„Öö","„Öõ","„Öú","„Öù","„Öû","„Öü","„Ö†","„Ö°","„Ö¢","„Ö£"],CM=["","„Ñ±","„Ñ≤","„Ñ≥","„Ñ¥","„Ñµ","„Ñ∂","„Ñ∑","„Ñπ","„Ñ∫","„Ñª","„Ñº","„ÑΩ","„Ñæ","„Ñø","„ÖÄ","„ÖÅ","„ÖÇ","„ÖÑ","„ÖÖ","„ÖÜ","„Öá","„Öà","„Öä","„Öã","„Öå","„Öç","„Öé"];function Vx(t){const e=t.charCodeAt(0);if(e<N0||e>kM)return null;const s=e-N0,n=Math.floor(s/(21*28)),r=Math.floor(s%(21*28)/28),i=s%28;return{cho:NM[n],jung:SM[r],jong:CM[i]}}function Za(t){return Array.from(t).map(e=>{const s=Vx(e);return s?s.cho:e}).join("")}function S0(t){return Array.from(t).map(e=>{const s=Vx(e);return s?s.cho+s.jung+s.jong:e}).join("")}function Ts(t,e){if(!e||!t)return!1;const s=Za(t),n=Za(e);return s.toLowerCase().includes(n.toLowerCase())}function Ss(t,e){if(!t||!e)return 0;const s=t.toLowerCase(),n=e.toLowerCase();let r=0;s.includes(n)&&(r+=100),Ts(t,e)&&(r+=50);const i=S0(t),o=S0(e);i.toLowerCase().includes(o.toLowerCase())&&(r+=25),s.startsWith(n)&&(r+=30);const l=Za(t),c=Za(e);return l.toLowerCase().startsWith(c.toLowerCase())&&(r+=20),r}function zc(t,e){if(!e||!t)return t;e.toLowerCase(),t.toLowerCase();const s=new RegExp(`(${_M(e)})`,"gi");return t.replace(s,"<mark>$1</mark>")}function _M(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Uc=(t,e)=>{let s=0;const n=e.toLowerCase(),r=t.title||"";r.toLowerCase().includes(n)?s+=100:s+=Ss(r,e)*.8;const i=t.content||t.description||"";return i.toLowerCase().includes(n)?s+=50:s+=Ss(i,e)*.5,Array.isArray(t.tags)&&t.tags.forEach(o=>{const l=typeof o=="string"?o:o.name;l&&(l.toLowerCase().includes(n)?s+=30:s+=Ss(l,e)*.3)}),Ts(r,e)&&(s+=20),Ts(i,e)&&(s+=10),Math.round(s)},C0=async t=>{const e=new Promise((s,n)=>{setTimeout(()=>n(new Error("Events search timeout")),5e3)});try{const s=Tt.getEvents({start_date:t.startDate,end_date:t.endDate});return(await Promise.race([s,e])).filter(r=>{const i=t.query.toLowerCase(),o=r.title||"",l=r.description||"",c=o.toLowerCase().includes(i)||l.toLowerCase().includes(i),d=Ts(o,t.query)||Ts(l,t.query)||Ss(o,t.query)>10||Ss(l,t.query)>10;return c||d}).map(r=>({type:"event",id:r.id||"",title:r.title,content:r.description,date:r.start_time,highlight:zc(r.title,t.query),score:Uc(r,t.query),data:r})).slice(0,t.limit||10)}catch(s){return s instanceof Error&&s.message==="Events search timeout"?console.warn("Events search timed out"):console.error("Failed to search events:",s),[]}},_0=(t,e)=>{const s=e.query.toLowerCase();return t.filter(n=>{const r=n.title||n.text||"",i=n.description||"",o=r.toLowerCase().includes(s)||i.toLowerCase().includes(s),l=Ts(r,e.query)||Ts(i,e.query)||Ss(r,e.query)>10||Ss(i,e.query)>10,c=o||l,d=(!e.startDate||new Date(n.date)>=new Date(e.startDate))&&(!e.endDate||new Date(n.date)<=new Date(e.endDate));return c&&d}).map(n=>{const r=n.title||n.text;return{type:"todo",id:n.id,title:r,content:n.description,date:n.date,highlight:zc(r,e.query),score:Uc(n,e.query),data:n}}).slice(0,e.limit||10)},M0=async t=>{const e=new Promise((s,n)=>{setTimeout(()=>n(new Error("Diaries search timeout")),5e3)});try{const s=Ie.searchDiaries({q:t.query,startDate:t.startDate,endDate:t.endDate});return(await Promise.race([s,e])).map(r=>({type:"diary",id:r.id||"",title:`${r.date} ÏùºÍ∏∞`,content:r.content,date:r.date,highlight:zc(r.content.substring(0,100),t.query),score:Uc(r,t.query),data:r})).slice(0,t.limit||10)}catch(s){return s instanceof Error&&s.message==="Diaries search timeout"?console.warn("Diaries search timed out"):console.error("Failed to search diaries:",s),[]}},MM=(t,e)=>[...t].sort((n,r)=>{if(e.sortBy==="date"){const i=n.date?new Date(n.date).getTime():0;return(r.date?new Date(r.date).getTime():0)-i}else return(r.score||0)-(n.score||0)}).slice(0,e.limit||20),Hx={searchAll:async(t,e=[])=>{const s=performance.now();try{if(!t.query||t.query.trim().length<1)return[];if(t.query.length>100)throw new Error("Í≤ÄÏÉâÏñ¥Í∞Ä ÎÑàÎ¨¥ ÍπÅÎãàÎã§. 100Ïûê Ïù¥ÌïòÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");const n=t.categories||["events","todos","diaries"],r=[],i=[];if(n.includes("events")&&i.push(C0(t)),n.includes("diaries")&&i.push(M0(t)),(await Promise.allSettled(i)).forEach((c,d)=>{c.status==="fulfilled"?r.push(...c.value):console.warn(`Search failed for category ${d}:`,c.reason)}),n.includes("todos"))try{const c=_0(e,t);r.push(...c)}catch(c){console.warn("Todo search failed:",c)}return MM(r,t)}catch(n){throw console.error("Search service error:",n),new Error("Í≤ÄÏÉâ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")}},searchEvents:C0,searchTodos:_0,searchDiaries:M0};function EM(t,e){const[s,n]=v.useState(t);return v.useEffect(()=>{const r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),s}function zx(t){const e=new Map;return t.forEach(s=>{const n=s.type;e.has(n)||e.set(n,[]),e.get(n).push(s)}),e}function ei(t){return{all:"Ï†ÑÏ≤¥",events:"ÏùºÏ†ï",todos:"Ìï†Ïùº",diaries:"ÏùºÍ∏∞",tags:"ÌÉúÍ∑∏"}[t]||t}function TM(t){return new DOMParser().parseFromString(t,"text/html").body.textContent||""}function AM(t,e){return t.length<=e?t:`${t.substring(0,e)}...`}function Ux({item:t,onClick:e}){const s=()=>{const d="h-5 w-5 flex-shrink-0";switch(t.type){case"event":return a.jsx(Wt,{className:`${d} text-blue-500`});case"todo":return a.jsx(Ct,{className:`${d} text-green-500`});case"diary":return a.jsx(We,{className:`${d} text-purple-500`});case"tag":return a.jsx(Rv,{className:`${d} text-orange-500`});default:return a.jsx(Wt,{className:`${d} text-gray-500`})}},n=()=>{switch(t.type){case"event":return"bg-blue-50 dark:bg-blue-900/20 border-l-blue-500";case"todo":return"bg-green-50 dark:bg-green-900/20 border-l-green-500";case"diary":return"bg-purple-50 dark:bg-purple-900/20 border-l-purple-500";case"tag":return"bg-orange-50 dark:bg-orange-900/20 border-l-orange-500";default:return"bg-gray-50 dark:bg-gray-900/20 border-l-gray-500"}},r=d=>{if(!d)return null;try{const h=new Date(d);return B(h,"yyyyÎÖÑ MÏõî dÏùº",{locale:je})}catch{return d}},i=()=>{if(t.type!=="event"||!t.data)return null;try{const d=new Date(t.data.start_time),h=new Date(t.data.end_time);return t.data.all_day?"Ï¢ÖÏùº":`${B(d,"HH:mm")} - ${B(h,"HH:mm")}`}catch{return null}},o=()=>{var u;if(t.type!=="todo"||!((u=t.data)!=null&&u.priority))return null;const d={high:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},h={high:"ÎÜíÏùå",medium:"Î≥¥ÌÜµ",low:"ÎÇÆÏùå"},m=t.data.priority;return a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${d[m]||d.low}`,children:h[m]||m})},l=()=>{var d;return t.type!=="diary"||!((d=t.data)!=null&&d.mood)?null:a.jsx("span",{className:"text-lg",children:t.data.mood})},c=d=>d?a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:d}}):null;return a.jsx("div",{onClick:()=>e(t),className:`px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer border-l-2 ${n()} transition-colors`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-1",children:s()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:t.title}),o(),l()]}),t.highlight&&c(t.highlight),!t.highlight&&t.content&&a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:AM(TM(t.content),100)}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[t.date&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wt,{className:"h-3 w-3"}),a.jsx("span",{children:r(t.date)})]}),i()&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(hn,{className:"h-3 w-3"}),a.jsx("span",{children:i()})]}),!1]})]}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 self-start",children:[t.type==="event"&&"ÏùºÏ†ï",t.type==="todo"&&"Ìï†Ïùº",t.type==="diary"&&"ÏùºÍ∏∞",t.type==="tag"&&"ÌÉúÍ∑∏"]})]})})}const Wx=({onSearchFocus:t}={})=>{const e=ze(),s=v.useRef(null);return v.useEffect(()=>{const n=r=>{var i;if((r.ctrlKey||r.metaKey)&&r.key==="k"&&(r.preventDefault(),t?t():e("/search")),r.key==="Escape"){const o=document.activeElement;o&&o.type==="text"&&((i=o.placeholder)!=null&&i.includes("Í≤ÄÏÉâ"))&&(o.value="",o.blur())}if(r.key==="/"&&!r.ctrlKey&&!r.metaKey&&!r.altKey){const o=document.activeElement;!(o instanceof HTMLInputElement)&&!(o instanceof HTMLTextAreaElement)&&(r.preventDefault(),t?t():e("/search"))}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[e,t]),{searchInputRef:s}},ti=v.forwardRef(({onSearch:t,placeholder:e="ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞ Í≤ÄÏÉâ...",className:s="",showCategories:n=!0},r)=>{const[i,o]=v.useState(""),[l,c]=v.useState([]),[d,h]=v.useState(!1),[m,u]=v.useState(!1),[g,f]=v.useState(["all"]),[x,b]=v.useState(null),{todos:y,setCurrentDate:j,setViewMode:S,setSelectedDate:C}=lt(),w=EM(i,300),M=v.useRef(null),N=v.useRef(null);Wx({onSearchFocus:()=>{var P;(P=N.current)==null||P.focus(),u(!0)}}),v.useImperativeHandle(r,()=>({focus:()=>{var P;(P=N.current)==null||P.focus(),u(!0)},clear:()=>{o(""),c([]),u(!1)}}));const k=async()=>{if(w.length<2){c([]),u(!1);return}h(!0),b(null);try{const P={query:w,categories:g.includes("all")?["events","todos","diaries"]:g,limit:15,sortBy:"relevance"},O=await Hx.searchAll(P,y);c(O),u(!0),t&&t(O)}catch(P){console.error("Search failed:",P),b("Í≤ÄÏÉâ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{h(!1)}};v.useEffect(()=>{k()},[w,g]),v.useEffect(()=>{const P=O=>{M.current&&!M.current.contains(O.target)&&u(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const _=P=>{P.key==="Escape"&&(u(!1),o(""))},E=P=>{if(P==="all")f(["all"]);else{const O=g.includes("all")?[P]:g.includes(P)?g.filter(D=>D!==P):[...g.filter(D=>D!=="all"),P];f(O.length===0?["all"]:O)}},T=P=>{switch(u(!1),o(""),P.type){case"event":if(P.date){const O=On(P.date);j(O),C(O),S("day")}break;case"todo":if(P.date){const O=On(P.date);j(O),C(O),S("day")}break;case"diary":if(P.date){const O=On(P.date);j(O),C(O),S("dayEnhanced")}break}},R=zx(l);return a.jsxs("div",{ref:M,className:`relative ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:N,type:"text",value:i,onChange:P=>o(P.target.value),onKeyDown:_,onFocus:()=>i.length>=2&&l.length>0&&u(!0),placeholder:e,className:"w-full px-4 py-2 pl-10 pr-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),a.jsx(In,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),i&&a.jsx("button",{onClick:()=>{o(""),c([]),u(!1)},className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400 hover:text-gray-600",children:a.jsx(gm,{})}),d&&a.jsx("div",{className:"absolute right-3 top-2.5",children:a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]}),n&&a.jsx("div",{className:"flex gap-2 mt-2",children:["all","events","todos","diaries"].map(P=>a.jsx("button",{onClick:()=>E(P),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${g.includes(P)?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:ei(P)},P))}),m&&a.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg max-h-96 overflow-y-auto z-50 border border-gray-200 dark:border-gray-700",children:[x&&a.jsx("div",{className:"px-4 py-3 text-red-600 dark:text-red-400 text-sm",children:x}),!x&&l.length===0&&!d&&i.length>=2&&a.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-sm",children:"Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§."}),!x&&l.length>0&&a.jsxs("div",{children:[Array.from(R.entries()).map(([P,O])=>a.jsxs("div",{children:[a.jsxs("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 font-semibold text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600",children:[ei(P)," (",O.length,")"]}),O.map(D=>a.jsx(Ux,{item:D,onClick:T},`${D.type}-${D.id}`))]},P)),l.length>=15&&a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400 text-center border-t border-gray-200 dark:border-gray-600",children:"Îçî ÎßéÏùÄ Í≤∞Í≥ºÍ∞Ä ÏûàÏäµÎãàÎã§. Í≤ÄÏÉâÏñ¥Î•º Íµ¨Ï≤¥Ï†ÅÏúºÎ°ú ÏûÖÎ†•Ìï¥Î≥¥ÏÑ∏Ïöî."})]})]})]})});ti.displayName="SearchBar";const DM=()=>{const t=T0(),e=ze(),{todos:s,setCurrentDate:n,setViewMode:r,setSelectedDate:i}=lt(),[o,l]=v.useState(""),[c,d]=v.useState([]),[h,m]=v.useState(!1),[u,g]=v.useState(["all"]),[f,x]=v.useState("relevance"),[b,y]=v.useState({}),[j,S]=v.useState(!1),[C,w]=v.useState(null),[M,N]=v.useState([]);v.useEffect(()=>{var L;const D=new URLSearchParams(t.search).get("q"),F=(L=t.state)==null?void 0:L.results;D?(l(D),k(D)):F&&d(F)},[t]),v.useEffect(()=>{const O=localStorage.getItem("recentSearches");O&&N(JSON.parse(O))},[]);const k=async O=>{const D=O||o;if(D.length<2){d([]);return}m(!0),w(null);try{const F=await Hx.searchAll({query:D,categories:u.includes("all")?["events","todos","diaries"]:u,startDate:b.start,endDate:b.end,sortBy:f,limit:50},s);d(F);const L=[D,...M.filter(H=>H!==D)].slice(0,10);N(L),localStorage.setItem("recentSearches",JSON.stringify(L));const I=new URL(window.location.href);I.searchParams.set("q",D),window.history.replaceState({},"",I.toString())}catch(F){console.error("Search failed:",F),w("Í≤ÄÏÉâ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{m(!1)}},_=O=>{switch(O.type){case"event":if(O.date){const D=On(O.date);n(D),i(D),r("day"),e("/calendar")}break;case"todo":if(O.date){const D=On(O.date);n(D),i(D),r("day"),e("/calendar")}break;case"diary":O.date&&e(`/diary/${O.date}`);break}},E=O=>{if(O==="all")g(["all"]);else{const D=u.includes("all")?[O]:u.includes(O)?u.filter(F=>F!==O):[...u.filter(F=>F!=="all"),O];g(D.length===0?["all"]:D)}},T=O=>{l(O),k(O)},R=zx(c),P=c.length;return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(In,{className:"h-8 w-8 text-purple-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Í≤ÄÏÉâ"})]}),a.jsx("div",{className:"flex-1 max-w-2xl",children:a.jsx(ti,{placeholder:"ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞ Í≤ÄÏÉâ...",className:"w-full",showCategories:!1,onSearch:O=>{d(O)}})}),a.jsxs("button",{onClick:()=>S(!j),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[a.jsx(nv,{className:"h-5 w-5"}),"ÌïÑÌÑ∞"]})]}),o&&a.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["'",a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:o}),"' Í≤ÄÏÉâ Í≤∞Í≥º ",P,"Í∞ú"]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:`lg:w-64 ${j?"block":"hidden lg:block"}`,children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"ÌïÑÌÑ∞"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ïπ¥ÌÖåÍ≥†Î¶¨"}),a.jsx("div",{className:"space-y-2",children:["all","events","todos","diaries"].map(O=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:u.includes(O),onChange:()=>E(O),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:ei(O)})]},O))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ï†ïÎ†¨"}),a.jsxs("select",{value:f,onChange:O=>x(O.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm",children:[a.jsx("option",{value:"relevance",children:"Í¥ÄÎ†®ÎèÑÏàú"}),a.jsx("option",{value:"date",children:"ÎÇ†ÏßúÏàú"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ÎÇ†Ïßú Î≤îÏúÑ"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"date",value:b.start||"",onChange:O=>y(D=>({...D,start:O.target.value})),className:"w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm",placeholder:"ÏãúÏûë ÎÇ†Ïßú"}),a.jsx("input",{type:"date",value:b.end||"",onChange:O=>y(D=>({...D,end:O.target.value})),className:"w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm",placeholder:"Ï¢ÖÎ£å ÎÇ†Ïßú"})]})]}),a.jsx("button",{onClick:()=>k(),disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:h?"Í≤ÄÏÉâ Ï§ë...":"Îã§Ïãú Í≤ÄÏÉâ"})]}),M.length>0&&a.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"ÏµúÍ∑º Í≤ÄÏÉâÏñ¥"}),a.jsx("div",{className:"space-y-1",children:M.slice(0,5).map((O,D)=>a.jsxs("button",{onClick:()=>T(O),className:"w-full text-left px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:[a.jsx(hn,{className:"inline h-3 w-3 mr-2"}),O]},D))})]})]}),a.jsxs("div",{className:"flex-1",children:[C&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700 dark:text-red-400",children:C})}),h&&a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Í≤ÄÏÉâ Ï§ë..."})]}),!h&&o&&c.length===0&&!C&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(In,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-gray-100",children:"Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Îã§Î•∏ ÌÇ§ÏõåÎìúÎ°ú Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî."})]}),!h&&c.length>0&&a.jsx("div",{className:"space-y-6",children:Array.from(R.entries()).map(([O,D])=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[ei(O)," (",D.length,")"]})}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:D.map(F=>a.jsx(Ux,{item:F,onClick:_},`${F.type}-${F.id}`))})]},O))}),!o&&!h&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(In,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-gray-100",children:"Í≤ÄÏÉâÏùÑ ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî"}),a.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞Î•º Í≤ÄÏÉâÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})]})})]})},PM=({className:t})=>a.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),RM=({className:t})=>a.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})});function LM({size:t="md",showLabel:e=!1}){const{theme:s,toggleTheme:n}=Ix(),r={sm:"p-1.5 text-sm",md:"p-2 text-base",lg:"p-3 text-lg"},i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return a.jsxs("button",{onClick:n,className:`
        ${r[t]} 
        rounded-lg 
        bg-background 
        hover:bg-muted 
        border border-border 
        transition-all duration-200 
        flex items-center space-x-2
        focus:outline-none 
        focus:ring-2 
        focus:ring-primary 
        focus:ring-offset-2
        ${e?"px-3":""}
      `,"aria-label":`${s==="light"?"Îã§ÌÅ¨":"ÎùºÏù¥Ìä∏"} Î™®ÎìúÎ°ú Ï†ÑÌôò`,title:`${s==="light"?"Îã§ÌÅ¨":"ÎùºÏù¥Ìä∏"} Î™®ÎìúÎ°ú Ï†ÑÌôò`,children:[s==="light"?a.jsx(RM,{className:`${i[t]} text-foreground`}):a.jsx(PM,{className:`${i[t]} text-foreground`}),e&&a.jsx("span",{className:"text-sm font-medium text-foreground",children:s==="light"?"Îã§ÌÅ¨ Î™®Îìú":"ÎùºÏù¥Ìä∏ Î™®Îìú"})]})}const OM=()=>{var x,b,y,j,S,C,w,M;const[t,e]=v.useState(!1),[s,n]=v.useState(!1),r=T0(),i=ze(),{isAuthenticated:o,user:l,logout:c}=Qt(),d=v.useRef(null);Wx({onSearchFocus:()=>{var N;(N=d.current)==null||N.focus()}});const h=[{path:"/",label:"Ï∫òÎ¶∞Îçî",icon:"üìÖ"},{path:"/saju",label:"ÏÇ¨Ï£ºÎ∂ÑÏÑù",icon:"üîÆ"},{path:"/compatibility",label:"Í∂ÅÌï©",icon:"üíë"},{path:"/settings",label:"ÏÑ§Ï†ï",icon:"‚öôÔ∏è"}],m=N=>r.pathname===N,u=async()=>{await c(),n(!1),i("/")},g=()=>{i("/auth?mode=login")},f=()=>{i("/auth?mode=signup")};return r.pathname==="/auth"?null:a.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Fs,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:"üß≠"}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò"})]})}),a.jsxs("div",{className:"flex-1 flex items-center justify-center space-x-8",children:[a.jsx("div",{className:"hidden md:block w-96 max-w-md",children:a.jsx(ti,{ref:d,placeholder:"ÏùºÏ†ï, Ìï†Ïùº, ÏùºÍ∏∞ Í≤ÄÏÉâ... (Ctrl+K)",className:"w-full",showCategories:!1,onSearch:N=>{N.length>0&&i("/search",{state:{results:N}})}})}),a.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:h.map(N=>a.jsxs(Fs,{to:N.path,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-1
                    ${m(N.path)?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{children:N.icon}),a.jsx("span",{children:N.label})]},N.path))})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(LM,{}),o&&l?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!s),className:"hidden md:flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:((b=(x=l==null?void 0:l.name)==null?void 0:x.charAt(0))==null?void 0:b.toUpperCase())||((j=(y=l==null?void 0:l.email)==null?void 0:y.charAt(0))==null?void 0:j.toUpperCase())||"U"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)||"User"}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:a.jsxs("div",{className:"py-1",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(l==null?void 0:l.email)||""})]}),a.jsxs(Fs,{to:"/settings",onClick:()=>n(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx("span",{className:"mr-2",children:"‚öôÔ∏è"}),"ÏÑ§Ï†ï"]}),a.jsxs(Fs,{to:"/dashboard",onClick:()=>n(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx("span",{className:"mr-2",children:"üìä"}),"ÎåÄÏãúÎ≥¥Îìú"]}),a.jsxs("button",{onClick:u,className:"flex items-center w-full px-4 py-2 text-sm text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[a.jsx("span",{className:"mr-2",children:"üö™"}),"Î°úÍ∑∏ÏïÑÏõÉ"]})]})})]}):a.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[a.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Î°úÍ∑∏Ïù∏"}),a.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"ÌöåÏõêÍ∞ÄÏûÖ"})]}),a.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Î©îÎâ¥ Ïó¥Í∏∞",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:t?a.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):a.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&a.jsx("nav",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("div",{className:"px-4 mb-3",children:a.jsx(ti,{placeholder:"Í≤ÄÏÉâ...",className:"w-full",showCategories:!0,onSearch:N=>{N.length>0&&(i("/search",{state:{results:N}}),e(!1))}})}),h.map(N=>a.jsxs(Fs,{to:N.path,onClick:()=>e(!1),className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2
                    ${m(N.path)?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{children:N.icon}),a.jsx("span",{children:N.label})]},N.path)),a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 mt-2",children:o&&l?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:((C=(S=l==null?void 0:l.name)==null?void 0:S.charAt(0))==null?void 0:C.toUpperCase())||((M=(w=l==null?void 0:l.email)==null?void 0:w.charAt(0))==null?void 0:M.toUpperCase())||"U"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(l==null?void 0:l.email)||""})]})]}),a.jsx("button",{onClick:u,className:"w-full px-3 py-2 text-left text-sm text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:"üö™ Î°úÍ∑∏ÏïÑÏõÉ"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:g,className:"w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Î°úÍ∑∏Ïù∏"}),a.jsx("button",{onClick:f,className:"w-full px-4 py-2 text-sm font-medium bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"ÌöåÏõêÍ∞ÄÏûÖ"})]})})]})})]})})},IM=()=>{const t=new Date().getFullYear(),e={ÏÑúÎπÑÏä§:[{label:"Ïò§ÎäòÏùò Ïö¥ÏÑ∏",path:"/fortune"},{label:"ÏÇ¨Ï£º Î∂ÑÏÑù",path:"/saju"},{label:"Í∂ÅÌï© Î≥¥Í∏∞",path:"/compatibility"},{label:"Ï∫òÎ¶∞Îçî",path:"/calendar"}],Ï†ïÎ≥¥:[{label:"Ïù¥Ïö©ÏïΩÍ¥Ä",path:"/terms"},{label:"Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®",path:"/privacy"},{label:"Í≥µÏßÄÏÇ¨Ìï≠",path:"/notice"},{label:"ÏûêÏ£º Î¨ªÎäî ÏßàÎ¨∏",path:"/faq"}],ÌöåÏÇ¨:[{label:"ÌöåÏÇ¨ÏÜåÍ∞ú",path:"/about"},{label:"Ï±ÑÏö©Ï†ïÎ≥¥",path:"/careers"},{label:"Ï†úÌú¥Î¨∏Ïùò",path:"/partnership"},{label:"Í≥†Í∞ùÏÑºÌÑ∞",path:"/support"}]},s=[{icon:"üìò",label:"Facebook",url:"https://facebook.com"},{icon:"üê¶",label:"Twitter",url:"https://twitter.com"},{icon:"üì∑",label:"Instagram",url:"https://instagram.com"},{icon:"üì∫",label:"YouTube",url:"https://youtube.com"},{icon:"üí¨",label:"KakaoTalk",url:"#"}];return a.jsx("footer",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"py-12 grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("span",{className:"text-2xl",children:"üß≠"}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Ïö¥Î™ÖÎÇòÏπ®Î∞ò"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Ï†ÑÌÜµ ÏÇ¨Ï£ºÎ™ÖÎ¶¨ÌïôÍ≥º ÌòÑÎåÄ AI Í∏∞Ïà†ÏùÑ Í≤∞Ìï©Ìïú Í∞ÄÏû• Ï†ïÌôïÌïú Ïö¥ÏÑ∏ ÏÑúÎπÑÏä§"}),a.jsx("div",{className:"flex space-x-3",children:s.map(n=>a.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors","aria-label":n.label,children:a.jsx("span",{className:"text-lg",children:n.icon})},n.label))})]}),Object.entries(e).map(([n,r])=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wider mb-4",children:n}),a.jsx("ul",{className:"space-y-3",children:r.map(i=>a.jsx("li",{children:a.jsx(Fs,{to:i.path,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:i.label})},i.path))})]},n))]}),a.jsx("div",{className:"py-8 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"max-w-md mx-auto text-center md:text-left md:max-w-none md:flex md:justify-between md:items-center",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Ïö¥ÏÑ∏ ÏÜåÏãùÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Îß§Ï£º ÎãπÏã†Ïùò Ïö¥ÏÑ∏ÏôÄ ÌñâÏö¥Ïùò ÌåÅÏùÑ Ïù¥Î©îÏùºÎ°ú Ï†ÑÎã¨Ìï¥ÎìúÎ¶ΩÎãàÎã§"})]}),a.jsxs("div",{className:"flex max-w-md mx-auto md:mx-0",children:[a.jsx("input",{type:"email",placeholder:"Ïù¥Î©îÏùº Ï£ºÏÜå ÏûÖÎ†•",className:"flex-1 px-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-l-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500"}),a.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-medium rounded-r-lg hover:from-purple-700 hover:to-pink-700 transition-colors",children:"Íµ¨ÎèÖÌïòÍ∏∞"})]})]})}),a.jsx("div",{className:"py-6 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["¬© ",t," Ïö¥Î™ÖÎÇòÏπ®Î∞ò. All rights reserved."]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:"Made with ‚ù§Ô∏è in Korea"}),a.jsx("span",{children:"|"}),a.jsx("span",{children:"Version 1.0.0"})]})]})}),a.jsx("div",{className:"py-4 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[a.jsx("span",{children:"üîí"}),a.jsx("span",{children:"SSL Î≥¥Ïïà Ïó∞Í≤∞"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[a.jsx("span",{children:"‚úÖ"}),a.jsx("span",{children:"Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏ Ïù∏Ï¶ù"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[a.jsx("span",{children:"üèÜ"}),a.jsx("span",{children:"2024 Î≤†Ïä§Ìä∏ Ïö¥ÏÑ∏Ïï± ÏÑ†Ï†ï"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[a.jsx("span",{children:"üìä"}),a.jsx("span",{children:"ÎàÑÏ†Å ÏÇ¨Ïö©Ïûê 100Îßå+"})]})]})})]})})};function FM(){return v.useEffect(()=>{S1()},[]),a.jsx(O8,{children:a.jsx(Qx,{children:a.jsx(Vp,{children:a.jsx(g1,{children:a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(OM,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(Zx,{children:[a.jsx(Ne,{path:"/",element:a.jsx(j1,{})}),a.jsx(Ne,{path:"/calendar",element:a.jsx(ep,{to:"/",replace:!0})}),a.jsx(Ne,{path:"/auth",element:a.jsx($p,{})}),a.jsx(Ne,{path:"/dashboard",element:a.jsx(n2,{})}),a.jsx(Ne,{path:"/admin",element:a.jsx(l2,{})}),a.jsx(Ne,{path:"/fortune",element:a.jsx(jj,{})}),a.jsx(Ne,{path:"/saju",element:a.jsx(L8,{})}),a.jsx(Ne,{path:"/customers",element:a.jsx(Gm,{})}),a.jsx(Ne,{path:"/saju/six-areas",element:a.jsxs("div",{className:"p-8 text-center",children:["6ÎåÄ ÏòÅÏó≠ Î∂ÑÏÑùÏù¥ ÌÜµÌï© ÏãúÏä§ÌÖúÏúºÎ°ú Ïù¥Ï†ÑÎêòÏóàÏäµÎãàÎã§. ",a.jsx("a",{href:"/saju",className:"text-purple-600",children:"ÏÉàÎ°úÏö¥ ÏÇ¨Ï£ºÎ∂ÑÏÑù"}),"ÏúºÎ°ú Ïù¥ÎèôÌïòÏÑ∏Ïöî."]})}),a.jsx(Ne,{path:"/saju/detailed",element:a.jsxs("div",{className:"p-8 text-center",children:["17ÎåÄ ÏÑ∏Î∂ÄÏö¥ÏÑ∏Í∞Ä ÌÜµÌï© ÏãúÏä§ÌÖúÏúºÎ°ú Ïù¥Ï†ÑÎêòÏóàÏäµÎãàÎã§. ",a.jsx("a",{href:"/saju",className:"text-purple-600",children:"ÏÉàÎ°úÏö¥ ÏÇ¨Ï£ºÎ∂ÑÏÑù"}),"ÏúºÎ°ú Ïù¥ÎèôÌïòÏÑ∏Ïöî."]})}),a.jsx(Ne,{path:"/saju/personality",element:a.jsxs("div",{className:"p-8 text-center",children:["7ÎåÄ ÏÑ±Ìñ• Î∂ÑÏÑùÏù¥ ÌÜµÌï© ÏãúÏä§ÌÖúÏúºÎ°ú Ïù¥Ï†ÑÎêòÏóàÏäµÎãàÎã§. ",a.jsx("a",{href:"/saju",className:"text-purple-600",children:"ÏÉàÎ°úÏö¥ ÏÇ¨Ï£ºÎ∂ÑÏÑù"}),"ÏúºÎ°ú Ïù¥ÎèôÌïòÏÑ∏Ïöî."]})}),a.jsx(Ne,{path:"/saju-chart",element:a.jsx(T_,{})}),a.jsx(Ne,{path:"/saju/interpretation",element:a.jsx(D_,{})}),a.jsx(Ne,{path:"/diary",element:a.jsx(Md,{})}),a.jsx(Ne,{path:"/diary/:date",element:a.jsx(Md,{})}),a.jsx(Ne,{path:"/settings",element:a.jsx(vj,{})}),a.jsx(Ne,{path:"/search",element:a.jsx(DM,{})}),a.jsx(Ne,{path:"/compatibility",element:a.jsx(jM,{})}),a.jsx(Ne,{path:"/learning/:courseId",element:a.jsx(wM,{})})]})}),a.jsx(IM,{})]})})})})})}Co.createRoot(document.getElementById("root")).render(a.jsx(wr.StrictMode,{children:a.jsx(FM,{})}));
//# sourceMappingURL=index-Dxy9AnOU.js.map
