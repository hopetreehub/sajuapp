import{r as e,j as s,n as t}from"./react-vendor-BqNk2DgB.js";import{C as a}from"./CustomerSelector-EAfVa5RC.js";import{C as r,f as n,P as l,g as i,i as o,p as c,a as d}from"./chart-vendor-DwU5C6A5.js";import{T as m,f as g}from"./index-DlHBBt9Z.js";import{c as x}from"./accurateSajuCalculator-Ch7eb-v_.js";import{a$ as h}from"./vendor-DgwlXjR1.js";import"./customerApi-JV4xNEmH.js";import"./document-vendor-kJlPqfgG.js";import"./calendar-vendor-Bhba01pF.js";import"./three-vendor-B4pyqsGd.js";const u=({data:t})=>{const a=e.useRef(null),n=e.useRef(null),l=e.useContext(m),i="dark"===(null==l?void 0:l.theme);return e.useEffect(()=>{if(!a.current||!t)return;n.current&&n.current.destroy();const e=a.current.getContext("2d");if(!e)return;const s=t.categories.map(e=>e.name),l=t.categories.map(e=>e.score),o=t.categories.map(()=>100),c=i?"rgba(229, 231, 235, 1)":"rgba(31, 41, 55, 1)",d=i?"rgba(107, 114, 128, 0.3)":"rgba(0, 0, 0, 0.1)";return n.current=new r(e,{type:"radar",data:{labels:s,datasets:[{label:`${t.person1Name} ♥ ${t.person2Name}`,data:l,backgroundColor:"rgba(147, 51, 234, 0.2)",borderColor:"rgba(147, 51, 234, 1)",borderWidth:2,pointBackgroundColor:"rgba(147, 51, 234, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(147, 51, 234, 1)",pointRadius:4,pointHoverRadius:6},{label:"이상적 궁합",data:o,backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)",borderWidth:1,borderDash:[5,5],pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{font:{size:12},padding:20,usePointStyle:!0,color:c}},tooltip:{callbacks:{label(e){const s=e.dataset.label||"",t=e.parsed.r||e.parsed.y||0;return`${s}: ${Math.round(t)}점`}}}},scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20,font:{size:10},color:c,callback:e=>`${e}점`},pointLabels:{font:{size:13,weight:"bold"},color:c,callback(e,s){const t=l[s];return`${e}\n(${Math.round(t)}점)`}},grid:{color:d}}}}}),()=>{n.current&&n.current.destroy()}},[t,i,l]),s.jsx("div",{className:"w-full h-[400px] p-4",children:s.jsx("canvas",{ref:a})})},p=({relationshipAnalysis:t,practicalAnalysis:a,depthAnalysis:r,specialAnalysis:n})=>{const[l,i]=e.useState("overview");if(!(t&&a&&r&&n))return s.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"궁합 분석 결과가 없습니다. 먼저 두 사람을 선택하고 분석하기를 클릭해주세요."});const o=e=>e>=85?"text-green-600 dark:text-green-400":e>=70?"text-blue-600 dark:text-blue-400":e>=50?"text-yellow-600 dark:text-yellow-400":e>=30?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",c=e=>s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{"매우좋음":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200","좋음":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","보통":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200","주의":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200","위험":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}[e]}`,children:e}),d=[{key:"firstImpression",label:"첫인상 궁합",icon:"👋"},{key:"communication",label:"대화소통 궁합",icon:"💬"},{key:"valueSystem",label:"가치관 궁합",icon:"💎"},{key:"lifePattern",label:"생활패턴 궁합",icon:"🌅"},{key:"conflictResolution",label:"갈등해결 궁합",icon:"🤝"},{key:"emotional",label:"정서적 궁합",icon:"❤️"},{key:"trust",label:"신뢰도 궁합",icon:"🛡️"}],m=[{key:"economic",label:"경제관념 궁합",icon:"💰"},{key:"career",label:"직업운 궁합",icon:"💼"},{key:"residence",label:"주거환경 궁합",icon:"🏠"},{key:"children",label:"자녀운 궁합",icon:"👶"},{key:"inLaw",label:"시댁/처가 궁합",icon:"👨‍👩‍👧‍👦"}],g=[{key:"sexual",label:"성적 궁합",icon:"🔥"},{key:"spiritual",label:"정신적 궁합",icon:"🧘"},{key:"hobby",label:"취미 궁합",icon:"🎯"},{key:"retirement",label:"노후 궁합",icon:"🌅"}],x=[{key:"noblePerson",label:"귀인운 궁합",icon:"⭐"},{key:"peachBlossom",label:"도화운 궁합",icon:"🌸"},{key:"emptiness",label:"공망 궁합",icon:"🌀"},{key:"sinsal",label:"신살 궁합",icon:"🔮"}];return s.jsxs("div",{className:"mt-8",children:[s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>i("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+("overview"===l?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"종합 분석"}),s.jsx("button",{onClick:()=>i("relationship"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+("relationship"===l?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"관계성 분석 (7개 항목)"}),s.jsx("button",{onClick:()=>i("practical"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+("practical"===l?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"현실적 분석 (5개 항목)"}),s.jsx("button",{onClick:()=>i("depth"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+("depth"===l?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"심층 분석 (4개 항목)"}),s.jsx("button",{onClick:()=>i("special"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+("special"===l?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"특수 분석 (4개 항목)"})]})}),s.jsxs("div",{className:"mt-6",children:["overview"===l&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"관계성 종합 분석"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:`text-4xl font-bold ${o(t.averageScore)}`,children:[t.averageScore,"점"]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:t.summary})]}),s.jsx("div",{className:"text-5xl opacity-20",children:"💕"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"현실적 종합 분석"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:`text-4xl font-bold ${o(a.averageScore)}`,children:[a.averageScore,"점"]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:a.summary})]}),s.jsx("div",{className:"text-5xl opacity-20",children:"💍"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"심층 종합 분석"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:`text-4xl font-bold ${o(r.averageScore)}`,children:[r.averageScore,"점"]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:r.summary})]}),s.jsx("div",{className:"text-5xl opacity-20",children:"🌊"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"특수 종합 분석"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:`text-4xl font-bold ${o(n.averageScore)}`,children:[n.averageScore,"점"]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:n.summary})]}),s.jsx("div",{className:"text-5xl opacity-20",children:"✨"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:"관계성 분석"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.map(e=>{const a=t[e.key];return a&&"number"==typeof a.score?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xl",children:e.icon}),c(a.level)]}),s.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:e.label}),s.jsxs("div",{className:`text-xl font-bold mt-1 ${o(a.score)}`,children:[a.score,"점"]})]},e.key):null})}),s.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"현실적 분석"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:m.map(e=>{const t=a[e.key];return t&&"number"==typeof t.score?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xl",children:e.icon}),c(t.level)]}),s.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:e.label}),s.jsxs("div",{className:`text-xl font-bold mt-1 ${o(t.score)}`,children:[t.score,"점"]})]},e.key):null})}),s.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"심층 분석"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:g.map(e=>{const t=r[e.key];return t&&"number"==typeof t.score?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xl",children:e.icon}),c(t.level)]}),s.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:e.label}),s.jsxs("div",{className:`text-xl font-bold mt-1 ${o(t.score)}`,children:[t.score,"점"]})]},e.key):null})}),s.jsx("h3",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mt-6",children:"특수 분석"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:x.map(e=>{const t=n[e.key];return t&&"number"==typeof t.score?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xl",children:e.icon}),c(t.level)]}),s.jsx("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:e.label}),s.jsxs("div",{className:`text-xl font-bold mt-1 ${o(t.score)}`,children:[t.score,"점"]})]},e.key):null})})]})]}),"relationship"===l&&s.jsx("div",{className:"space-y-6",children:d.map(e=>{const a=t[e.key];return a&&"number"==typeof a.score?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:e.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.label})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[c(a.level),s.jsxs("span",{className:`text-2xl font-bold ${o(a.score)}`,children:[a.score,"점"]})]})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:a.description}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(a.score>=85?"bg-green-500":a.score>=70?"bg-blue-500":a.score>=50?"bg-yellow-500":a.score>=30?"bg-orange-500":"bg-red-500"),style:{width:`${a.score}%`}})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.factors.positive.length>0&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"✅ 긍정 요인"}),s.jsx("ul",{className:"space-y-1",children:a.factors.positive.map((e,t)=>s.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["• ",e]},t))})]}),a.factors.negative.length>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"⚠️ 주의 요인"}),s.jsx("ul",{className:"space-y-1",children:a.factors.negative.map((e,t)=>s.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["• ",e]},t))})]})]})]})},e.key):null})}),"practical"===l&&s.jsx("div",{className:"space-y-6",children:m.map(e=>{const t=a[e.key];return t&&"number"==typeof t.score?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:e.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.label})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[c(t.level),s.jsxs("span",{className:`text-2xl font-bold ${o(t.score)}`,children:[t.score,"점"]})]})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(t.score>=85?"bg-green-500":t.score>=70?"bg-blue-500":t.score>=50?"bg-yellow-500":t.score>=30?"bg-orange-500":"bg-red-500"),style:{width:`${t.score}%`}})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.factors.positive.length>0&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"✅ 긍정 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.positive.map((e,t)=>s.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["• ",e]},t))})]}),t.factors.negative.length>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"⚠️ 주의 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.negative.map((e,t)=>s.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["• ",e]},t))})]})]})]})},e.key):null})}),"depth"===l&&s.jsx("div",{className:"space-y-6",children:g.map(e=>{const t=r[e.key];return t&&"number"==typeof t.score?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:e.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.label})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[c(t.level),s.jsxs("span",{className:`text-2xl font-bold ${o(t.score)}`,children:[t.score,"점"]})]})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(t.score>=85?"bg-green-500":t.score>=70?"bg-blue-500":t.score>=50?"bg-yellow-500":t.score>=30?"bg-orange-500":"bg-red-500"),style:{width:`${t.score}%`}})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.factors.positive.length>0&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"✅ 긍정 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.positive.map((e,t)=>s.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["• ",e]},t))})]}),t.factors.negative.length>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"⚠️ 주의 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.negative.map((e,t)=>s.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["• ",e]},t))})]})]})]})},e.key):null})}),"special"===l&&s.jsx("div",{className:"space-y-6",children:x.map(e=>{const t=n[e.key];return t&&"number"==typeof t.score?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:e.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.label})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[c(t.level),s.jsxs("span",{className:`text-2xl font-bold ${o(t.score)}`,children:[t.score,"점"]})]})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(t.score>=85?"bg-green-500":t.score>=70?"bg-blue-500":t.score>=50?"bg-yellow-500":t.score>=30?"bg-orange-500":"bg-red-500"),style:{width:`${t.score}%`}})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.factors.positive.length>0&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"✅ 긍정 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.positive.map((e,t)=>s.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300",children:["• ",e]},t))})]}),t.factors.negative.length>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"⚠️ 주의 요인"}),s.jsx("ul",{className:"space-y-1",children:t.factors.negative.map((e,t)=>s.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300",children:["• ",e]},t))})]})]})]})},e.key):null})})]})]})},y=({sajuString:e,size:t="medium",className:a=""})=>{if(!e||"계산 실패"===e||"계산 중..."===e)return s.jsx("div",{className:`text-gray-500 dark:text-gray-400 ${a}`,children:s.jsx("span",{className:"text-sm",children:"사주 계산 중..."})});const r=e.split(" ");if(4!==r.length)return s.jsx("div",{className:`text-red-500 dark:text-red-400 ${a}`,children:s.jsx("span",{className:"text-sm",children:"사주 형식 오류"})});const[n,l,i,o]=r,c=(()=>{switch(t){case"small":return{container:"text-sm",pillar:"px-2 py-1",char:"text-base",label:"text-xs"};case"large":return{container:"text-lg",pillar:"px-4 py-3",char:"text-2xl",label:"text-sm"};default:return{container:"text-base",pillar:"px-3 py-2",char:"text-xl",label:"text-xs"}}})();return s.jsxs("div",{className:`${c.container} ${a}`,children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2 max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`bg-gradient-to-b from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30\n                          border border-red-200 dark:border-red-700 rounded-lg ${c.pillar}`,children:s.jsx("div",{className:`font-bold text-red-800 dark:text-red-200 ${c.char}`,children:n})}),s.jsx("div",{className:`text-gray-600 dark:text-gray-400 mt-1 ${c.label}`,children:"년주"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`bg-gradient-to-b from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30\n                          border border-blue-200 dark:border-blue-700 rounded-lg ${c.pillar}`,children:s.jsx("div",{className:`font-bold text-blue-800 dark:text-blue-200 ${c.char}`,children:l})}),s.jsx("div",{className:`text-gray-600 dark:text-gray-400 mt-1 ${c.label}`,children:"월주"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`bg-gradient-to-b from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30\n                          border border-green-200 dark:border-green-700 rounded-lg ${c.pillar}`,children:s.jsx("div",{className:`font-bold text-green-800 dark:text-green-200 ${c.char}`,children:i})}),s.jsx("div",{className:`text-gray-600 dark:text-gray-400 mt-1 ${c.label}`,children:"일주"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`bg-gradient-to-b from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30\n                          border border-purple-200 dark:border-purple-700 rounded-lg ${c.pillar}`,children:s.jsx("div",{className:`font-bold text-purple-800 dark:text-purple-200 ${c.char}`,children:o})}),s.jsx("div",{className:`text-gray-600 dark:text-gray-400 mt-1 ${c.label}`,children:"시주"})]})]}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"사주:"}),s.jsx("span",{className:"font-mono font-semibold text-gray-800 dark:text-gray-200",children:e})]})})]})},b={"상생":{"목":"화","화":"토","토":"금","금":"수","수":"목"},"상극":{"목":"토","화":"금","토":"수","금":"목","수":"화"}},f={"인오술":"화","신자진":"수","해묘미":"목","사유축":"금"},j={"자축":"토","인해":"목","묘술":"화","진유":"금","사신":"수","오미":"화토"},v=[["자","오"],["축","미"],["인","신"],["묘","유"],["진","술"],["사","해"]],k={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"};function N(e,s){const t=k[e],a=k[s],r={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"},n=r[e]===r[s];if(t===a)return n?"비견":"겁재";const l={"목":{"화":["식신","상관"],"토":["편재","정재"],"금":["편관","정관"],"수":["편인","정인"]},"화":{"토":["식신","상관"],"금":["편재","정재"],"수":["편관","정관"],"목":["편인","정인"]},"토":{"금":["식신","상관"],"수":["편재","정재"],"목":["편관","정관"],"화":["편인","정인"]},"금":{"수":["식신","상관"],"목":["편재","정재"],"화":["편관","정관"],"토":["편인","정인"]},"수":{"목":["식신","상관"],"화":["편재","정재"],"토":["편관","정관"],"금":["편인","정인"]}}[t][a];return l?n?l[0]:l[1]:"알수없음"}function $(e,s){const t=function(e,s){const t=e.ohHaengBalance||{},a=s.ohHaengBalance||{};let r=60;const n=["목","화","토","금","수"];for(const l of n){const e=b.상생[l];t[l]>25&&a[e]>25?r+=15:t[l]>15&&a[e]>15&&(r+=8)}for(const l of n){const e=b.상극[l];t[l]>30&&a[e]>30&&(r-=10)}for(const l of n)(t[l]<10&&a[l]>30||a[l]<10&&t[l]>30)&&(r+=5);return Math.max(0,Math.min(100,r))}(e,s),a=function(e,s){const t=e.day.gan;let a=70;const r=N(t,s.day.gan),n=["정재","정관","정인","식신"];n.includes(r)?a+=20:["비견","편재","편관","편인"].includes(r)?a+=5:["겁재","상관"].includes(r)&&(a-=10);const l=N(t,s.year.gan),i=N(t,s.month.gan);return n.includes(l)&&(a+=10),n.includes(i)&&(a+=10),Math.max(0,Math.min(100,a))}(e,s);return Math.round(.6*t+.4*a)}function w(e,s){const t=function(e,s){let t=50;for(const r of e)for(const e of s){(j[r+e]||j[e+r])&&(t+=15);for(const s of v)(s[0]===r&&s[1]===e||s[1]===r&&s[0]===e)&&(t-=10)}const a=[...e,...s].join("");for(const r of Object.keys(f)){const e=r.split("").filter(e=>a.includes(e)).length;e>=2&&(t+=5*e)}return Math.max(0,Math.min(100,t))}([e.year.ji,e.month.ji,e.day.ji,e.time.ji],[s.year.ji,s.month.ji,s.day.ji,s.time.ji]),a=e.day.gan,r=s.day.gan,n={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"};let l=60;return n[a]!==n[r]&&(l+=20),Math.round(.5*t+.5*l)}function M(e,s){let t="";t=e>=90?"천생연분입니다! 서로를 위한 완벽한 파트너입니다. ":e>=80?"매우 좋은 궁합입니다. 서로를 이해하고 존중하면 행복한 관계가 될 것입니다. ":e>=70?"좋은 궁합입니다. 서로의 차이를 인정하고 노력한다면 좋은 관계를 유지할 수 있습니다. ":e>=60?"보통의 궁합입니다. 서로를 이해하려는 노력이 필요합니다. ":"노력이 필요한 궁합입니다. 상대방을 이해하고 배려하는 자세가 중요합니다. ";const a=[...s].sort((e,s)=>s.score-e.score),r=a[0],n=a[a.length-1];return r.score>=80&&(t+=`특히 ${r.name} 면에서 뛰어난 조화를 보입니다. `),n.score<60&&(t+=`${n.name} 부분은 서로 더 노력이 필요한 영역입니다.`),t}const S={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"},C={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"},B={"자":"수","축":"토","인":"목","묘":"목","진":"토","사":"화","오":"화","미":"토","신":"금","유":"금","술":"토","해":"수"},A=[["자","오"],["축","미"],["인","신"],["묘","유"],["진","술"],["사","해"]],H=[["인","사","신"],["축","술","미"],["자","묘"]],z=[["자","유"],["오","묘"],["신","사"],["인","해"],["축","진"],["미","술"]];function R(e){return e>=85?"매우좋음":e>=70?"좋음":e>=50?"보통":e>=30?"주의":"위험"}function D(e,s){let t=0;const a=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],r=[e.year.ji,e.month.ji,e.day.ji,e.time.ji];for(const n of a)C[n]===s&&t++;for(const n of r)B[n]===s&&t++;return t}function _(e,s){const t=function(e,s){let t=60;const a=[],r=[],n=e.year.gan,l=s.year.gan;S[n]!==S[l]?(t+=15,a.push("음양이 조화로워 첫만남부터 끌림이 있습니다")):(t-=5,r.push("같은 음양으로 첫인상이 평범할 수 있습니다"));const i=C[n],o=C[l],c={"목":"화","화":"토","토":"금","금":"수","수":"목"};c[i]!==o&&c[o]!==i||(t+=20,a.push("오행이 상생하여 자연스러운 호감을 느낍니다"));const d=e.year.ji,m=s.year.ji;for(const g of A)if(g[0]===d&&g[1]===m||g[1]===d&&g[0]===m){t-=15,r.push("년지가 충이 되어 첫만남이 어색할 수 있습니다");break}return d===m&&(t+=10,a.push("같은 띠로 공감대가 형성됩니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`년주 기반 첫인상 궁합은 ${t}점입니다. ${t>=70?"좋은 첫인상을 주고받습니다.":"천천히 친해지는 스타일입니다."}`,factors:{positive:a,negative:r}}}(e,s),a=function(e,s){let t=65;const a=[],r=[],n=C[e.month.gan],l=C[s.month.gan],i=["목","화"],o=["금","수"];i.includes(n)&&i.includes(l)?(t+=15,a.push("둘 다 활발한 소통 스타일로 대화가 즐겁습니다")):o.includes(n)&&o.includes(l)?(t+=10,a.push("차분하고 깊이 있는 대화를 나눕니다")):(i.includes(n)&&o.includes(l)||o.includes(n)&&i.includes(l))&&(t+=5,a.push("서로 다른 소통 스타일이 균형을 이룹니다"));const c=e.month.ji,d=s.month.ji;for(const g of H)if(g.includes(c)&&g.includes(d)){t-=10,r.push("소통 과정에서 오해가 생기기 쉽습니다");break}const m={"인":"봄","묘":"봄","진":"봄","사":"여름","오":"여름","미":"여름","신":"가을","유":"가을","술":"가을","해":"겨울","자":"겨울","축":"겨울"};return m[c]===m[d]&&(t+=10,a.push("같은 계절 출생으로 정서적 리듬이 맞습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`월주 기반 소통 궁합은 ${t}점입니다. ${t>=70?"원활한 의사소통이 가능합니다.":"소통 방식의 차이를 이해할 필요가 있습니다."}`,factors:{positive:a,negative:r}}}(e,s),r=function(e,s){let t=70;const a=[],r=[],n=e.day.gan,l=s.day.gan;S[n]!==S[l]&&(t+=20,a.push("음양이 조화되어 서로를 보완합니다"));const i=C[n],o=C[l];i===o&&(t+=10,a.push("같은 오행으로 기본 성향이 비슷합니다"));const c={"목":"화","화":"토","토":"금","금":"수","수":"목"};c[i]===o?(t+=15,a.push(`${i}이 ${o}를 생하여 베푸는 관계입니다`)):c[o]===i&&(t+=15,a.push(`${o}가 ${i}을 생하여 받는 관계입니다`));const d={"목":"토","토":"수","수":"화","화":"금","금":"목"};return d[i]!==o&&d[o]!==i||(t-=15,r.push("오행이 상극하여 가치관 충돌이 있을 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`일간 기반 가치관 궁합은 ${t}점입니다. ${t>=70?"핵심 가치관이 잘 맞습니다.":"서로의 가치관을 존중하는 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),n=function(e,s){let t=60;const a=[],r=[],n=e.time.ji,l=s.time.ji,i=["인","묘","진","사"],o=["오","미","신","유"],c=["술","해","자","축"],d=e=>i.includes(e)?"morning":o.includes(e)?"afternoon":c.includes(e)?"evening":"unknown";d(n)===d(l)?(t+=20,a.push("생활 리듬이 비슷하여 일상이 조화롭습니다")):(t-=10,r.push("활동 시간대가 달라 조율이 필요합니다"));for(const m of A)if(m[0]===n&&m[1]===l||m[1]===n&&m[0]===l){t-=15,r.push("생활 패턴이 정반대여서 갈등이 생길 수 있습니다");break}return B[n]===B[l]&&(t+=10,a.push("비슷한 에너지 패턴을 가지고 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`시주 기반 생활패턴 궁합은 ${t}점입니다. ${t>=70?"일상생활이 조화롭게 흘러갑니다.":"생활 패턴 조율이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),l=function(e,s){let t=80;const a=[],r=[],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=[s.year.ji,s.month.ji,s.day.ji,s.time.ji];let i=0,o=0,c=0;for(const g of n)for(const e of l)for(const s of A)(s[0]===g&&s[1]===e||s[1]===g&&s[0]===e)&&i++;i>0&&(t-=10*i,r.push(`${i}개의 충이 있어 갈등이 자주 발생할 수 있습니다`));for(const g of H){let e=!1,s=!1;for(const t of n)g.includes(t)&&(e=!0);for(const t of l)g.includes(t)&&(s=!0);e&&s&&o++}o>0&&(t-=8*o,r.push("형이 있어 서로 상처를 줄 수 있습니다"));for(const g of n)for(const e of l)for(const s of z)(s[0]===g&&s[1]===e||s[1]===g&&s[0]===e)&&c++;c>0&&(t-=5*c,r.push("파가 있어 관계가 불안정할 수 있습니다")),0===i&&0===o&&(t+=10,a.push("충이나 형이 없어 평화로운 관계입니다"));const d=n.filter(e=>"토"===B[e]).length,m=l.filter(e=>"토"===B[e]).length;return(d>0||m>0)&&(t+=5,a.push("토 오행이 있어 갈등 중재 능력이 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`갈등해결 궁합은 ${t}점입니다. ${t>=70?"갈등을 잘 해결할 수 있습니다.":"갈등 발생 시 신중한 대처가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),i=function(e,s){let t=65;const a=[],r=[],n=D(e,"수"),l=D(s,"수");n>0&&n<=2&&(t+=10,a.push("적절한 수 기운으로 감정 표현이 자연스럽습니다")),l>0&&l<=2&&(t+=10,a.push("상대방도 감정 교류가 원활합니다")),(n>3||l>3)&&(t-=10,r.push("수가 과다하여 감정 기복이 심할 수 있습니다")),0===n&&0===l&&(t-=15,r.push("수가 부족하여 정서적 교감이 어려울 수 있습니다"));const i=D(e,"화"),o=D(s,"화");if(Math.abs(i-n)<=1&&Math.abs(o-l)<=1&&(t+=15,a.push("화수가 균형을 이루어 열정과 감성이 조화롭습니다")),e.ohHaengBalance&&s.ohHaengBalance){const r=e.ohHaengBalance["수"]||0,n=s.ohHaengBalance["수"]||0;r>=15&&r<=25&&n>=15&&n<=25&&(t+=10,a.push("수 오행이 균형잡혀 정서적 안정감이 있습니다"))}return t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`정서적 궁합은 ${t}점입니다. ${t>=70?"깊은 정서적 교감이 가능합니다.":"감정 표현과 이해에 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),o=function(e,s){let t=70;const a=[],r=[],n=D(e,"토"),l=D(s,"토");n>=1&&n<=3&&(t+=10,a.push("토 기운이 있어 믿음직합니다")),l>=1&&l<=3&&(t+=10,a.push("상대방도 신뢰할 만한 사람입니다")),n>0&&l>0&&(t+=15,a.push("서로 토 기운이 있어 안정적인 신뢰관계를 형성합니다")),(n>4||l>4)&&(t-=10,r.push("토가 과다하여 고집이 세고 변화를 거부할 수 있습니다")),0!==n&&0!==l||(t-=15,r.push("토가 부족하여 신뢰 형성에 시간이 필요합니다"));const i=e.day.ji,o=s.day.ji,c=["축","진","미","술"];return(c.includes(i)||c.includes(o))&&(t+=5,a.push("일지에 토가 있어 기본적으로 신뢰감을 줍니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:R(t),description:`신뢰도 궁합은 ${t}점입니다. ${t>=70?"서로를 깊이 신뢰할 수 있습니다.":"신뢰 구축에 시간과 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),c=[t.score,a.score,r.score,n.score,l.score,i.score,o.score],d=Math.round(c.reduce((e,s)=>e+s,0)/c.length);let m="";return m=d>=80?"매우 훌륭한 관계성을 가지고 있습니다. 서로를 깊이 이해하고 존중할 수 있는 관계입니다.":d>=70?"좋은 관계를 유지할 수 있습니다. 약간의 노력으로 더욱 발전할 가능성이 있습니다.":d>=60?"평균적인 관계입니다. 서로를 이해하려는 노력이 필요합니다.":d>=50?"관계 유지에 상당한 노력이 필요합니다. 차이점을 인정하고 존중하는 것이 중요합니다.":"관계에 어려움이 예상됩니다. 충분한 이해와 인내가 필요합니다.",{firstImpression:t,communication:a,valueSystem:r,lifePattern:n,conflictResolution:l,emotional:i,trust:o,averageScore:d,summary:m}}function E(e,s){var t;const a={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"},r={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"},n=a[e],l=a[s],i=r[e]===r[s];if(n===l)return i?"비견":"겁재";const o=null==(t={"목":{"화":["식신","상관"],"토":["편재","정재"],"금":["편관","정관"],"수":["편인","정인"]},"화":{"토":["식신","상관"],"금":["편재","정재"],"수":["편관","정관"],"목":["편인","정인"]},"토":{"금":["식신","상관"],"수":["편재","정재"],"목":["편관","정관"],"화":["편인","정인"]},"금":{"수":["식신","상관"],"목":["편재","정재"],"화":["편관","정관"],"토":["편인","정인"]},"수":{"목":["식신","상관"],"화":["편재","정재"],"토":["편관","정관"],"금":["편인","정인"]}}[n])?void 0:t[l];return o?i?o[0]:o[1]:"알수없음"}function P(e){return e>=85?"매우좋음":e>=70?"좋음":e>=50?"보통":e>=30?"주의":"위험"}function L(e,s){const t={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"},a={"자":"수","축":"토","인":"목","묘":"목","진":"토","사":"화","오":"화","미":"토","신":"금","유":"금","술":"토","해":"수"};let r=0;const n=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],l=[e.year.ji,e.month.ji,e.day.ji,e.time.ji];for(const i of n)t[i]===s&&r++;for(const i of l)a[i]===s&&r++;return r}function I(e){return{"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"}[e]||""}function F(e,s){const t=function(e,s){let t=65;const a=[],r=[],n=e.day.gan,l=s.day.gan,i=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],o=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let c=0,d=0,m=0;for(const y of i){const e=E(n,y);"정재"===e?(c++,d++):"편재"===e&&(c++,m++)}let g=0,x=0,h=0;for(const y of o){const e=E(l,y);"정재"===e?(g++,x++):"편재"===e&&(g++,h++)}c>=1&&c<=2&&(t+=10,a.push("적절한 재성으로 건실한 경제관념을 가지고 있습니다")),g>=1&&g<=2&&(t+=10,a.push("상대방도 안정적인 경제관을 가지고 있습니다")),d>m&&x>h?(t+=15,a.push("둘 다 안정적이고 보수적인 재테크 성향입니다")):m>d&&h>x?(t+=5,a.push("둘 다 적극적인 투자 성향으로 의견이 맞을 수 있습니다")):(t+=10,a.push("서로 다른 재테크 스타일로 균형을 이룹니다")),(c>3||g>3)&&(t-=15,r.push("재성이 과다하여 돈 문제로 갈등이 생길 수 있습니다")),0!==c&&0!==g||(t-=10,r.push("재성이 부족하여 경제적 계획성이 떨어질 수 있습니다"));const u=L(e,"금"),p=L(s,"금");return u>0&&p>0&&(t+=5,a.push("금 기운이 있어 절약 정신이 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:P(t),description:`경제관념 궁합은 ${t}점입니다. ${t>=70?"경제적 가치관이 잘 맞습니다.":"금전 관리 방식에 대한 조율이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),a=function(e,s){let t=60;const a=[],r=[],n=e.day.gan,l=s.day.gan,i=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],o=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let c=0,d=0,m=0;for(const y of i){const e=E(n,y);"정관"===e?(c++,d++):"편관"===e&&(c++,m++)}let g=0,x=0,h=0;for(const y of o){const e=E(l,y);"정관"===e?(g++,x++):"편관"===e&&(g++,h++)}c>=1&&c<=2&&(t+=15,a.push("안정적인 직업운을 가지고 있습니다")),g>=1&&g<=2&&(t+=15,a.push("상대방도 커리어가 안정적입니다")),d>0&&x>0?(t+=10,a.push("둘 다 안정적인 직장 생활을 선호합니다")):m>0&&h>0&&(t+=10,a.push("둘 다 도전적인 사업가 기질이 있습니다")),(c>3||g>3)&&(t-=10,r.push("관성이 과다하여 업무 스트레스가 관계에 영향을 줄 수 있습니다"));let u=0,p=0;for(const y of i){const e=E(n,y);"식신"!==e&&"상관"!==e||u++}for(const y of o){const e=E(l,y);"식신"!==e&&"상관"!==e||p++}return u>0&&p>0&&(t+=10,a.push("둘 다 창의적인 능력이 있어 서로를 이해합니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:P(t),description:`직업운 궁합은 ${t}점입니다. ${t>=70?"서로의 커리어를 지지할 수 있습니다.":"직업적 목표에 대한 이해가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),r=function(e,s){let t=65;const a=[],r=[],n=e.day.gan,l=s.day.gan,i=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],o=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let c=0,d=0;for(const u of i){const e=E(n,u);"정인"!==e&&"편인"!==e||c++}for(const u of o){const e=E(l,u);"정인"!==e&&"편인"!==e||d++}c>=1&&c<=2&&(t+=15,a.push("안정적인 주거 환경을 선호합니다")),d>=1&&d<=2&&(t+=15,a.push("상대방도 편안한 집을 중요시합니다"));const m=L(e,"토"),g=L(s,"토");(m>=2||g>=2)&&(t+=10,a.push("토 기운이 강해 부동산 운이 좋습니다")),(c>3||d>3)&&(t-=10,r.push("인성이 과다하여 독립적인 주거 생활이 어려울 수 있습니다"));const x=L(e,"목"),h=L(s,"목");return x>0&&h>0?(t+=5,a.push("목 기운이 있어 자연친화적인 주거를 선호합니다")):(x>2&&0===h||0===x&&h>2)&&(t-=5,r.push("주거 환경 취향이 크게 다를 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:P(t),description:`주거환경 궁합은 ${t}점입니다. ${t>=70?"편안한 보금자리를 만들 수 있습니다.":"주거 스타일 조율이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),n=function(e,s){let t=70;const a=[],r=[],n=e.day.gan,l=s.day.gan,i=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],o=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let c=0,d=0,m=0;for(const b of i){const e=E(n,b);"식신"===e?(c++,d++):"상관"===e&&(c++,m++)}let g=0,x=0,h=0;for(const b of o){const e=E(l,b);"식신"===e?(g++,x++):"상관"===e&&(g++,h++)}d>0&&x>0?(t+=20,a.push("둘 다 식신이 있어 자녀 복이 있습니다")):(d>0||x>0)&&(t+=10,a.push("자녀에 대한 사랑이 깊습니다")),(m>1||h>1)&&(t-=5,r.push("자녀 교육 방식에서 의견 충돌이 있을 수 있습니다")),0===c&&0===g&&(t-=15,r.push("식상이 부족하여 자녀 계획에 어려움이 있을 수 있습니다"));const u=L(e,"수"),p=L(s,"수");u>0&&p>0&&(t+=10,a.push("수 기운이 있어 자녀 생산력이 좋습니다"));const y=["자","오","묘","유"];return(y.includes(e.time.ji)||y.includes(s.time.ji))&&(t+=5,a.push("도화가 있어 예쁜 자녀를 얻을 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:P(t),description:`자녀운 궁합은 ${t}점입니다. ${t>=70?"자녀와 행복한 가정을 이룰 수 있습니다.":"자녀 계획에 대한 충분한 대화가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),l=function(e,s){let t=70;const a=[],r=[],n=e.year.ji,l=s.year.ji,i=e.month.ji,o=s.month.ji,c=[["자","오"],["축","미"],["인","신"],["묘","유"],["진","술"],["사","해"]];let d=!1;for(const b of c)if(b[0]===n&&b[1]===l||b[1]===n&&b[0]===l){t-=15,r.push("년지가 충이 되어 양가 부모님과의 관계에 주의가 필요합니다"),d=!0;break}d||(t+=10,a.push("년지가 충돌하지 않아 양가 화합이 좋습니다"));for(const b of c)if(b[0]===i&&b[1]===o||b[1]===i&&b[0]===o){t-=10,r.push("월지가 충이 되어 형제간 관계에 신경써야 합니다");break}const m=I(e.year.gan),g=I(s.year.gan),x={"목":"화","화":"토","토":"금","금":"수","수":"목"};x[m]!==g&&x[g]!==m||(t+=15,a.push("년간이 상생하여 양가 어른들의 축복을 받습니다"));const h=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],u=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let p=0,y=0;for(const b of h){const s=E(e.day.gan,b);"정인"!==s&&"편인"!==s||p++}for(const b of u){const e=E(s.day.gan,b);"정인"!==e&&"편인"!==e||y++}return p>0&&y>0&&(t+=10,a.push("인성이 있어 어른을 공경하는 마음이 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:P(t),description:`시댁/처가 궁합은 ${t}점입니다. ${t>=70?"양가 가족과 원만한 관계를 유지할 수 있습니다.":"가족 관계에서 서로 배려가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),i=[t.score,a.score,r.score,n.score,l.score],o=Math.round(i.reduce((e,s)=>e+s,0)/i.length);let c="";return c=o>=80?"현실적인 면에서 매우 잘 맞습니다. 안정적인 가정을 이룰 수 있습니다.":o>=70?"실생활에서 큰 문제없이 조화를 이룰 수 있습니다.":o>=60?"일부 현실적 문제에서 조율이 필요하지만 극복 가능합니다.":o>=50?"현실적 가치관의 차이가 있어 충분한 대화가 필요합니다.":"현실적 문제로 어려움이 예상됩니다. 신중한 접근이 필요합니다.",{economic:t,career:a,residence:r,children:n,inLaw:l,averageScore:o,summary:c}}function T(e){return e>=85?"매우좋음":e>=70?"좋음":e>=50?"보통":e>=30?"주의":"위험"}const W=["자","오","묘","유"],O=["인","신","사","해"],Z=["진","술","축","미"];function J(e,s){const t={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"},a={"자":"수","축":"토","인":"목","묘":"목","진":"토","사":"화","오":"화","미":"토","신":"금","유":"금","술":"토","해":"수"};let r=0;const n=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],l=[e.year.ji,e.month.ji,e.day.ji,e.time.ji];for(const i of n)t[i]===s&&r++;for(const i of l)a[i]===s&&r++;return r}function q(e,s){const t=e.day.gan,a=[e.year.gan,e.month.gan,e.day.gan,e.time.gan];let r=0;for(const n of a){const e=G(t,n);s.includes(e)&&r++}return r}function G(e,s){var t;const a={"갑":"목","을":"목","병":"화","정":"화","무":"토","기":"토","경":"금","신":"금","임":"수","계":"수"},r={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"},n=a[e],l=a[s],i=r[e]===r[s];if(n===l)return i?"비견":"겁재";const o=null==(t={"목":{"화":["식신","상관"],"토":["편재","정재"],"금":["편관","정관"],"수":["편인","정인"]},"화":{"토":["식신","상관"],"금":["편재","정재"],"수":["편관","정관"],"목":["편인","정인"]},"토":{"금":["식신","상관"],"수":["편재","정재"],"목":["편관","정관"],"화":["편인","정인"]},"금":{"수":["식신","상관"],"목":["편재","정재"],"화":["편관","정관"],"토":["편인","정인"]},"수":{"목":["식신","상관"],"화":["편재","정재"],"토":["편관","정관"],"금":["편인","정인"]}}[n])?void 0:t[l];return o?i?o[0]:o[1]:"알수없음"}function K(e,s){const t=function(e,s){let t=60;const a=[],r=[],n=J(e,"화"),l=J(s,"화"),i=J(e,"수"),o=J(s,"수");n>=1&&n<=2&&i>=1&&i<=2&&(t+=15,a.push("화수가 균형을 이루어 건강한 성생활이 가능합니다")),l>=1&&l<=2&&o>=1&&o<=2&&(t+=15,a.push("상대방도 성적 에너지가 균형잡혀 있습니다"));const c=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],d=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],m=c.filter(e=>W.includes(e)).length,g=d.filter(e=>W.includes(e)).length;1===m&&1===g?(t+=20,a.push("적절한 도화가 있어 서로에게 매력을 느낍니다")):m>2||g>2?(t-=15,r.push("도화가 과다하여 이성 문제가 생길 수 있습니다")):0===m&&0===g&&(t-=10,r.push("도화가 없어 성적 매력이 부족할 수 있습니다")),W.includes(e.day.ji)&&W.includes(s.day.ji)&&(t+=10,a.push("일지 도화로 강한 성적 끌림이 있습니다")),(n>3||l>3)&&(t-=10,r.push("화가 과다하여 성적으로 충동적일 수 있습니다"));const x={"갑":"양","을":"음","병":"양","정":"음","무":"양","기":"음","경":"양","신":"음","임":"양","계":"음"};return x[e.day.gan]!==x[s.day.gan]&&(t+=10,a.push("음양이 조화되어 성적 궁합이 좋습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`성적 궁합은 ${t}점입니다. ${t>=70?"서로에게 성적 매력을 느낍니다.":"성적 조화를 위한 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),a=function(e,s){let t=70;const a=[],r=[],n=q(e,["정인","편인"]),l=q(s,["정인","편인"]),i=q(e,["식신"]),o=q(s,["식신"]);n>0&&l>0&&(t+=15,a.push("둘 다 정신적 가치를 중요시합니다")),i>0&&o>0&&(t+=15,a.push("종교나 철학에 대한 관심이 비슷합니다"));const c=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],d=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],m=c.filter(e=>Z.includes(e)).length,g=d.filter(e=>Z.includes(e)).length;m>0&&g>0?(t+=10,a.push("화개살이 있어 예술적/영적 교감이 가능합니다")):(m>1&&0===g||0===m&&g>1)&&(t-=10,r.push("종교관의 차이가 클 수 있습니다"));const x=J(e,"목"),h=J(s,"목");return x>0&&h>0&&(t+=5,a.push("목 기운이 있어 자비롭고 포용적입니다")),(n>3||l>3)&&(t-=15,r.push("인성이 과다하여 종교적 극단주의 우려가 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`종교/신앙 궁합은 ${t}점입니다. ${t>=70?"정신적 가치관이 잘 맞습니다.":"종교나 신념에 대한 상호 이해가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),r=function(e,s){let t=65;const a=[],r=[],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],i=n.filter(e=>O.includes(e)).length,o=l.filter(e=>O.includes(e)).length;i>0&&o>0?(t+=20,a.push("둘 다 역마가 있어 여행을 즐깁니다")):i>1&&0===o||0===i&&o>1?(t-=10,r.push("여행 취향의 차이로 갈등이 있을 수 있습니다")):0===i&&0===o&&(t+=5,a.push("둘 다 안정적인 취미를 선호합니다"));const c=n.filter(e=>Z.includes(e)).length,d=l.filter(e=>Z.includes(e)).length;c>0&&d>0&&(t+=15,a.push("예술적 취미를 공유할 수 있습니다"));const m=q(e,["식신","상관"]),g=q(s,["식신","상관"]);m>0&&g>0&&(t+=10,a.push("창의적인 취미 활동을 함께 즐길 수 있습니다"));const x=J(e,"목")+J(e,"화"),h=J(s,"목")+J(s,"화");return x>=3&&h>=3?(t+=10,a.push("활동적인 취미를 함께 즐길 수 있습니다")):(x>=4&&h<=1||x<=1&&h>=4)&&(t-=10,r.push("활동량의 차이로 취미 공유가 어려울 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`여행/취미 궁합은 ${t}점입니다. ${t>=70?"취미와 여가를 함께 즐길 수 있습니다.":"서로의 취미를 존중하는 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),n=function(e,s){let t=70;const a=[],r=[],n=J(e,"금"),l=J(s,"금");n>=1&&n<=3&&(t+=10,a.push("금 기운이 있어 노후 준비가 철저합니다")),l>=1&&l<=3&&(t+=10,a.push("상대방도 노후를 체계적으로 준비합니다"));const i=J(e,"토"),o=J(s,"토");i>0&&o>0&&(t+=15,a.push("토 기운이 있어 안정적인 노후생활이 가능합니다"));const c=q(e,["정재","편재"]),d=q(s,["정재","편재"]);c>0&&d>0?(t+=10,a.push("재성이 있어 경제적으로 안정된 노후가 기대됩니다")):0===c&&0===d&&(t-=15,r.push("재성이 부족하여 노후 자금 준비에 신경써야 합니다"));const m=q(e,["정인","편인"]),g=q(s,["정인","편인"]);return(m>0||g>0)&&(t+=5,a.push("인성이 있어 정신적으로 풍요로운 노후가 가능합니다")),(n>4||l>4)&&(t-=10,r.push("금이 과다하여 노후에 고집이 세질 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`노후생활 궁합은 ${t}점입니다. ${t>=70?"행복하고 안정된 노후를 보낼 수 있습니다.":"노후 계획을 함께 준비해야 합니다."}`,factors:{positive:a,negative:r}}}(e,s),l=[t.score,a.score,r.score,n.score],i=Math.round(l.reduce((e,s)=>e+s,0)/l.length);let o="";return o=i>=80?"심층적인 면에서도 매우 잘 어울립니다.":i>=70?"깊이 있는 관계를 만들어갈 수 있습니다.":i>=60?"일부 깊은 주제에서 이해가 필요합니다.":"심층적 이해를 위한 노력이 많이 필요합니다.",{sexual:t,spiritual:a,hobby:r,retirement:n,averageScore:i,summary:o}}function Q(e,s){const t=function(e,s){var t,a;let r=60;const n=[],l=[],i={"갑":["축","미"],"을":["자","신"],"병":["해","유"],"정":["해","유"],"무":["축","미"],"기":["자","신"],"경":["축","미"],"신":["인","오"],"임":["묘","사"],"계":["묘","사"]},o=e.day.gan,c=s.day.gan,d=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],m=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],g=i[o]||[],x=i[c]||[],h=d.some(e=>g.includes(e)),u=m.some(e=>x.includes(e));h&&u?(r+=30,n.push("둘 다 천을귀인이 있어 귀인의 도움을 받습니다")):h||u?(r+=15,n.push("천을귀인이 있어 어려울 때 도움을 받을 수 있습니다")):(r-=10,l.push("천을귀인이 없어 스스로 헤쳐나가야 합니다"));const p=m.some(e=>g.includes(e)),y=d.some(e=>x.includes(e));(p||y)&&(r+=20,n.push("서로가 서로의 귀인이 되어줄 수 있습니다"));const b={"인":["병","정"],"묘":["갑","을"],"사":["병","정"],"오":["임","계"],"신":["경","신"],"유":["경","신"],"해":["임","계"],"자":["임","계"]},f=e.month.ji,j=s.month.ji;return((null==(t=b[f])?void 0:t.includes(o))||(null==(a=b[j])?void 0:a.includes(c)))&&(r+=10,n.push("월덕귀인이 있어 인덕이 있습니다")),r=Math.max(0,Math.min(100,r)),{score:r,level:T(r),description:`천을귀인 궁합은 ${r}점입니다. ${r>=70?"귀인의 도움으로 순조로운 삶이 예상됩니다.":"스스로 노력하여 길을 개척해야 합니다."}`,factors:{positive:n,negative:l}}}(e,s),a=function(e,s){let t=70;const a=[],r=[],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],i=n.filter(e=>W.includes(e)).length,o=l.filter(e=>W.includes(e)).length;1===i&&1===o?(t+=20,a.push("적절한 도화로 서로에게만 매력을 느낍니다")):0===i&&0===o?(t+=10,a.push("도화가 없어 이성 문제가 적습니다")):i>=3||o>=3?(t-=30,r.push("도화가 과다하여 이성 문제로 갈등이 예상됩니다")):(i>=2&&0===o||0===i&&o>=2)&&(t-=20,r.push("도화 불균형으로 이성 문제가 생길 수 있습니다")),(W.includes(e.day.ji)||W.includes(s.day.ji))&&(W.includes(e.day.ji)&&W.includes(s.day.ji)?(t+=10,a.push("일지 도화로 서로에게 강한 매력을 느낍니다")):(t-=10,r.push("일지 도화 불균형으로 주의가 필요합니다")));const c=q(e,["정관","편관"]),d=q(s,["정관","편관"]);return(c>=3&&e.day.gan in{"을":1,"정":1,"기":1,"신":1,"계":1}||d>=3&&s.day.gan in{"을":1,"정":1,"기":1,"신":1,"계":1})&&(t-=15,r.push("관살혼잡으로 이성관계가 복잡할 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`도화살 영향은 ${t}점입니다. ${t>=70?"이성 문제 없이 안정적인 관계입니다.":"이성 관계에 특별한 주의가 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),r=function(e,s){let t=75;const a=[],r=[],n={"자":["술","해"],"축":["술","해"],"인":["자","축"],"묘":["자","축"],"진":["인","묘"],"사":["인","묘"],"오":["진","사"],"미":["진","사"],"신":["오","미"],"유":["오","미"],"술":["신","유"],"해":["신","유"]},l=e.year.ji,i=s.year.ji,o=n[l]||[],c=n[i]||[],d=[e.month.ji,e.day.ji,e.time.ji],m=[s.month.ji,s.day.ji,s.time.ji],g=d.some(e=>o.includes(e)),x=m.some(e=>c.includes(e));return g||x?g&&x?(t-=20,r.push("둘 다 공망이 있어 허무함을 느낄 수 있습니다")):(g||x)&&(t-=10,r.push("공망으로 인한 공허함을 이해해주어야 합니다")):(t+=15,a.push("공망이 없어 현실적이고 실속있는 관계입니다")),(o.includes(e.day.ji)||c.includes(s.day.ji))&&(t-=15,r.push("일지 공망으로 관계의 실속이 부족할 수 있습니다")),(o.includes(e.month.ji)||c.includes(s.month.ji))&&(t-=10,r.push("월지 공망으로 가족 관계에 어려움이 있을 수 있습니다")),g&&m.some(e=>o.includes(e))&&(t+=10,a.push("상대방이 공망을 채워줄 수 있습니다")),x&&d.some(e=>c.includes(e))&&(t+=10,a.push("서로의 공망을 채워주는 관계입니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`공망 분석은 ${t}점입니다. ${t>=70?"실속있고 충실한 관계입니다.":"공허함을 채우기 위한 노력이 필요합니다."}`,factors:{positive:a,negative:r}}}(e,s),n=function(e,s){let t=70;const a=[],r=[],n=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],l=[s.year.ji,s.month.ji,s.day.ji,s.time.ji],i=["인","신"],o=n.filter(e=>i.includes(e)).length,c=l.filter(e=>i.includes(e)).length;(o>=2||c>=2)&&(t-=10,r.push("백호살이 있어 충동적인 행동에 주의해야 합니다"));const d=["사","해"],m=n.filter(e=>d.includes(e)).length,g=l.filter(e=>d.includes(e)).length;(m>=2||g>=2)&&(t-=5,r.push("현침살이 있어 예민한 반응에 주의가 필요합니다"));const x={"갑":"사","을":"오","병":"신","정":"유","무":"신","기":"유","경":"해","신":"자","임":"인","계":"묘"},h=e.day.gan,u=s.day.gan;(n.includes(x[h])||l.includes(x[u]))&&(t+=10,a.push("문창귀인이 있어 학문과 예술에 재능이 있습니다"));const p={"갑":"묘","을":"진","병":"오","정":"미","무":"오","기":"미","경":"유","신":"술","임":"자","계":"축"};n.includes(p[h])&&l.includes(p[u])&&(t+=15,a.push("둘 다 장성살이 있어 서로를 발전시킵니다"));const y=["경진","임진","무술","경술"],b=e.day.gan+e.day.ji,f=s.day.gan+s.day.ji;(y.includes(b)||y.includes(f))&&(t-=10,r.push("괴강살이 있어 극단적인 성격에 주의가 필요합니다"));const j=["진","사"],v=["술","해"];return(n.some(e=>j.includes(e))&&l.some(e=>v.includes(e))||n.some(e=>v.includes(e))&&l.some(e=>j.includes(e)))&&(t-=15,r.push("천라지망이 형성되어 서로를 속박할 수 있습니다")),t=Math.max(0,Math.min(100,t)),{score:t,level:T(t),description:`신살 종합 점수는 ${t}점입니다. ${t>=70?"길신이 많아 순조로운 관계입니다.":"흉신의 영향을 주의해야 합니다."}`,factors:{positive:a,negative:r}}}(e,s),l=[t.score,a.score,r.score,n.score],i=Math.round(l.reduce((e,s)=>e+s,0)/l.length);let o="";return o=i>=80?"특수한 인연으로 맺어진 좋은 관계입니다.":i>=70?"길신이 많아 순조로운 관계가 예상됩니다.":i>=60?"일부 신살의 영향에 주의가 필요합니다.":"신살의 영향을 극복하기 위한 노력이 필요합니다.",{noblePerson:t,peachBlossom:a,emptiness:r,sinsal:n,averageScore:i,summary:o}}r.register(n,l,i,o,c,d);const U=({data:e})=>{const{theme:a}=g(),r="dark"===a,n=[],l=[],i=[{key:"firstImpression",label:"첫인상"},{key:"communication",label:"대화소통"},{key:"valueSystem",label:"가치관"},{key:"lifePattern",label:"생활패턴"},{key:"conflictResolution",label:"갈등해결"},{key:"emotional",label:"정서적"},{key:"trust",label:"신뢰도"}],o=[{key:"economic",label:"경제관념"},{key:"career",label:"직업운"},{key:"residence",label:"주거환경"},{key:"children",label:"자녀운"},{key:"inLaw",label:"시댁/처가"}],c=[{key:"sexual",label:"성적"},{key:"spiritual",label:"정신적"},{key:"hobby",label:"취미"},{key:"retirement",label:"노후"}],d=[{key:"noblePerson",label:"귀인운"},{key:"peachBlossom",label:"도화운"},{key:"emptiness",label:"공망"},{key:"sinsal",label:"신살"}];e.relationship&&i.forEach(s=>{const t=e.relationship[s.key];t&&"number"==typeof t.score&&(n.push(s.label),l.push(t.score))}),e.practical&&o.forEach(s=>{const t=e.practical[s.key];t&&"number"==typeof t.score&&(n.push(s.label),l.push(t.score))}),e.depth&&c.forEach(s=>{const t=e.depth[s.key];t&&"number"==typeof t.score&&(n.push(s.label),l.push(t.score))}),e.special&&d.forEach(s=>{const t=e.special[s.key];t&&"number"==typeof t.score&&(n.push(s.label),l.push(t.score))});const m={labels:n,datasets:[{label:"종합 궁합 점수",data:l,backgroundColor:"rgba(147, 51, 234, 0.2)",borderColor:"rgba(147, 51, 234, 1)",borderWidth:2,pointBackgroundColor:"rgba(147, 51, 234, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(147, 51, 234, 1)",pointRadius:4,pointHoverRadius:6}]},x={responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,min:0,ticks:{stepSize:20,color:r?"#9CA3AF":"#4B5563",backdropColor:"transparent",font:{size:10}},grid:{color:r?"rgba(156, 163, 175, 0.2)":"rgba(107, 114, 128, 0.2)",circular:!0},angleLines:{color:r?"rgba(156, 163, 175, 0.2)":"rgba(107, 114, 128, 0.2)"},pointLabels:{color:r?"#D1D5DB":"#374151",font:{size:11,weight:500},padding:15}}},plugins:{legend:{display:!0,position:"top",labels:{color:r?"#D1D5DB":"#374151",font:{size:12},padding:20}},tooltip:{enabled:!0,backgroundColor:r?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",titleColor:r?"#F3F4F6":"#111827",bodyColor:r?"#D1D5DB":"#4B5563",borderColor:r?"#4B5563":"#E5E7EB",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:e=>{const s=e.parsed.r;let t="매우좋음";return s<30?t="위험":s<50?t="주의":s<70?t="보통":s<85&&(t="좋음"),`${e.label}: ${s}점 (${t})`}}}},interaction:{intersect:!1,mode:"point"}};return s.jsx("div",{className:"w-full h-[600px] p-4",children:s.jsx(t,{data:m,options:x})})},V=()=>{const[t,r]=e.useState(null),[n,l]=e.useState(null),[i,o]=e.useState(null),[c,d]=e.useState(!1),[m,g]=e.useState(null),[j,k]=e.useState(null),S=async e=>e?await(async e=>{if(!e.birth_date||!e.birth_time)return null;try{let[s,t,a]=e.birth_date.split("-").map(Number);const[r,n]=e.birth_time.split(":").map(Number);if("lunar"===e.lunar_solar){const e=new h;e.setLunarDate(s,t,a,!1);const r=e.getSolarCalendar();s=r.year,t=r.month,a=r.day}const l=localStorage.getItem("personalInfo"),i=!!l&&JSON.parse(l).useTrueSolarTime,o=x(s,t,a,r,n||0,void 0,i),c={wood:20,fire:20,earth:20,metal:20,water:20};return{year:{gan:o.year[0],ji:o.year[1]},month:{gan:o.month[0],ji:o.month[1]},day:{gan:o.day[0],ji:o.day[1]},time:{gan:o.hour[0],ji:o.hour[1]},fullSaju:o.fullSaju,ohHaengBalance:c,dayMaster:o.day[0]}}catch(s){return null}})(e):null,C=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600";return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-900 dark:text-gray-100",children:"궁합 분석"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"첫 번째 사람"}),s.jsx(a,{onSelect:r,selectedCustomer:t}),t&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.birth_date," ",t.birth_time," (","lunar"===t.lunar_solar?"음력":"양력",")"]}),s.jsx("div",{className:"mt-3",children:s.jsx(y,{sajuString:null==m?void 0:m.fullSaju,size:"small",className:"bg-white dark:bg-gray-800 rounded-lg p-3"})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"두 번째 사람"}),s.jsx(a,{onSelect:l,selectedCustomer:n}),n&&s.jsxs("div",{className:"mt-4 p-4 bg-pink-50 dark:bg-pink-900/30 rounded-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.birth_date," ",n.birth_time," (","lunar"===n.lunar_solar?"음력":"양력",")"]}),s.jsx("div",{className:"mt-3",children:s.jsx(y,{sajuString:null==j?void 0:j.fullSaju,size:"small",className:"bg-white dark:bg-gray-800 rounded-lg p-3"})})]})]})]}),s.jsx("div",{className:"text-center mb-8",children:s.jsx("button",{onClick:async()=>{if(t&&n){d(!0);try{const e=await S(t),s=await S(n);if(!e||!s)return alert("정확한 사주 데이터를 계산할 수 없습니다. 고객 정보를 다시 확인해주세요."),void d(!1);g(e),k(s),setTimeout(()=>{const t=$(e,s),a=w(e,s),r=function(e,s){const t=e.day.gan,a=s.day.gan;let r=65;const n=[e.year.gan,e.month.gan,e.day.gan,e.time.gan],l=[s.year.gan,s.month.gan,s.day.gan,s.time.gan];let i=0,o=0;for(const c of n){const e=N(t,c);"정재"!==e&&"편재"!==e||i++}for(const c of l){const e=N(a,c);"정재"!==e&&"편재"!==e||o++}return i>0&&i<=2&&(r+=10),o>0&&o<=2&&(r+=10),i>2&&o>2&&(r-=15),Math.max(0,Math.min(100,r))}(e,s),n=function(e,s){const t=e.ohHaengBalance||{},a=s.ohHaengBalance||{};let r=70;const n=["목","화","토","금","수"];for(const l of n){const e=(t[l]+a[l])/2;e>=15&&e<=25&&(r+=4)}for(const l of n){const e=b.상생[l];t[l]>15&&a[e]>15&&(r+=3)}return Math.max(0,Math.min(100,r))}(e,s),l=function(e,s){const t=[e.year.ji,e.month.ji,e.day.ji,e.time.ji],a=[s.year.ji,s.month.ji,s.day.ji,s.time.ji];let r=60;const n=[...t,...a];for(const l of Object.keys(f)){const e=l.split("").filter(e=>n.includes(e)).length;3===e?r+=20:2===e&&(r+=10)}for(const l of v)t.includes(l[0])&&a.includes(l[1])&&(r-=8);return Math.max(0,Math.min(100,r))}(e,s),i=[{name:"성격 궁합",score:t,description:"성격과 가치관의 조화 (십신/오행 분석)"},{name:"애정 궁합",score:a,description:"감정과 애정 표현의 조화 (지지관계/음양조화)"},{name:"재물 궁합",score:r,description:"경제관념과 재물운의 조화 (재성 분석)"},{name:"건강 궁합",score:n,description:"체질과 건강 에너지의 조화 (오행 균형)"},{name:"미래 궁합",score:l,description:"인생 방향과 목표의 조화 (삼합/육합)"}],c=Math.round(i.reduce((e,s)=>e+s.score,0)/i.length),m=_(e,s),g=F(e,s),x=K(e,s),h=Q(e,s);o({totalScore:c,categories:i,advice:M(c,i),detailedAnalysis:{relationship:m,practical:g,depth:x,special:h}}),d(!1)},1e3)}catch(e){alert("궁합 계산 중 오류가 발생했습니다. 다시 시도해주세요."),d(!1)}}},disabled:!t||!n||c,className:"px-8 py-3 rounded-lg font-semibold transition-colors "+(t&&n&&!c?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:c?"분석 중...":"궁합 분석하기"})}),i&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:[null==t?void 0:t.name," ♥ ",null==n?void 0:n.name," 궁합 결과"]}),((null==m?void 0:m.fullSaju)||(null==j?void 0:j.fullSaju))&&s.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-pink-50 dark:from-blue-900/20 dark:to-pink-900/20 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"사주팔자 비교"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium mb-2 text-blue-800 dark:text-blue-200",children:null==t?void 0:t.name}),s.jsx(y,{sajuString:null==m?void 0:m.fullSaju,size:"medium",className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium mb-2 text-pink-800 dark:text-pink-200",children:null==n?void 0:n.name}),s.jsx(y,{sajuString:null==j?void 0:j.fullSaju,size:"medium",className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"})]})]})]}),s.jsxs("div",{className:`text-6xl font-bold ${C(i.totalScore)}`,children:[i.totalScore,"점"]}),s.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-gray-300",children:i.advice})]}),s.jsxs("div",{className:"mb-8 bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-900 dark:text-gray-100",children:"궁합 분석 차트"}),s.jsx(u,{data:{categories:i.categories,person1Name:(null==t?void 0:t.name)||"",person2Name:(null==n?void 0:n.name)||""}})]}),i.detailedAnalysis&&s.jsxs("div",{className:"mb-8 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-900 dark:text-gray-100",children:"🌟 20개 항목 종합 궁합 차트"}),s.jsx(U,{data:{relationship:i.detailedAnalysis.relationship,practical:i.detailedAnalysis.practical,depth:i.detailedAnalysis.depth,special:i.detailedAnalysis.special}})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.categories.map((e,t)=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),s.jsxs("span",{className:`font-bold ${C(e.score)}`,children:[Math.round(e.score),"점"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mb-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(e.score>=80?"bg-green-500":e.score>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${e.score}%`}})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},t))}),s.jsxs("div",{className:"mt-8 p-6 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"💡 궁합 개선 팁"}),s.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[s.jsx("li",{children:"• 서로의 차이를 인정하고 존중하세요"}),s.jsx("li",{children:"• 대화를 통해 서로를 이해하려 노력하세요"}),s.jsx("li",{children:"• 공통의 취미나 관심사를 찾아보세요"}),s.jsx("li",{children:"• 감사하는 마음을 자주 표현하세요"})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"📊 분석 기준"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsx("li",{children:"• 십신(十神) 관계 분석"}),s.jsx("li",{children:"• 오행 상생상극 체크"}),s.jsx("li",{children:"• 지지 삼합/육합/충 분석"}),s.jsx("li",{children:"• 음양 조화도 계산"})]})]}),s.jsxs("div",{className:"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"🎯 핵심 포인트"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsx("li",{children:"• 일간의 음양 조화"}),s.jsx("li",{children:"• 오행 균형 보완 관계"}),s.jsx("li",{children:"• 재성/관성 분포"}),s.jsx("li",{children:"• 미래 발전 가능성"})]})]})]}),i.detailedAnalysis&&s.jsx(p,{relationshipAnalysis:i.detailedAnalysis.relationship,practicalAnalysis:i.detailedAnalysis.practical,depthAnalysis:i.detailedAnalysis.depth,specialAnalysis:i.detailedAnalysis.special})]})]})};export{V as CompatibilityPage};
