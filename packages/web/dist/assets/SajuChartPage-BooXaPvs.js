import{r as e,j as a,D as t,m as r,n as s,e as i}from"./react-vendor-BqNk2DgB.js";import{u as n}from"./sajuSettingsStore-Btb3FM7R.js";import{I as o,c as l,B as c}from"./BirthInfoHeader-DjgGSw5u.js";import{C as d,A as m,p as h,a as g,b as u,c as x,d as y,e as p,f as b,P as j,g as f,i as v}from"./chart-vendor-DwU5C6A5.js";import{i as k}from"./index-DlHBBt9Z.js";import{C as N}from"./chartStyleUtils-CydmOjwm.js";import"./vendor-DgwlXjR1.js";import"./three-vendor-B4pyqsGd.js";import"./accurateSajuCalculator-Ch7eb-v_.js";import"./ui-vendor-Bq31Dxb8.js";import"./document-vendor-kJlPqfgG.js";import"./calendar-vendor-Bhba01pF.js";class w{static analyzeFromSaju(e){const{fiveElements:a}=e;return{wood:a.wood||0,fire:a.fire||0,earth:a.earth||0,metal:a.metal||0,water:a.water||0}}static analyzeElementRelationships(e){const a=e.wood+e.fire+e.earth+e.metal+e.water,t={wood_fire:Math.min(e.wood*e.fire/100,100),fire_earth:Math.min(e.fire*e.earth/100,100),earth_metal:Math.min(e.earth*e.metal/100,100),metal_water:Math.min(e.metal*e.water/100,100),water_wood:Math.min(e.water*e.wood/100,100)},r={wood_earth:Math.min(e.wood*e.earth/100,100),fire_metal:Math.min(e.fire*e.metal/100,100),earth_water:Math.min(e.earth*e.water/100,100),metal_wood:Math.min(e.metal*e.wood/100,100),water_fire:Math.min(e.water*e.fire/100,100)},s=Object.values(e),i=a/5,n=s.reduce((e,a)=>e+Math.pow(a-i,2),0)/5,o=Math.max(0,100-n),l=[],c=[],d=[];return Object.entries(e).forEach(([e,t])=>{const r=t/a;r>.3?l.push(e):r<.1&&c.push(e),0===t&&d.push(e)}),{mutual_generation:t,mutual_destruction:r,balance_score:o,dominant_elements:l,weak_elements:c,missing_elements:d}}static generateRecommendations(e,a){return{colors:this.getColorRecommendations(e),directions:this.getDirectionRecommendations(e),activities:this.getActivityRecommendations(e),lifestyle:this.getLifestyleRecommendations(e)}}static getElementDetails(){return{wood:{name:"Wood",korean:"Î™©(Êú®)",icon:"üå≥",color:{primary:"#10B981",secondary:"#34D399",background:"#ECFDF5"},characteristics:{positive:["Ï∞ΩÏùòÏÑ±","ÏÑ±Ïû•Î†•","Ïú†Ïó∞ÏÑ±","ÏßÑÏ∑®ÏÑ±"],negative:["ÏÑ±Í∏âÌï®","Î≥ÄÎçï","Ïö∞Ïú†Î∂ÄÎã®","Í≥ºÎèÑÌïú Ïù¥ÏÉÅÏ£ºÏùò"]},season:"Î¥Ñ",direction:"ÎèôÏ™Ω",body_parts:["Í∞Ñ","Îã¥","Îàà","Í∑ºÏú°"],emotions:["Î∂ÑÎÖ∏","ÏßúÏ¶ù","Ï¢åÏ†àÍ∞ê"]},fire:{name:"Fire",korean:"Ìôî(ÁÅ´)",icon:"üî•",color:{primary:"#EF4444",secondary:"#F87171",background:"#FEF2F2"},characteristics:{positive:["Ïó¥Ï†ï","ÌôúÎ†•","Î¶¨ÎçîÏã≠","ÌëúÌòÑÎ†•"],negative:["ÏÑ±Í∏âÌï®","Ï∂©ÎèôÏÑ±","Í≥ºÏó¥","ÏÜåÏßÑ"]},season:"Ïó¨Î¶Ñ",direction:"ÎÇ®Ï™Ω",body_parts:["Ïã¨Ïû•","ÏÜåÏû•","ÌòÄ","ÌòàÍ¥Ä"],emotions:["Í∏∞ÏÅ®","Ìù•Î∂Ñ","Ï°∞Í∏âÌï®"]},earth:{name:"Earth",korean:"ÌÜ†(Âúü)",icon:"üèîÔ∏è",color:{primary:"#A16207",secondary:"#D97706",background:"#FFFBEB"},characteristics:{positive:["ÏïàÏ†ïÏÑ±","Ïã†Î¢∞ÏÑ±","Ìè¨Ïö©Î†•","Ïù∏ÎÇ¥Î†•"],negative:["Í≥†Ïßë","Î≥¥ÏàòÏÑ±","ÎäêÎ¶º","Í±±Ï†ï"]},season:"Îä¶Ïó¨Î¶Ñ",direction:"Ï§ëÏïô",body_parts:["ÎπÑÏû•","ÏúÑ","ÏûÖ","ÏÇ¥"],emotions:["Í±±Ï†ï","Ïö∞Î†§","ÏÇ¨Î†§ÍπäÏùå"]},metal:{name:"Metal",korean:"Í∏à(Èáë)",icon:"‚ö°",color:{primary:"#FCD34D",secondary:"#FDE047",background:"#FEFCE8"},characteristics:{positive:["Ï†ïÏùòÍ∞ê","ÏõêÏπôÏÑ±","ÏôÑÍ≤∞Î†•","ÎÖºÎ¶¨ÏÑ±"],negative:["Í≤ΩÏßÅÏÑ±","ÎÉâÏ†ïÌï®","ÎπÑÌåêÏ†Å","ÏôÑÎ≤ΩÏ£ºÏùò"]},season:"Í∞ÄÏùÑ",direction:"ÏÑúÏ™Ω",body_parts:["Ìèê","ÎåÄÏû•","ÏΩî","ÌîºÎ∂Ä"],emotions:["Ïä¨Ìîî","Ïö∞Ïö∏","ÏïÑÏâ¨ÏõÄ"]},water:{name:"Water",korean:"Ïàò(Ê∞¥)",icon:"üíß",color:{primary:"#3B82F6",secondary:"#60A5FA",background:"#EFF6FF"},characteristics:{positive:["ÏßÄÌòú","ÏúµÌÜµÏÑ±","Ï†ÅÏùëÎ†•","ÏßÅÍ¥ÄÎ†•"],negative:["Ïö∞Ïú†Î∂ÄÎã®","ÏÜåÍ∑πÏÑ±","ÎÉâÎã¥","Î≥ÄÎçï"]},season:"Í≤®Ïö∏",direction:"Î∂ÅÏ™Ω",body_parts:["Ïã†Ïû•","Î∞©Í¥ë","Í∑Ä","Îºà"],emotions:["ÎëêÎ†§ÏõÄ","Î∂àÏïà","Ïã†Ï§ëÌï®"]}}}static getColorRecommendations(e){const a=Object.entries(e).sort(([,e],[,a])=>e-a)[0][0],t=Object.entries(e).sort(([,e],[,a])=>a-e)[0][0],r={wood:{color:"Ï¥àÎ°ùÏÉâ",hex:"#10B981",effect:"ÏÑ±Ïû•Í≥º Ï∞ΩÏùòÏÑ± Ï¶ùÏßÑ"},fire:{color:"Îπ®Í∞ÑÏÉâ",hex:"#EF4444",effect:"ÌôúÎ†•Í≥º Ïó¥Ï†ï Ï¶ùÏßÑ"},earth:{color:"Í∞àÏÉâ",hex:"#A16207",effect:"ÏïàÏ†ïÏÑ±Í≥º Ïã†Î¢∞ÏÑ± Ï¶ùÏßÑ"},metal:{color:"Í∏àÏÉâ",hex:"#FCD34D",effect:"ÎÖºÎ¶¨ÏÑ±Í≥º ÏôÑÍ≤∞Î†• Ï¶ùÏßÑ"},water:{color:"ÌååÎûÄÏÉâ",hex:"#3B82F6",effect:"ÏßÄÌòúÏôÄ Ï†ÅÏùëÎ†• Ï¶ùÏßÑ"}};return{beneficial:[{name:r[a].color,hex:r[a].hex,description:`Î∂ÄÏ°±Ìïú ${a} Ïò§ÌñâÏùÑ Î≥¥ÏôÑÌïòÏó¨ ${r[a].effect}`}],avoid:[{name:r[t].color,hex:r[t].hex,reason:`Í≥ºÎèÑÌïú ${t} Ïò§ÌñâÏùÑ ÎçîÏö± Í∞ïÌôîÏãúÏºú Î∂àÍ∑†Ìòï Ï¥àÎûò`}]}}static getDirectionRecommendations(e){const a=Object.entries(e).sort(([,e],[,a])=>e-a)[0][0];return{beneficial:[{direction:{wood:"ÎèôÏ™Ω",fire:"ÎÇ®Ï™Ω",earth:"Ï§ëÏïô",metal:"ÏÑúÏ™Ω",water:"Î∂ÅÏ™Ω"}[a],element:a,benefit:`Î∂ÄÏ°±Ìïú ${a} Ïò§Ìñâ ÏóêÎÑàÏßÄ Î≥¥Ï∂©`}],avoid:[]}}static getActivityRecommendations(e){return{beneficial:[{activity:"ÏÇ∞Ï±Ö, ÏõêÏòà",element:"wood",effect:"Î™© Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú Ï∞ΩÏùòÏÑ± Ï¶ùÏßÑ"},{activity:"Ïö¥Îèô, ÏÇ¨ÍµêÌôúÎèô",element:"fire",effect:"Ìôî Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÌôúÎ†• Ï¶ùÏßÑ"},{activity:"Î™ÖÏÉÅ, ÏöîÍ∞Ä",element:"earth",effect:"ÌÜ† Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÏïàÏ†ïÏÑ± Ï¶ùÏßÑ"},{activity:"ÎèÖÏÑú, ÌïôÏäµ",element:"metal",effect:"Í∏à Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÎÖºÎ¶¨ÏÑ± Ï¶ùÏßÑ"},{activity:"ÏàòÏòÅ, ÏùåÏïÖÍ∞êÏÉÅ",element:"water",effect:"Ïàò Ïò§Ìñâ Î≥¥Ï∂©ÏúºÎ°ú ÏßÄÌòú Ï¶ùÏßÑ"}],avoid:[]}}static getLifestyleRecommendations(e){return{diet:[{food:"ÎÖπÏÉâ Ï±ÑÏÜå",element:"wood",benefit:"Í∞Ñ Í±¥Í∞ïÍ≥º Ìï¥ÎèÖ Í∏∞Îä• Í∞ïÌôî"},{food:"Î∂âÏùÄ Í≥ºÏùº",element:"fire",benefit:"Ïã¨Ïû• Í±¥Í∞ïÍ≥º ÏàúÌôò Í∏∞Îä• Í∞ïÌôî"},{food:"Í≥°Î¨ºÎ•ò",element:"earth",benefit:"ÏÜåÌôî Í∏∞Îä•Í≥º ÏòÅÏñë Ìù°Ïàò Í∞ïÌôî"},{food:"Í≤¨Í≥ºÎ•ò",element:"metal",benefit:"Ìèê Í∏∞Îä•Í≥º Î©¥Ïó≠Î†• Í∞ïÌôî"},{food:"Ìï¥ÏÇ∞Î¨º",element:"water",benefit:"Ïã†Ïû• Í∏∞Îä•Í≥º ÏàòÎ∂Ñ ÎåÄÏÇ¨ Í∞ïÌôî"}],exercise:[{type:"Ïä§Ìä∏Î†àÏπ≠",element:"wood",effect:"Ïú†Ïó∞ÏÑ±Í≥º ÏàúÌôò Í∞úÏÑ†"},{type:"Ïú†ÏÇ∞ÏÜå Ïö¥Îèô",element:"fire",effect:"Ïã¨Ìèê Í∏∞Îä•Í≥º ÌôúÎ†• Ï¶ùÏßÑ"},{type:"Í∑ºÎ†• Ïö¥Îèô",element:"earth",effect:"Í∑ºÏú°ÎüâÍ≥º Í∏∞Ï¥àÎåÄÏÇ¨ Ï¶ùÏßÑ"},{type:"Ìò∏Ìù° Ïö¥Îèô",element:"metal",effect:"ÌèêÌôúÎüâÍ≥º ÏßëÏ§ëÎ†• Ï¶ùÏßÑ"},{type:"ÏàòÏòÅ",element:"water",effect:"Ï†ÑÏã† ÏàúÌôòÍ≥º Ïú†Ïó∞ÏÑ± Ï¶ùÏßÑ"}],career:[{field:"ÏòàÏà†, ÎîîÏûêÏù∏",element:"wood",aptitude:"Ï∞ΩÏùòÏÑ±Í≥º ÎØ∏Ï†Å Í∞êÍ∞Å ÌôúÏö©"},{field:"ÏòÅÏóÖ, ÎßàÏºÄÌåÖ",element:"fire",aptitude:"ÏÜåÌÜµÎä•Î†•Í≥º Ï∂îÏßÑÎ†• ÌôúÏö©"},{field:"Í¥ÄÎ¶¨, ÏÑúÎπÑÏä§",element:"earth",aptitude:"Ïã†Î¢∞ÏÑ±Í≥º Ï±ÖÏûÑÍ∞ê ÌôúÏö©"},{field:"Î∂ÑÏÑù, Ïó∞Íµ¨",element:"metal",aptitude:"ÎÖºÎ¶¨ÏÑ±Í≥º Ï≤¥Í≥ÑÏÑ± ÌôúÏö©"},{field:"ÏÉÅÎã¥, ÍµêÏú°",element:"water",aptitude:"ÏßÄÌòúÏôÄ Ìè¨Ïö©Î†• ÌôúÏö©"}]}}static generateChartData(e){const a=this.getElementDetails();return{labels:Object.keys(e).map(e=>a[e].korean),datasets:[{data:Object.values(e),backgroundColor:Object.keys(e).map(e=>a[e].color.primary),borderColor:Object.keys(e).map(e=>a[e].color.secondary),borderWidth:2,hoverOffset:10}]}}}d.register(m,h,g);const F=({sajuData:r,height:s=350,className:i="",showLegend:n=!0,showTooltips:l=!0})=>{const[c,d]=e.useState(null),[m,h]=e.useState(!1),[g,u]=e.useState(null),x=e.useMemo(()=>w.analyzeFromSaju(r),[r]),y=e.useMemo(()=>w.analyzeElementRelationships(x),[x]),p=e.useMemo(()=>w.generateRecommendations(x,y),[x,y]),b=e.useMemo(()=>w.getElementDetails(),[]);e.useEffect(()=>{(async()=>{if(r){h(!0),u(null);try{const e=await k.getComprehensiveInterpretation(r);d(e)}catch(e){u("Ìï¥ÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{h(!1)}}})()},[r]);const j=e.useMemo(()=>w.generateChartData(x),[x]),f=e.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:n,position:"right",labels:{font:{family:"Noto Sans KR, sans-serif",size:12},padding:15,usePointStyle:!0,pointStyle:"circle",generateLabels:e=>{var a;const t=e.data.datasets;if(t.length>0){const r=t[0];return(null==(a=e.data.labels)?void 0:a.map((e,a)=>{const t=r.data[a],s=r.data.reduce((e,a)=>e+a,0);return{text:`${e} (${s>0?(t/s*100).toFixed(1):"0.0"}%)`,fillStyle:(Array.isArray(r.backgroundColor)?r.backgroundColor[a]:r.backgroundColor)||"#000",strokeStyle:(Array.isArray(r.borderColor)?r.borderColor[a]:r.borderColor)||"#000",lineWidth:2,hidden:!1,index:a}}))||[]}return[]}}},tooltip:{enabled:l,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{label(e){const a=e.label||"",t=e.parsed,r=e.dataset.data.reduce((e,a)=>e+a,0),s=r>0?(t/r*100).toFixed(1):"0.0",i=Object.keys(x)[e.dataIndex];return[`${a}: ${t}Ï†ê (${s}%)`,`ÌäπÏÑ±: ${b[i].characteristics.positive.join(", ")}`]}}}},cutout:"50%",animation:{animateRotate:!0,animateScale:!0,duration:1e3}}),[n,l,x,b]),v=(()=>{const e=y.balance_score;return e>=80?{status:"Îß§Ïö∞ Í∑†Ìòï",color:"text-green-600",icon:"üü¢"}:e>=60?{status:"Í∑†Ìòï ÏñëÌò∏",color:"text-blue-600",icon:"üîµ"}:e>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600",icon:"üü°"}:{status:"Î∂àÍ∑†Ìòï",color:"text-red-600",icon:"üî¥"}})();return Object.values(x).some(e=>e>0)?a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${i}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"üéØ Ïò§Ìñâ Í∑†ÌòïÎèÑ"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Î™©, Ìôî, ÌÜ†, Í∏à, Ïàò Îã§ÏÑØ ÏöîÏÜåÏùò Ï°∞Ìôî ÏÉÅÌÉú"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${v.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:v.icon}),v.status]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Í∑†ÌòïÏ†êÏàò: ",y.balance_score.toFixed(0),"Ï†ê"]})]})]}),a.jsxs("div",{className:"relative mb-6",style:{height:s-150},children:[a.jsx(t,{data:j,options:f}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:y.balance_score.toFixed(0)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Í∑†ÌòïÏ†êÏàò"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"üí™ Í∞ïÌïú Ïò§Ìñâ"}),y.dominant_elements.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300",children:y.dominant_elements.map(e=>b[e].korean).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-red-800 dark:text-red-200 mb-1",children:"‚ö†Ô∏è ÏïΩÌïú Ïò§Ìñâ"}),y.weak_elements.length>0?a.jsx("div",{className:"text-red-700 dark:text-red-300",children:y.weak_elements.map(e=>b[e].korean).join(", ")}):a.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs",children:"ÌäπÎ≥ÑÌûà ÏïΩÌïú ÏöîÏÜå ÏóÜÏùå"})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"üé® Ï∂îÏ≤ú ÏÉâÏÉÅ"}),p.colors.beneficial.length>0?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:p.colors.beneficial[0].hex}}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 text-xs",children:p.colors.beneficial[0].name})]}):a.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs",children:"Í∑†Ìòï Ïú†ÏßÄ"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(o,{interpretation:c,loading:m,error:g,category:"basic"})})]}):a.jsx("div",{className:`flex items-center justify-center ${i}`,style:{height:s},children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üìä"}),a.jsx("div",{className:"text-lg font-medium",children:"Ïò§Ìñâ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})})},E={bijeon:{name:"Bijeon",koreanName:"ÎπÑÍ≤¨",hanja:"ÊØîËÇ©",category:"self",icon:"ü§ù",color:{primary:"#6366F1",secondary:"#818CF8",background:"#EEF2FF"},keywords:["ÏûêÏïÑ","ÎèôÎì±","ÌòëÎ†•","ÏûêÏ°¥Ïã¨"],positiveTraits:["ÌòëÎèôÏÑ±","ÎèôÎ£åÏï†","Í≥µÏ†ïÌï®","Í∑†ÌòïÍ∞êÍ∞Å"],negativeTraits:["Í≥†Ïßë","Í≤ΩÏßÅÏÑ±","ÎπÑÌÉÄÌòëÏ†Å","ÏûêÍ∏∞Ï§ëÏã¨Ï†Å"],description:"ÏûêÏïÑÏôÄ ÎèôÎì±Ìïú Í∏∞Ïö¥ÏúºÎ°ú ÌòëÎ†•Í≥º Í≤ΩÏüÅÏùÑ ÎÇòÌÉÄÎÉÑ",roles:["ÌåÄÏõåÌÅ¨","ÎèôÎ£åÍ¥ÄÍ≥Ñ","ÏûêÏïÑÏã§ÌòÑ","Í≥µÏ†ïÌïú Í≤ΩÏüÅ"]},geopjae:{name:"Geopjae",koreanName:"Í≤ÅÏû¨",hanja:"Âä´Ë≤°",category:"self",icon:"‚ö°",color:{primary:"#8B5CF6",secondary:"#A78BFA",background:"#F3F4F6"},keywords:["Í≤ΩÏüÅ","ÎèÑÏ†Ñ","Î≥ÄÌôî","Ìà¨ÏüÅ"],positiveTraits:["ÎèÑÏ†ÑÏ†ïÏã†","Î≥ÄÌôîÏ†ÅÏùë","Ï∂îÏßÑÎ†•","Í∞úÏ≤ôÏ†ïÏã†"],negativeTraits:["ÏÑ±Í∏âÌï®","Ï∂©ÎèôÏÑ±","ÌååÍ¥¥ÏÑ±","Î∂àÏïàÏ†ï"],description:"Ïû¨Î¨ºÏùÑ ÎπºÏïóÎäî Í∏∞Ïö¥ÏúºÎ°ú Í≤ΩÏüÅÍ≥º ÎèÑÏ†ÑÏùÑ ÏùòÎØ∏",roles:["ÌòÅÏã†","Î≥ÄÌôîÏ£ºÎèÑ","Í≤ΩÏüÅÎ†•","ÏúÑÍ∏∞ÎåÄÏùë"]},siksin:{name:"Siksin",koreanName:"ÏãùÏã†",hanja:"È£üÁ•û",category:"expression",icon:"üé®",color:{primary:"#10B981",secondary:"#34D399",background:"#ECFDF5"},keywords:["ÌëúÌòÑ","Ïû¨Îä•","Ï¶êÍ±∞ÏõÄ","Ï∞ΩÏûë"],positiveTraits:["Ïû¨Îä•","ÌëúÌòÑÎ†•","Ïú†ÏæåÌï®","Ï∞ΩÏùòÏÑ±"],negativeTraits:["Î∞©ÎßåÌï®","ÏïàÏùºÌï®","ÌòÑÏã§ÎèÑÌîº","ÏùòÏ°¥ÏÑ±"],description:"ÏùºÍ∞ÑÏù¥ ÏÉùÌïòÎäî Í∏∞Ïö¥ÏúºÎ°ú Ïû¨Îä•Í≥º ÌëúÌòÑÎ†•ÏùÑ ÎÇòÌÉÄÎÉÑ",roles:["ÏòàÏà†","Ï∞ΩÏûë","ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏","ÏÑúÎπÑÏä§"]},sanggwan:{name:"Sanggwan",koreanName:"ÏÉÅÍ¥Ä",hanja:"ÂÇ∑ÂÆò",category:"expression",icon:"üöÄ",color:{primary:"#F59E0B",secondary:"#FBBF24",background:"#FFFBEB"},keywords:["Ï∞ΩÏ°∞","Î∞òÌï≠","ÌòÅÏã†","ÎπÑÌåê"],positiveTraits:["Ï∞ΩÏ°∞Î†•","ÌòÅÏã†ÏÑ±","ÎèÖÏ∞ΩÏÑ±","ÏòàÏà†ÏÑ±"],negativeTraits:["Î∞òÌï≠ÏÑ±","ÎπÑÌåêÏ†Å","Î∂àÏïàÏ†ï","Í∑πÎã®Ï†Å"],description:"Í¥ÄÏùÑ ÏÉÅÌïòÍ≤å ÌïòÎäî Í∏∞Ïö¥ÏúºÎ°ú Ï∞ΩÏ°∞ÏôÄ ÌòÅÏã†ÏùÑ ÏùòÎØ∏",roles:["ÌòÅÏã†","Ï∞ΩÏóÖ","ÏòàÏà†","ÎπÑÌåê"]},pyeonjae:{name:"Pyeonjae",koreanName:"Ìé∏Ïû¨",hanja:"ÂÅèË≤°",category:"wealth",icon:"üí∞",color:{primary:"#EF4444",secondary:"#F87171",background:"#FEF2F2"},keywords:["ÌôúÎèô","ÏÇ¨Íµê","Ïú†Îèô","Í∏∞Ìöå"],positiveTraits:["ÏÇ¨ÍµêÏÑ±","ÌôúÎèôÎ†•","Í∏∞ÌöåÌè¨Ï∞©","Ïú†Ïó∞ÏÑ±"],negativeTraits:["ÏÇ∞ÎßåÌï®","Î∂àÏïàÏ†ï","Ìà¨Í∏∞ÏÑ±","ÎÇ≠ÎπÑ"],description:"ÏùºÍ∞ÑÏù¥ Í∑πÌïòÎäî ÎèôÏÑ± Ïû¨Î¨ºÎ°ú ÌôúÎèôÏ†Å Ïû¨Î¨ºÏùÑ ÏùòÎØ∏",roles:["ÏòÅÏóÖ","ÏÇ¨Íµê","ÏÑúÎπÑÏä§","Ïú†ÌÜµ"]},jeongjae:{name:"Jeongjae",koreanName:"Ï†ïÏû¨",hanja:"Ê≠£Ë≤°",category:"wealth",icon:"üè¶",color:{primary:"#DC2626",secondary:"#EF4444",background:"#FEF2F2"},keywords:["Í∑ºÎ©¥","Ï†àÏïΩ","ÏïàÏ†ï","Ï∂ïÏ†Å"],positiveTraits:["Í∑ºÎ©¥ÏÑ±","Ï†àÏïΩÏ†ïÏã†","Í≥ÑÌöçÏÑ±","ÏïàÏ†ïÏÑ±"],negativeTraits:["Î≥¥ÏàòÏÑ±","ÏÜåÏã¨Ìï®","Í≤ΩÏßÅÏÑ±","Î¨ºÏßàÏ£ºÏùò"],description:"ÏùºÍ∞ÑÏù¥ Í∑πÌïòÎäî Ïù¥ÏÑ± Ïû¨Î¨ºÎ°ú Ï†ïÎãπÌïú Ïû¨Î¨ºÏùÑ ÏùòÎØ∏",roles:["Í¥ÄÎ¶¨","ÌöåÍ≥Ñ","Ï†ÄÏ∂ï","Ìà¨Ïûê"]},pyeongwan:{name:"Pyeongwan",koreanName:"Ìé∏Í¥Ä",hanja:"ÂÅèÂÆò",category:"authority",icon:"‚öîÔ∏è",color:{primary:"#7C2D12",secondary:"#A16207",background:"#FEF3C7"},keywords:["Í∞úÏ≤ô","Î™®Ìóò","Í∂åÎ†•","ÏïïÎ∞ï"],positiveTraits:["Í∞úÏ≤ôÏ†ïÏã†","Ï∂îÏßÑÎ†•","Í≤∞Îã®Î†•","Î¶¨ÎçîÏã≠"],negativeTraits:["ÎèÖÏÑ†Ï†Å","Í∂åÏúÑÏ†Å","ÏÑ±Í∏âÌï®","Í∞ïÏïïÏ†Å"],description:"ÏùºÍ∞ÑÏùÑ Í∑πÌïòÎäî ÎèôÏÑ± Í¥ÄÏÑ±ÏúºÎ°ú Í∞úÏ≤ôÍ≥º Í∂åÎ†•ÏùÑ ÏùòÎØ∏",roles:["Í∞úÏ≤ô","Í≤ΩÏòÅ","Íµ∞ÏÇ¨","ÌòÅÏã†"]},jeonggwan:{name:"Jeonggwan",koreanName:"Ï†ïÍ¥Ä",hanja:"Ê≠£ÂÆò",category:"authority",icon:"üëë",color:{primary:"#92400E",secondary:"#D97706",background:"#FEF3C7"},keywords:["Î™ÖÏòà","Í∂åÏúÑ","ÏßàÏÑú","Ï±ÖÏûÑ"],positiveTraits:["Ï±ÖÏûÑÍ∞ê","Ïã†Î¢∞ÏÑ±","ÌíàÍ≤©","Î¶¨ÎçîÏã≠"],negativeTraits:["Î≥¥ÏàòÏÑ±","ÌòïÏãùÏ†Å","Í∂åÏúÑÏùòÏ°¥","ÏÜåÍ∑πÏÑ±"],description:"ÏùºÍ∞ÑÏùÑ Í∑πÌïòÎäî Ïù¥ÏÑ± Í¥ÄÏÑ±ÏúºÎ°ú Î™ÖÏòàÏôÄ Í∂åÏúÑÎ•º ÏùòÎØ∏",roles:["Í¥ÄÎ¶¨","ÌñâÏ†ï","ÍµêÏú°","ÏÉÅÎã¥"]},pyeongin:{name:"Pyeongin",koreanName:"Ìé∏Ïù∏",hanja:"ÂÅèÂç∞",category:"support",icon:"üîÆ",color:{primary:"#3B82F6",secondary:"#60A5FA",background:"#EFF6FF"},keywords:["ÏßÅÍ∞ê","ÎèÖÏ∞Ω","Ïã†ÎπÑ","ÌäπÎ≥ÑÌï®"],positiveTraits:["ÏßÅÍ∞êÎ†•","ÎèÖÏ∞ΩÏÑ±","Ïã†ÎπÑÏÑ±","ÌäπÎ≥ÑÌï®"],negativeTraits:["Ïô∏Î°úÏõÄ","ÎπÑÌòÑÏã§Ï†Å","Î≥ÄÎçï","ÍπåÎã§Î°úÏõÄ"],description:"ÏùºÍ∞ÑÏùÑ ÏÉùÌïòÎäî ÎèôÏÑ± Ïù∏ÏÑ±ÏúºÎ°ú ÏßÅÍ∞êÍ≥º ÎèÖÏ∞ΩÏÑ±ÏùÑ ÏùòÎØ∏",roles:["Ïó∞Íµ¨","Ï∞ΩÏûë","ÏÉÅÎã¥","ÏπòÎ£å"]},jeongin:{name:"Jeongin",koreanName:"Ï†ïÏù∏",hanja:"Ê≠£Âç∞",category:"support",icon:"üìö",color:{primary:"#1D4ED8",secondary:"#3B82F6",background:"#EFF6FF"},keywords:["ÌïôÏäµ","Î≥¥Ìò∏","ÏßÄÌòú","Ïù∏Îçï"],positiveTraits:["ÌïôÏäµÎ†•","Ïù∏Îçï","Î≥¥Ìò∏Î≥∏Îä•","ÏßÄÌòú"],negativeTraits:["ÏùòÏ°¥ÏÑ±","ÏÜåÍ∑πÏÑ±","ÌòÑÏã§ÎèÑÌîº","Í≤åÏúºÎ¶Ñ"],description:"ÏùºÍ∞ÑÏùÑ ÏÉùÌïòÎäî Ïù¥ÏÑ± Ïù∏ÏÑ±ÏúºÎ°ú ÌïôÏäµÍ≥º Î≥¥Ìò∏Î•º ÏùòÎØ∏",roles:["ÍµêÏú°","ÌïôÏäµ","ÏÉÅÎã¥","Î≥¥Ïú°"]}},C={self:{name:"ÏûêÏïÑÏÑ±",description:"ÏûêÏïÑÏôÄ Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["bijeon","geopjae"]},expression:{name:"ÌëúÌòÑÏÑ±",description:"Ïû¨Îä•Í≥º ÌëúÌòÑÏóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["siksin","sanggwan"]},wealth:{name:"Ïû¨Î¨ºÏÑ±",description:"Ïû¨Î¨ºÍ≥º Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeonjae","jeongjae"]},authority:{name:"Í¥ÄÏÑ±",description:"Í∂åÏúÑÏôÄ Î™ÖÏòàÏóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeongwan","jeonggwan"]},support:{name:"Ïù∏ÏÑ±",description:"ÌïôÏäµÍ≥º Î≥¥Ìò∏Ïóê Í¥ÄÎ†®Îêú Í∏∞Ïö¥",tenGods:["pyeongin","jeongin"]}},M=.15,$=.03,S=85,T=70,A=50;class B{static analyzeFromSaju(e){const{tenGods:a}=e;return{bijeon:a.bijeon||0,geopjae:a.geopjae||0,siksin:a.siksin||0,sanggwan:a.sanggwan||0,pyeonjae:a.pyeonjae||0,jeongjae:a.jeongjae||0,pyeongwan:a.pyeongwan||0,jeonggwan:a.jeonggwan||0,pyeongin:a.pyeongin||0,jeongin:a.jeongin||0}}static performFullAnalysis(e){const a=this.analyzeFromSaju(e),t=Object.values(a).reduce((e,a)=>e+a,0),r={};Object.entries(a).forEach(([e,a])=>{r[e]=t>0?a/t:0});const s=[],i=[],n=[];Object.entries(r).forEach(([e,t])=>{const r=e;0===a[r]?n.push(r):t>=M?s.push(r):t<=$&&i.push(r)});const o=this.calculateBalance(a),l=this.analyzePersonality(a),c=this.generateRecommendations(a,l);return{data:a,total:t,percentages:r,dominant:s,weak:i,missing:n,balance:o,personality:l,recommendations:c}}static calculateBalance(e){const a=Object.values(e).reduce((e,a)=>e+a,0);if(0===a)return{score:0,status:"poor",description:"Ïã≠ÏÑ± Îç∞Ïù¥ÌÑ∞Í∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§"};const t=Object.entries(C).map(([t,r])=>r.tenGods.reduce((a,t)=>a+e[t],0)/a),r=1/Object.keys(C).length,s=t.reduce((e,a)=>e+Math.pow(a-r,2),0)/t.length,i=Math.max(0,Math.min(100,100-500*s));let n,o;return i>=S?(n="excellent",o="Îß§Ïö∞ Í∑†Ìòï Ïû°Ìûå Ïã≠ÏÑ± Î∂ÑÌè¨"):i>=T?(n="good",o="Í∑†Ìòï Ïû°Ìûå Ïã≠ÏÑ± Î∂ÑÌè¨"):i>=A?(n="fair",o="Î≥¥ÌÜµ ÏàòÏ§ÄÏùò Ïã≠ÏÑ± Î∂ÑÌè¨"):(n="poor",o="Î∂àÍ∑†ÌòïÌïú Ïã≠ÏÑ± Î∂ÑÌè¨"),{score:i,status:n,description:o}}static analyzePersonality(e){var a;const t=Object.values(e).reduce((e,a)=>e+a,0);if(0===t)return{leadership:0,creativity:0,stability:0,sociability:0,independence:0,overall:"Î∂ÑÏÑù Î∂àÍ∞Ä"};const r=Math.round((e.jeonggwan+e.pyeongwan)/t*100),s=Math.round((e.siksin+e.sanggwan)/t*100),i=Math.round((e.jeongin+e.pyeongin)/t*100),n=Math.round((e.jeongjae+e.pyeonjae)/t*100),o=Math.round((e.bijeon+e.geopjae)/t*100),l={leadership:r,creativity:s,stability:i,sociability:n,independence:o},c=Math.max(...Object.values(l));return{leadership:r,creativity:s,stability:i,sociability:n,independence:o,overall:{leadership:"Î¶¨ÎçîÏã≠Ìòï - Í∂åÏúÑÏôÄ Ï±ÖÏûÑÍ∞êÏù¥ Í∞ïÌïú ÏÑ±Ìñ•",creativity:"Ï∞ΩÏùòÌòï - ÌëúÌòÑÎ†•Í≥º Ï∞ΩÏ°∞ÏÑ±Ïù¥ Îõ∞Ïñ¥ÎÇú ÏÑ±Ìñ•",stability:"ÏïàÏ†ïÌòï - ÌïôÏäµÍ≥º Î≥¥Ìò∏Î≥∏Îä•Ïù¥ Í∞ïÌïú ÏÑ±Ìñ•",sociability:"ÏÇ¨ÍµêÌòï - ÎåÄÏù∏Í¥ÄÍ≥ÑÏôÄ Ïû¨Î¨ºÍ¥ÄÎ¶¨Ïóê Îõ∞Ïñ¥ÎÇú ÏÑ±Ìñ•",independence:"ÎèÖÎ¶ΩÌòï - ÏûêÏïÑÏã§ÌòÑÍ≥º Í≤ΩÏüÅÏóê Í∞ïÌïú ÏÑ±Ìñ•"}[(null==(a=Object.entries(l).find(([,e])=>e===c))?void 0:a[0])||"stability"]||"Í∑†ÌòïÌòï - Îã§ÏñëÌïú Î©¥ÏóêÏÑú Í≥†Î•∏ ÏÑ±Ìñ•"}}static generateRecommendations(e,a){return{career:this.getCareerRecommendations(e),relationships:this.getRelationshipAdvice(e,a),development:this.getDevelopmentSuggestions(e),caution:this.getCautionAreas(e)}}static getCareerRecommendations(e){const a=Object.values(e).reduce((e,a)=>e+a,0),t=[],r=e.jeonggwan+e.pyeongwan;r/a>=.2&&t.push({field:"Í¥ÄÎ¶¨ÏßÅ, ÌñâÏ†ïÏßÅ, Í≥µÎ¨¥Ïõê",tenGod:"jeonggwan",suitability:Math.round(r/a*100),reason:"Í∞ïÌïú Í¥ÄÏÑ±ÏúºÎ°ú Í∂åÏúÑÏôÄ Ï±ÖÏûÑÏùÑ Ïûò Í∞êÎãπÌï† Ïàò ÏûàÏùå"});const s=e.siksin+e.sanggwan;s/a>=.2&&t.push({field:"ÏòàÏà†, Ï∞ΩÏûë, ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏",tenGod:"siksin",suitability:Math.round(s/a*100),reason:"Îõ∞Ïñ¥ÎÇú ÌëúÌòÑÎ†•Í≥º Ï∞ΩÏùòÏÑ±ÏùÑ ÌôúÏö©Ìï† Ïàò ÏûàÏùå"});const i=e.jeongjae+e.pyeonjae;return i/a>=.2&&t.push({field:"ÏòÅÏóÖ, ÎßàÏºÄÌåÖ, Í∏àÏúµ",tenGod:"jeongjae",suitability:Math.round(i/a*100),reason:"Ïû¨Î¨º Í¥ÄÎ¶¨ÏôÄ ÎåÄÏù∏Í¥ÄÍ≥Ñ Îä•Î†•Ïù¥ Îõ∞Ïñ¥ÎÇ®"}),t.length>0?t:[{field:"Í∑†Ìòï Ïû°Ìûå Îã§ÏñëÌïú Î∂ÑÏïº",tenGod:"bijeon",suitability:70,reason:"Í≥†Î•∏ Ïã≠ÏÑ± Î∂ÑÌè¨Î°ú Îã§ÏñëÌïú Î∂ÑÏïºÏóê Ï†ÅÏùë Í∞ÄÎä•"}]}static getRelationshipAdvice(e,a){const t=[];return a.sociability>30&&t.push({type:"ÎåÄÏù∏Í¥ÄÍ≥Ñ",advice:"Îõ∞Ïñ¥ÎÇú ÏÇ¨ÍµêÏÑ±ÏùÑ ÌôúÏö©ÌïòÏó¨ ÎÑ§Ìä∏ÏõåÌÇπÏùÑ Ï†ÅÍ∑πÏ†ÅÏúºÎ°ú ÌôúÏö©ÌïòÏÑ∏Ïöî",basedOn:["jeongjae","pyeonjae"]}),a.independence>30&&t.push({type:"ÏûêÏïÑÏã§ÌòÑ",advice:"ÎèÖÎ¶ΩÏ†ÅÏù∏ ÏÑ±Ìñ•ÏùÑ ÏÇ¥Î†§ ÏûêÏã†ÎßåÏùò ÏòÅÏó≠ÏùÑ Íµ¨Ï∂ïÌïòÏÑ∏Ïöî",basedOn:["bijeon","geopjae"]}),t.length>0?t:[{type:"Í∑†ÌòïÎ∞úÏ†Ñ",advice:"Îã§ÏñëÌïú Í¥ÄÍ≥ÑÎ•º ÌÜµÌï¥ Í∑†Ìòï Ïû°Ìûå ÏÑ±Ïû•ÏùÑ Ï∂îÍµ¨ÌïòÏÑ∏Ïöî",basedOn:["jeongin"]}]}static getDevelopmentSuggestions(e){const a=[];return Object.entries(e).sort(([,e],[,a])=>e-a).slice(0,2).map(([e])=>e).forEach(e=>{const t=E[e];a.push({area:`${t.koreanName} Í∞úÎ∞ú`,method:`${t.positiveTraits.join(", ")} Í¥ÄÎ†® ÌôúÎèô Ï¶ùÍ∞Ä`,targetTenGod:e})}),a}static getCautionAreas(e){const a=[],t=Object.values(e).reduce((e,a)=>e+a,0);return Object.entries(e).forEach(([e,r])=>{if(r/t>.3){const t=E[e];a.push({issue:`${t.koreanName} Í≥ºÎã§`,reason:`${t.negativeTraits.join(", ")} Í≤ΩÌñ•Ïù¥ ÎÇòÌÉÄÎÇ† Ïàò ÏûàÏùå`,solution:`${t.positiveTraits[0]} Ï∏°Î©¥ÏùÑ Ï†ÅÏ†àÌûà Ï°∞Ï†àÌïòÍ≥† Îã§Î•∏ Ïã≠ÏÑ±ÏùÑ Í∑†ÌòïÏûàÍ≤å Î∞úÏ†ÑÏãúÌÇ§ÏÑ∏Ïöî`})}}),a}static generateChartData(e){const a=Object.keys(e).map(e=>`${E[e].koreanName}\n${E[e].hanja}`),t=Object.values(e),r=Object.keys(e).map(e=>E[e].color.primary);return{labels:a,datasets:[{label:"Ïã≠ÏÑ± Î∂ÑÌè¨",data:t,backgroundColor:r.map(e=>`${e}80`),borderColor:r,borderWidth:2,borderRadius:4,borderSkipped:!1}]}}static generateCategoryChartData(e){const a=Object.entries(C).map(([a,t])=>{const r=t.tenGods.reduce((a,t)=>a+e[t],0);return{category:a,name:t.name,value:r}});return{labels:a.map(e=>e.name),datasets:[{data:a.map(e=>e.value),backgroundColor:["#6366F1","#10B981","#EF4444","#F59E0B","#3B82F6"],borderWidth:2}]}}}d.register(u,x,y,m,p,h,g);const O=({sajuData:s,height:i=400,className:n="",chartType:l="bar",showCategory:c=!1})=>{const[d,m]=e.useState("individual"),[h,g]=e.useState(null),[u,x]=e.useState(!1),[y,p]=e.useState(null),b=e.useMemo(()=>B.performFullAnalysis(s),[s]);e.useEffect(()=>{(async()=>{if(s){x(!0),p(null);try{const e=await k.getPersonalityAnalysis(s);g({personality:e})}catch(e){p("ÏÑ±Í≤© Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{x(!1)}}})()},[s]);const j=e.useMemo(()=>B.generateChartData(b.data),[b.data]),f=e.useMemo(()=>B.generateCategoryChartData(b.data),[b.data]),v=e.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{title:e=>e[0].label||"",label(e){const a=e.parsed.x,t=b.total>0?(a/b.total*100).toFixed(1):"0.0",r=Object.keys(b.data)[e.dataIndex],s=E[r];return[`Ï†êÏàò: ${a}Ï†ê (${t}%)`,`ÌäπÏÑ±: ${s.keywords.join(", ")}`,`Ïû•Ï†ê: ${s.positiveTraits.join(", ")}`]}}}},scales:{x:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{family:"Noto Sans KR, sans-serif",size:11}}},y:{grid:{display:!1},ticks:{font:{family:"Noto Sans KR, sans-serif",size:11},callback(e){return this.getLabelForValue(e).split("\n")[0]}}}},animation:{duration:1e3}}),[b.data,b.total]),N=e.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{font:{family:"Noto Sans KR, sans-serif",size:11},padding:15,usePointStyle:!0,pointStyle:"rectRounded",generateLabels:e=>{var a;const t=e.data.datasets;if(t.length>0){const r=t[0];return(null==(a=e.data.labels)?void 0:a.filter((e,a)=>r.data[a]>0).map((e,a)=>{const t=r.data[a];return{text:`${e} (${b.total>0?(t/b.total*100).toFixed(1):"0.0"}%)`,fillStyle:(Array.isArray(r.backgroundColor)?r.backgroundColor[a]:r.backgroundColor)||"#000",strokeStyle:(Array.isArray(r.borderColor)?r.borderColor[a]:r.borderColor)||"#000",lineWidth:2,hidden:!1,index:a}}))||[]}return[]}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",callbacks:{label(e){const a=e.parsed,t=b.total>0?(a/b.total*100).toFixed(1):"0.0";return`${e.label}: ${a}Ï†ê (${t}%)`}}}},cutout:"40%",animation:{animateRotate:!0,duration:1e3}}),[b.total]),w=(()=>{const e=b.balance.score;return e>=80?{status:"Îß§Ïö∞ Í∑†Ìòï",color:"text-green-600",icon:"üü¢"}:e>=60?{status:"Í∑†Ìòï ÏñëÌò∏",color:"text-blue-600",icon:"üîµ"}:e>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600",icon:"üü°"}:{status:"Î∂àÍ∑†Ìòï",color:"text-red-600",icon:"üî¥"}})();return 0===b.total?a.jsx("div",{className:`flex items-center justify-center ${n}`,style:{height:i},children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üìä"}),a.jsx("div",{className:"text-lg font-medium",children:"Ïã≠ÏÑ± Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})}):a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"‚≠ê Ïã≠ÏÑ± Î∂ÑÌè¨ÎèÑ"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"10Í∞ÄÏßÄ Ïã≠ÏÑ±Ïùò Í∞ïÎèÑÏôÄ ÏÑ±Í≤© ÌäπÏÑ± Î∂ÑÏÑù"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("button",{onClick:()=>m("individual"),className:"px-3 py-1 text-xs transition-colors "+("individual"===d?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Í∞úÎ≥ÑÏã≠ÏÑ±"}),a.jsx("button",{onClick:()=>m("category"),className:"px-3 py-1 text-xs transition-colors "+("category"===d?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Ïπ¥ÌÖåÍ≥†Î¶¨"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${w.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:w.icon}),w.status]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Í∑†ÌòïÏ†êÏàò: ",b.balance.score.toFixed(0),"Ï†ê"]})]})]})]}),a.jsx("div",{className:"mb-6",style:{height:i-200},children:"individual"===d?"bar"===l?a.jsx(r,{data:j,options:v}):a.jsx(t,{data:j,options:N}):a.jsx(t,{data:f,options:N})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"üß† ÏÑ±Í≤© ÌäπÏÑ±"}),a.jsx("div",{className:"text-blue-700 dark:text-blue-300 text-sm",children:b.personality.overall})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"üí™ Í∞ïÌïú Ïã≠ÏÑ±"}),b.dominant.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm",children:b.dominant.map(e=>E[e].koreanName).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"üéØ Ï∂îÏ≤ú Î∂ÑÏïº"}),b.recommendations.career.length>0?a.jsx("div",{className:"text-purple-700 dark:text-purple-300 text-sm",children:b.recommendations.career[0].field}):a.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm",children:"Îã§ÏñëÌïú Î∂ÑÏïº Ï†ÅÌï©"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ÌïµÏã¨ Îä•Î†•Ïπò"}),Object.entries({"Î¶¨ÎçîÏã≠":b.personality.leadership,"Ï∞ΩÏùòÏÑ±":b.personality.creativity,"ÏïàÏ†ïÏÑ±":b.personality.stability,"ÏÇ¨ÍµêÏÑ±":b.personality.sociability,"ÎèÖÎ¶ΩÏÑ±":b.personality.independence}).map(([e,t])=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-16 text-xs text-gray-600 dark:text-gray-400",children:e}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-400 to-purple-500",style:{width:`${t}%`}})}),a.jsx("div",{className:"w-8 text-xs text-gray-500 text-right",children:t})]},e))]}),a.jsx("div",{className:"mt-6",children:a.jsx(o,{interpretation:h,loading:u,error:y,category:"personality"})})]})},R={ja:{name:"Ja",koreanName:"Ïûê",hanja:"Â≠ê",animal:"Ï•ê",animalEmoji:"üê≠",element:"water",season:"winter",month:11,direction:"Î∂Å",time:"23:00-01:00",color:{primary:"#1E40AF",secondary:"#3B82F6",background:"#EFF6FF"},characteristics:["ÏòÅÎ¶¨Ìï®","Ï†ÅÏùëÎ†•","Í∏∞ÌöåÌè¨Ï∞©"],positiveTraits:["ÏßÄÌòú","ÎØºÏ≤©ÏÑ±","Ïã§Ïö©ÏÑ±","ÏÉùÏ°¥Î†•"],negativeTraits:["ÏöïÏã¨","Í≥ÑÏÇ∞Ï†Å","ÏùòÏã¨","ÏÜåÏã¨Ìï®"],compatibility:["jin","sin"],conflict:["o"]},chuk:{name:"Chuk",koreanName:"Ï∂ï",hanja:"‰∏ë",animal:"ÏÜå",animalEmoji:"üêÇ",element:"earth",season:"winter",month:12,direction:"Î∂ÅÎèô",time:"01:00-03:00",color:{primary:"#92400E",secondary:"#D97706",background:"#FEF3C7"},characteristics:["ÏÑ±Ïã§Ìï®","Ïù∏ÎÇ¥Î†•","Ïã†Î¢∞ÏÑ±"],positiveTraits:["Í∑ºÎ©¥","Ïã†Ï§ëÌï®","Ï±ÖÏûÑÍ∞ê","ÏïàÏ†ïÏÑ±"],negativeTraits:["ÏôÑÍ≥†Ìï®","Î≥¥ÏàòÏ†Å","ÎäêÎ¶º","Í≥†Ïßë"],compatibility:["sa","yu"],conflict:["mi"]},in:{name:"In",koreanName:"Ïù∏",hanja:"ÂØÖ",animal:"Ìò∏ÎûëÏù¥",animalEmoji:"üêÖ",element:"wood",season:"spring",month:1,direction:"ÎèôÎ∂Å",time:"03:00-05:00",color:{primary:"#059669",secondary:"#10B981",background:"#ECFDF5"},characteristics:["Ïö©ÎßπÌï®","Î¶¨ÎçîÏã≠","Ï†ïÏùòÍ∞ê"],positiveTraits:["Ïö©Í∏∞","Ï∂îÏßÑÎ†•","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•"],negativeTraits:["ÏÑ±Í∏âÌï®","ÎèÖÏÑ†","Í≥†Ïßë","Í∞êÏ†ïÏ†Å"],compatibility:["o","sul"],conflict:["sin"]},myo:{name:"Myo",koreanName:"Î¨ò",hanja:"ÂçØ",animal:"ÌÜ†ÎÅº",animalEmoji:"üê∞",element:"wood",season:"spring",month:2,direction:"Îèô",time:"05:00-07:00",color:{primary:"#16A34A",secondary:"#22C55E",background:"#F0FDF4"},characteristics:["Ïò®ÌôîÌï®","ÏòàÏà†ÏÑ±","ÏßÅÍ¥ÄÎ†•"],positiveTraits:["Î∂ÄÎìúÎü¨ÏõÄ","ÏòàÏà†Í∞êÍ∞Å","ÌèâÌôîÏ£ºÏùò","ÏßÅÍ¥Ä"],negativeTraits:["Ïö∞Ïú†Î∂ÄÎã®","ÏÜåÏã¨Ìï®","ÏùòÏ°¥ÏÑ±","ÌòÑÏã§ÎèÑÌîº"],compatibility:["mi","hae"],conflict:["yu"]},jin:{name:"Jin",koreanName:"ÏßÑ",hanja:"Ëæ∞",animal:"Ïö©",animalEmoji:"üêâ",element:"earth",season:"spring",month:3,direction:"ÎèôÎÇ®",time:"07:00-09:00",color:{primary:"#CA8A04",secondary:"#EAB308",background:"#FEFCE8"},characteristics:["Ïó≠ÎèôÏÑ±","Î≥ÄÌôî","Ïã†ÎπÑÏÑ±"],positiveTraits:["Ìè¨Ïö©Î†•","Î≥ÄÌôîÏ†ÅÏùë","Ïã†ÎπÑÏÑ±","Ï∞ΩÏ°∞Î†•"],negativeTraits:["Î≥ÄÎçï","Í≥ºÎèÑÌï®","Ïã†Í≤ΩÏßà","Î∂àÏïàÏ†ï"],compatibility:["ja","yu"],conflict:["sul"]},sa:{name:"Sa",koreanName:"ÏÇ¨",hanja:"Â∑≥",animal:"Î±Ä",animalEmoji:"üêç",element:"fire",season:"summer",month:4,direction:"ÎÇ®Îèô",time:"09:00-11:00",color:{primary:"#DC2626",secondary:"#EF4444",background:"#FEF2F2"},characteristics:["ÏßÄÌòú","Ïã†Ï§ëÌï®","Ïã†ÎπÑÌï®"],positiveTraits:["ÏßÄÌòú","ÌÜµÏ∞∞Î†•","Ïã†Ï§ëÌï®","ÏßëÏ§ëÎ†•"],negativeTraits:["ÏùòÏã¨","ÏßàÌà¨","Î≥µÏû°Ìï®","ÏßëÏ∞©"],compatibility:["chuk","yu"],conflict:["hae"]},o:{name:"O",koreanName:"Ïò§",hanja:"Âçà",animal:"Îßê",animalEmoji:"üêé",element:"fire",season:"summer",month:5,direction:"ÎÇ®",time:"11:00-13:00",color:{primary:"#E11D48",secondary:"#F43F5E",background:"#FFF1F2"},characteristics:["ÌôúÎèôÏÑ±","Ïó¥Ï†ï","ÏûêÏú†Î°úÏõÄ"],positiveTraits:["ÌôúÎ†•","ÏûêÏú†Î°úÏõÄ","Ïó¥Ï†ï","ÏßÑÏ∑®ÏÑ±"],negativeTraits:["ÏÑ±Í∏âÌï®","Î≥ÄÎçï","Î∂àÏïàÏ†ï","ÏÇ∞ÎßåÌï®"],compatibility:["in","sul"],conflict:["ja"]},mi:{name:"Mi",koreanName:"ÎØ∏",hanja:"Êú™",animal:"Ïñë",animalEmoji:"üêë",element:"earth",season:"summer",month:6,direction:"ÎÇ®ÏÑú",time:"13:00-15:00",color:{primary:"#A16207",secondary:"#D97706",background:"#FEF3C7"},characteristics:["Ïò®ÏàúÌï®","ÌòëÏ°∞ÏÑ±","ÏòàÏà†ÏÑ±"],positiveTraits:["Ïò®ÏàúÌï®","ÌòëÏ°∞ÏÑ±","ÏòàÏà†ÏÑ±","ÌèâÌôîÏ£ºÏùò"],negativeTraits:["Ïö∞Ïú†Î∂ÄÎã®","ÏùòÏ°¥ÏÑ±","ÏÜåÍ∑πÏ†Å","Í±±Ï†ï"],compatibility:["myo","hae"],conflict:["chuk"]},sin:{name:"Sin",koreanName:"Ïã†",hanja:"Áî≥",animal:"ÏõêÏà≠Ïù¥",animalEmoji:"üêµ",element:"metal",season:"autumn",month:7,direction:"ÏÑúÎÇ®",time:"15:00-17:00",color:{primary:"#F59E0B",secondary:"#FBBF24",background:"#FFFBEB"},characteristics:["Ïû¨Ïπò","ÌôúÎ∞úÌï®","Î≥ÄÌôî"],positiveTraits:["Ïû¨Ïπò","ÌôúÎ∞úÌï®","Ï†ÅÏùëÎ†•","Ï∞ΩÏùòÏÑ±"],negativeTraits:["Î≥ÄÎçï","Í≤ΩÎ∞ïÌï®","Î∂àÏïàÏ†ï","Ïû•ÎÇú"],compatibility:["ja","jin"],conflict:["in"]},yu:{name:"Yu",koreanName:"Ïú†",hanja:"ÈÖâ",animal:"Îã≠",animalEmoji:"üêì",element:"metal",season:"autumn",month:8,direction:"ÏÑú",time:"17:00-19:00",color:{primary:"#D97706",secondary:"#F59E0B",background:"#FEF3C7"},characteristics:["Ï†ïÌôïÏÑ±","Î∂ÄÏßÄÎü∞Ìï®","ÏôÑÎ≤ΩÏ£ºÏùò"],positiveTraits:["Ï†ïÌôïÏÑ±","Î∂ÄÏßÄÎü∞Ìï®","ÏôÑÎ≤ΩÏ£ºÏùò","Ï±ÖÏûÑÍ∞ê"],negativeTraits:["ÍπåÎã§Î°úÏõÄ","ÎπÑÌåêÏ†Å","Í≤ΩÏßÅÏÑ±","Í±±Ï†ï"],compatibility:["chuk","sa","jin"],conflict:["myo"]},sul:{name:"Sul",koreanName:"Ïà†",hanja:"Êàå",animal:"Í∞ú",animalEmoji:"üêï",element:"earth",season:"autumn",month:9,direction:"ÏÑúÎ∂Å",time:"19:00-21:00",color:{primary:"#92400E",secondary:"#B45309",background:"#FEF3C7"},characteristics:["Ï∂©ÏÑ±Ïã¨","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•"],positiveTraits:["Ï∂©ÏÑ±Ïã¨","Ï†ïÏùòÍ∞ê","Î≥¥Ìò∏Î≥∏Îä•","Ïã†Î¢∞ÏÑ±"],negativeTraits:["ÏôÑÍ≥†Ìï®","ÏùòÏã¨","Î≥¥ÏàòÏ†Å","Í±±Ï†ï"],compatibility:["in","o"],conflict:["jin"]},hae:{name:"Hae",koreanName:"Ìï¥",hanja:"‰∫•",animal:"ÎèºÏßÄ",animalEmoji:"üê∑",element:"water",season:"winter",month:10,direction:"Î∂ÅÏÑú",time:"21:00-23:00",color:{primary:"#1E40AF",secondary:"#2563EB",background:"#EFF6FF"},characteristics:["Í¥ÄÎåÄÌï®","ÏÑ±Ïã§Ìï®","Îã®ÏàúÌï®"],positiveTraits:["Í¥ÄÎåÄÌï®","ÏÑ±Ïã§Ìï®","Ï†ïÏßÅÌï®","Ìè¨Ïö©Î†•"],negativeTraits:["Îã®ÏàúÌï®","Í≤åÏúºÎ¶Ñ","ÏöïÏã¨","Í≥†Ïßë"],compatibility:["myo","mi"],conflict:["sa"]}},D={harmony:{name:"Ï°∞Ìôî",description:"ÏÑúÎ°úÎ•º Î≥¥ÏôÑÌïòÍ≥† Î∞úÏ†ÑÏãúÌÇ§Îäî Í¥ÄÍ≥Ñ",color:"#10B981",icon:"ü§ù"},conflict:{name:"Ï∂©Îèå",description:"ÏÑúÎ°ú ÎåÄÎ¶ΩÌïòÍ≥† Í≤¨Ï†úÌïòÎäî Í¥ÄÍ≥Ñ",color:"#EF4444",icon:"‚öîÔ∏è"},punishment:{name:"Ìòï",description:"ÏÑúÎ°úÎ•º ÏñµÏ†úÌïòÍ≥† Ï†úÏïΩÌïòÎäî Í¥ÄÍ≥Ñ",color:"#F59E0B",icon:"‚ö†Ô∏è"},destruction:{name:"ÌååÍ¥¥",description:"ÏÑúÎ°úÎ•º Ìï¥ÏπòÍ≥† ÌååÍ¥¥ÌïòÎäî Í¥ÄÍ≥Ñ",color:"#DC2626",icon:"üí•"},neutral:{name:"Ï§ëÎ¶Ω",description:"ÌäπÎ≥ÑÌïú ÏòÅÌñ•ÏùÑ Ï£ºÍ≥†Î∞õÏßÄ ÏïäÎäî Í¥ÄÍ≥Ñ",color:"#6B7280",icon:"‚ûñ"}};class P{static analyzeFromSaju(e){const a={ja:Math.floor(30*Math.random()),chuk:Math.floor(30*Math.random()),in:Math.floor(30*Math.random()),myo:Math.floor(30*Math.random()),jin:Math.floor(30*Math.random()),sa:Math.floor(30*Math.random()),o:Math.floor(30*Math.random()),mi:Math.floor(30*Math.random()),sin:Math.floor(30*Math.random()),yu:Math.floor(30*Math.random()),sul:Math.floor(30*Math.random()),hae:Math.floor(30*Math.random())},t=this.getYearBranch(e.birthInfo.year);return t&&(a[t]+=30),a}static performFullAnalysis(e){const a=this.analyzeFromSaju(e),t=Object.values(a).reduce((e,a)=>e+a,0),r=[],s=[];Object.entries(a).forEach(([e,a])=>{const t=e;0===a?s.push(t):a>=30&&r.push(t)});const i=this.analyzeInteractions(a),n=this.calculateOverallHarmony(a,i),o=this.calculateSeasonalBalance(a),l=this.analyzeAnimalPersonality(a,r),c=this.generateRecommendations(a,r,s);return{data:a,total:t,dominant:r,missing:s,interactions:i,overallHarmony:n,seasonalBalance:o,animalPersonality:l,recommendations:c}}static getYearBranch(e){return["sin","yu","sul","hae","ja","chuk","in","myo","jin","sa","o","mi"][e%12]||null}static analyzeInteractions(e){const a={},t=Object.entries(e).filter(([e,a])=>a>10).map(([e])=>e);for(let r=0;r<t.length;r++)for(let e=r+1;e<t.length;e++){const s=t[r],i=t[e];a[`${s}-${i}`]=this.analyzeRelationship(s,i)}return a}static analyzeRelationship(e,a){const t=R[e];return t.compatibility.includes(a)?{relationship:{type:"harmony",strength:80,description:"ÏÑúÎ°ú Ï°∞ÌôîÎ•º Ïù¥Î£®Î©∞ ÏãúÎÑàÏßÄÎ•º Î∞úÏÉùÏãúÌÇ¥"},effects:["Í∏çÏ†ïÏ†Å ÏóêÎÑàÏßÄ Ï¶ùÌè≠","Î™©Ìëú Îã¨ÏÑ± Ïö©Ïù¥","Í¥ÄÍ≥Ñ Í∞úÏÑ†"],recommendations:["Ìï®Íªò ÌòëÎ†•ÌïòÎ©¥ Ï¢ãÏùÄ Í≤∞Í≥º","ÌååÌä∏ÎÑàÏã≠ Í∞ïÌôî ÌïÑÏöî"]}:t.conflict.includes(a)?{relationship:{type:"conflict",strength:70,description:"ÏÑúÎ°ú ÎåÄÎ¶ΩÌïòÍ≥† Ï∂©ÎèåÌïòÎäî Í¥ÄÍ≥Ñ"},effects:["Í∞àÎì± Í∞ÄÎä•ÏÑ±","Ïä§Ìä∏Î†àÏä§ Ï¶ùÍ∞Ä","ÏùòÍ≤¨ Ï∂©Îèå"],recommendations:["Ï§ëÏû¨Ïûê ÌïÑÏöî","Í±∞Î¶¨ÎëêÍ∏∞ Í∂åÏû•","Ïù¥Ìï¥ÏôÄ Î∞∞Î†§ ÌïÑÏöî"]}:{relationship:{type:"neutral",strength:30,description:"ÌäπÎ≥ÑÌïú ÏòÅÌñ• ÏóÜÎäî Ï§ëÎ¶ΩÏ†Å Í¥ÄÍ≥Ñ"},effects:["ÌèâÎ≤îÌïú Í¥ÄÍ≥Ñ","ÌäπÎ≥ÑÌïú ÏòÅÌñ• ÏóÜÏùå"],recommendations:["ÏûêÏó∞Ïä§Îü¨Ïö¥ Í¥ÄÍ≥Ñ Ïú†ÏßÄ"]}}static calculateOverallHarmony(e,a){let t=50;Object.values(a).forEach(e=>{"harmony"===e.relationship.type?t+=10:"conflict"===e.relationship.type&&(t-=10)});const r=Object.values(e),s=r.reduce((e,a)=>e+a,0)/r.length,i=r.reduce((e,a)=>e+Math.pow(a-s,2),0)/r.length;return t+=Math.max(0,30-Math.sqrt(i)),Math.max(0,Math.min(100,t))}static calculateSeasonalBalance(e){const a=(e.in||0)+(e.myo||0)+(e.jin||0),t=(e.sa||0)+(e.o||0)+(e.mi||0),r=(e.sin||0)+(e.yu||0)+(e.sul||0),s=(e.hae||0)+(e.ja||0)+(e.chuk||0),i=a+t+r+s,n=i>0?a/i*100:25,o=i>0?t/i*100:25,l=i>0?r/i*100:25,c=i>0?s/i*100:25,d=[Math.abs(n-25),Math.abs(o-25),Math.abs(l-25),Math.abs(c-25)],m=Math.max(...d);return{spring:n,summer:o,autumn:l,winter:c,balance:Math.max(0,100-2*m)}}static analyzeAnimalPersonality(e,a){const t=a[0]||"ja",r=R[t];return{primaryAnimal:`${r.animalEmoji} ${r.animal}Ìòï Ïù∏Í≤©`,traits:r.positiveTraits,compatibility:r.compatibility.map(e=>R[e].animal),cautions:r.negativeTraits,lifePattern:`${r.time} ÏãúÍ∞ÑÎåÄÏóê ÌôúÎèôÏ†Å, ${r.direction}Î∞©Ìñ• ÏÑ†Ìò∏`}}static generateRecommendations(e,a,t){const r=[],s=[],i=[],n=[];if(a.forEach(e=>{const a=R[e];r.push({color:a.color.primary,hex:a.color.primary,reason:`${a.animal}Ïùò Í∏∞Ïö¥ÏùÑ Í∞ïÌôî`}),s.push({direction:a.direction,benefit:`${a.element} Ïò§Ìñâ ÏóêÎÑàÏßÄ Ï¶ùÏßÑ`}),i.push({period:a.time,activity:"Ï§ëÏöîÌïú ÏùºÏ†ï",effect:"ÏµúÏÉÅÏùò Ïª®ÎîîÏÖòÍ≥º Ïö¥ÏÑ∏"})}),a.length>0){const e=R[a[0]];n.push({compatible:e.compatibility.map(e=>R[e].animal),avoid:e.conflict.map(e=>R[e].animal),reason:"Í∞ÑÏßÄ ÏÉÅÏÑ±Í≥º ÏÉÅÏ∂© Í¥ÄÍ≥Ñ"})}return{colors:r.slice(0,3),directions:s.slice(0,2),timing:i.slice(0,3),relationships:n.slice(0,1)}}}d.register(b,j,f,v,h,g);const z=({sajuData:t,height:r=400,className:i="",showRelationships:n=!0,showSeasonalBalance:l=!0})=>{const[c,d]=e.useState("branches"),[m,h]=e.useState(!1);e.useEffect(()=>{const e=()=>{h(document.documentElement.classList.contains("dark"))};e();const a=new MutationObserver(e);return a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>a.disconnect()},[]);const[g,u]=e.useState(null),[x,y]=e.useState(!1),[p,b]=e.useState(null),j=e.useMemo(()=>P.performFullAnalysis(t),[t]);e.useEffect(()=>{(async()=>{if(t){y(!0),b(null);try{const e=await k.getSpiritualAnalysis(t);u({spiritual:e})}catch(e){b("Ïã†ÏÇ¥ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.")}finally{y(!1)}}})()},[t]);const f=e.useMemo(()=>[{label:"12Í∞ÑÏßÄ Î∂ÑÌè¨",values:Object.values(j.data),timeFrame:"base"}],[j.data]),v=e.useMemo(()=>{const e=Object.keys(j.data).map(e=>{const a=R[e];return`${a.koreanName} ${a.animalEmoji}`});return N.createStandardRadarConfig(e,f,m,!0)},[f,m]),w=v.data,F=e.useMemo(()=>{const{seasonalBalance:e}=j;return[{label:"Í≥ÑÏ†àÎ≥Ñ Í∑†Ìòï",values:[e.spring,e.summer,e.autumn,e.winter],timeFrame:"base"}]},[j.seasonalBalance]),E=e.useMemo(()=>N.createStandardRadarConfig(["Î¥Ñ üå∏","Ïó¨Î¶Ñ ‚òÄÔ∏è","Í∞ÄÏùÑ üçÇ","Í≤®Ïö∏ ‚ùÑÔ∏è"],F,m,!0),[F,m]),C=E.data,M=e.useMemo(()=>{var e,a,t,r,s,i,n,o,l,d,h,g,u;const x="branches"===c?v.options:E.options;return{...x,responsive:!0,maintainAspectRatio:!1,plugins:{...null==x?void 0:x.plugins,legend:{...null==(e=null==x?void 0:x.plugins)?void 0:e.legend,display:!1},tooltip:{...null==(a=null==x?void 0:x.plugins)?void 0:a.tooltip,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",titleFont:{family:"Noto Sans KR, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Noto Sans KR, sans-serif",size:12},callbacks:{...null==(r=null==(t=null==x?void 0:x.plugins)?void 0:t.tooltip)?void 0:r.callbacks,label(e){const a=e.parsed.r,t=j.total>0?(a/j.total*100).toFixed(1):"0.0";if("branches"===c){const r=Object.keys(j.data)[e.dataIndex],s=R[r];return[`${e.label}: ${a}Ï†ê (${t}%)`,`ÏõêÏÜå: ${s.element}`,`ÌäπÏÑ±: ${s.characteristics.join(", ")}`]}return`${e.label}: ${a.toFixed(1)}Ï†ê`}}}},scales:{...null==x?void 0:x.scales,r:{...null==(s=null==x?void 0:x.scales)?void 0:s.r,beginAtZero:!0,min:0,max:"branches"===c?1.2*Math.max(...Object.values(j.data)):100,ticks:{...null==(n=null==(i=null==x?void 0:x.scales)?void 0:i.r)?void 0:n.ticks,stepSize:"branches"===c?10:20,display:!1,font:{family:"Noto Sans KR, sans-serif",size:10},color:m?"#9CA3AF":"#6B7280"},grid:{...null==(l=null==(o=null==x?void 0:x.scales)?void 0:o.r)?void 0:l.grid,color:m?"rgba(156, 163, 175, 0.2)":"rgba(156, 163, 175, 0.3)"},angleLines:{...null==(h=null==(d=null==x?void 0:x.scales)?void 0:d.r)?void 0:h.angleLines,color:m?"rgba(156, 163, 175, 0.2)":"rgba(156, 163, 175, 0.3)"},pointLabels:{...null==(u=null==(g=null==x?void 0:x.scales)?void 0:g.r)?void 0:u.pointLabels,font:{family:"Noto Sans KR, sans-serif",size:11,weight:500},color:m?"#E5E7EB":"#1F2937",padding:10}}},animation:{...null==x?void 0:x.animation,duration:1e3}}},[c,v,E,j.data,j.total,m]),$=(()=>{const e=j.overallHarmony;return e>=80?{status:"Îß§Ïö∞ Ï°∞Ìôî",color:"text-green-600 dark:text-green-400",icon:"üü¢"}:e>=60?{status:"Ï°∞Ìôî ÏñëÌò∏",color:"text-blue-600 dark:text-blue-400",icon:"üîµ"}:e>=40?{status:"Î≥¥ÌÜµ",color:"text-yellow-600 dark:text-yellow-400",icon:"üü°"}:{status:"Î∂ÄÏ°∞Ìôî",color:"text-red-600 dark:text-red-400",icon:"üî¥"}})();return 0===j.total?a.jsx("div",{className:`flex items-center justify-center ${i}`,style:{height:r},children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"text-4xl mb-2",children:"üê≤"}),a.jsx("div",{className:"text-lg font-medium",children:"12Í∞ÑÏßÄ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"}),a.jsx("div",{className:"text-sm",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî"})]})}):a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ${i}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:"üê≤ 12Í∞ÑÏßÄ ÏÉÅÌò∏ÏûëÏö©"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"12ÏßÄÏßÄÏùò Î∂ÑÌè¨ÏôÄ ÏÉÅÌò∏ Í¥ÄÍ≥Ñ Î∂ÑÏÑù"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[a.jsx("button",{onClick:()=>d("branches"),className:"px-3 py-1 text-xs transition-colors "+("branches"===c?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"12Í∞ÑÏßÄ"}),a.jsx("button",{onClick:()=>d("seasonal"),className:"px-3 py-1 text-xs transition-colors "+("seasonal"===c?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"Í≥ÑÏ†àÍ∑†Ìòï"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${$.color} flex items-center`,children:[a.jsx("span",{className:"mr-1",children:$.icon}),$.status]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ï°∞ÌôîÎèÑ: ",j.overallHarmony.toFixed(0),"Ï†ê"]})]})]})]}),a.jsx("div",{className:"mb-6",style:{height:r-250},children:a.jsx(s,{data:"branches"===c?w:C,options:M})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:j.animalPersonality.primaryAnimal}),a.jsx("div",{className:"text-purple-700 dark:text-purple-300 text-sm",children:j.animalPersonality.traits.slice(0,3).join(", ")})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"üí™ Í∞ïÌïú Í∞ÑÏßÄ"}),j.dominant.length>0?a.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm",children:j.dominant.map(e=>{const a=R[e];return`${a.koreanName}(${a.animal})`}).join(", ")}):a.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm",children:"Í∑†ÌòïÏ†Å Î∂ÑÌè¨"})]}),l&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"üåà Í≥ÑÏ†à Í∑†Ìòï"}),a.jsxs("div",{className:"text-blue-700 dark:text-blue-300 text-sm",children:["Í∑†ÌòïÎèÑ: ",j.seasonalBalance.balance.toFixed(0),"Ï†ê"]})]})]}),n&&j.dominant.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ï£ºÏöî Í¥ÄÍ≥Ñ Ìå®ÌÑ¥"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(j.interactions).slice(0,3).map(([e,t])=>{const[r,s]=e.split("-"),i=D[t.relationship.type];return a.jsxs("div",{className:"px-2 py-1 text-xs rounded-full flex items-center space-x-1",style:{backgroundColor:`${i.color}20`,color:i.color},children:[a.jsx("span",{children:i.icon}),a.jsxs("span",{children:[R[r].koreanName,"-",R[s].koreanName]})]},e)})})]}),a.jsx("div",{className:"mt-6",children:a.jsx(o,{interpretation:g,loading:x,error:p,category:"spiritual"})})]})},_=()=>{const t=i(),{birthInfo:r}=n(),[s,o]=e.useState("fiveElements"),[d,m]=e.useState("bar"),h=e.useMemo(()=>{if(!r)return null;try{return l(r)}catch(e){return null}},[r]);return r&&h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsx(c,{birthInfo:r,fourPillars:{year:{heavenly:h.fourPillars.year.heavenly,earthly:h.fourPillars.year.earthly,combined:`${h.fourPillars.year.heavenly}${h.fourPillars.year.earthly}`},month:{heavenly:h.fourPillars.month.heavenly,earthly:h.fourPillars.month.earthly,combined:`${h.fourPillars.month.heavenly}${h.fourPillars.month.earthly}`},day:{heavenly:h.fourPillars.day.heavenly,earthly:h.fourPillars.day.earthly,combined:`${h.fourPillars.day.heavenly}${h.fourPillars.day.earthly}`},hour:{heavenly:h.fourPillars.hour.heavenly,earthly:h.fourPillars.hour.earthly,combined:`${h.fourPillars.hour.heavenly}${h.fourPillars.hour.earthly}`}},userName:r.name,showEditButton:!0,onEditClick:()=>t("/settings")})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>o("fiveElements"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("fiveElements"===s?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"üéØ Ïò§ÌñâÍ∑†ÌòïÎèÑ"}),a.jsx("button",{onClick:()=>o("tenGods"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("tenGods"===s?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"‚≠ê Ïã≠ÏÑ±Î∂ÑÌè¨ÎèÑ"}),a.jsx("button",{onClick:()=>o("twelveEarthly"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("twelveEarthly"===s?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"üê≤ 12Í∞ÑÏßÄÏÉÅÌò∏ÏûëÏö©"})]}),"tenGods"===s&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï∞®Ìä∏ ÌÉÄÏûÖ:"}),a.jsxs("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[a.jsx("button",{onClick:()=>m("bar"),className:"px-3 py-1 text-sm transition-colors "+("bar"===d?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"ÎßâÎåÄ"}),a.jsx("button",{onClick:()=>m("doughnut"),className:"px-3 py-1 text-sm transition-colors "+("doughnut"===d?"bg-blue-500 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"ÎèÑÎÑõ"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.jsx("div",{className:"lg:col-span-2",children:"fiveElements"===s?a.jsx(F,{sajuData:h,height:450,showLegend:!0,showTooltips:!0}):"tenGods"===s?a.jsx(O,{sajuData:h,height:450,chartType:d,showCategory:!0}):a.jsx(z,{sajuData:h,height:450,showRelationships:!0,showSeasonalBalance:!0})})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ï¥ùÏ†ê"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[h.totalScore.toFixed(0),"Ï†ê"]})]}),a.jsx("div",{className:"text-4xl",children:"üíØ"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÌèâÍ∑†"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[h.averageScore.toFixed(1),"Ï†ê"]})]}),a.jsx("div",{className:"text-4xl",children:"üìä"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÏùºÍ∞Ñ"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:h.dayMaster})]}),a.jsx("div",{className:"text-4xl",children:"‚òØÔ∏è"})]})})]}),a.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/saju"),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"ÏÇ¨Ï£º Î∂ÑÏÑùÏúºÎ°ú"}),a.jsx("button",{onClick:()=>t("/six-areas"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"6ÎåÄ ÏòÅÏó≠ Î∂ÑÏÑù"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"üìä"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"ÏÇ¨Ï£º Ï†ïÎ≥¥Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ï∞®Ìä∏Î•º ÌôïÏù∏ÌïòÎ†§Î©¥ Î®ºÏ†Ä ÏÉùÎÖÑÏõîÏùº Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."}),a.jsx("button",{onClick:()=>t("/settings"),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"ÏÉùÎÖÑÏõîÏùº ÏûÖÎ†•ÌïòÍ∏∞"})]})})})};export{_ as default};
