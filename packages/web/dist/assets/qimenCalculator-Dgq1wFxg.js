const e={"휴문":{name:"휴문",element:"수",nature:"auspicious",meaning:"휴식과 평온의 문. 쉼과 회복의 에너지",effects:{positive:["휴식","회복","치유","평온","안정"],negative:["나태","소극적","정체"]}},"생문":{name:"생문",element:"토",nature:"auspicious",meaning:"생성과 발전의 문. 새로운 시작과 성장",effects:{positive:["성장","발전","창조","생산","번영"],negative:["과욕","무리한 확장"]}},"상문":{name:"상문",element:"목",nature:"inauspicious",meaning:"상처와 손상의 문. 충돌과 갈등",effects:{positive:["경쟁력","추진력","돌파력"],negative:["싸움","상처","손실","갈등","분쟁"]}},"두문":{name:"두문",element:"목",nature:"inauspicious",meaning:"막힘과 폐쇄의 문. 숨김과 은둔",effects:{positive:["은둔","수양","비밀보호","방어"],negative:["막힘","폐쇄","고립","소통불가"]}},"경문":{name:"경문",element:"화",nature:"auspicious",meaning:"경치와 명예의 문. 밝음과 영광",effects:{positive:["명예","빛남","영광","화려함","성공"],negative:["허영","과시","허명"]}},"사문":{name:"사문",element:"토",nature:"inauspicious",meaning:"죽음과 종결의 문. 끝과 소멸",effects:{positive:["청산","정리","종결","새로운 시작 전 정화"],negative:["사망","종말","소멸","실패","끝"]}},"놀문":{name:"놀문",element:"금",nature:"neutral",meaning:"놀람과 변화의 문. 예상치 못한 변화",effects:{positive:["기회","변화","각성","깨달음"],negative:["놀람","충격","불안","혼란","변동"]}},"개문":{name:"개문",element:"금",nature:"auspicious",meaning:"개방과 시작의 문. 열림과 시작",effects:{positive:["개시","개방","기회","시작","확장"],negative:["무분별","노출","방어력 약화"]}}},n={"천봉":{name:"천봉",element:"수",planet:"수성",nature:"inauspicious",meaning:"지혜와 계략의 별. 도적과 간계",influences:["지혜","계략","도적","간교","음모","비밀"]},"천임":{name:"천임",element:"토",planet:"토성",nature:"auspicious",meaning:"신뢰와 안정의 별. 임무와 책임",influences:["신뢰","안정","책임","성실","보좌","충성"]},"천충":{name:"천충",element:"목",planet:"목성",nature:"neutral",meaning:"충동과 돌진의 별. 급진과 변화",influences:["충동","급진","돌진","변화","혁신","무모"]},"천보":{name:"천보",element:"목",planet:"목성",nature:"auspicious",meaning:"보좌와 지원의 별. 도움과 협력",influences:["보좌","지원","협력","조력","문화","학문"]},"천영":{name:"천영",element:"화",planet:"화성",nature:"neutral",meaning:"명예와 영광의 별. 빛과 명성",influences:["명예","영광","명성","화려","문서","증명"]},"천예":{name:"천예",element:"토",planet:"토성",nature:"inauspicious",meaning:"질병과 연약의 별. 병과 쇠약",influences:["질병","쇠약","피로","노쇠","걱정","근심"]},"천주":{name:"천주",element:"금",planet:"금성",nature:"neutral",meaning:"권위와 기둥의 별. 지지와 떠받침",influences:["권위","기둥","지지","근간","강직","고집"]},"천심":{name:"천심",element:"금",planet:"금성",nature:"auspicious",meaning:"의술과 치료의 별. 마음과 심장",influences:["의술","치료","마음","정신","예술","창조"]},"천금":{name:"천금",element:"토",planet:"토성",nature:"auspicious",meaning:"중앙과 균형의 별. 중심과 조화",influences:["중앙","균형","조화","중재","통합","안정"]}},t={"직부":{name:"직부",nature:"auspicious",meaning:"권력과 통솔의 신",characteristics:["권력","통솔","지도","명령","높은 지위","귀인"]},"등사":{name:"등사",nature:"inauspicious",meaning:"번뇌와 불안의 신",characteristics:["번뇌","불안","걱정","혼란","망상","집착"]},"태음":{name:"태음",nature:"auspicious",meaning:"음과 여성의 신",characteristics:["음","여성","온화","부드러움","비밀","내면"]},"육합":{name:"육합",nature:"auspicious",meaning:"화합과 결합의 신",characteristics:["화합","결합","협력","중재","타협","조화"]},"백호":{name:"백호",nature:"inauspicious",meaning:"흉과 재앙의 신",characteristics:["흉","재앙","공포","위험","파괴","살상"]},"현무":{name:"현무",nature:"inauspicious",meaning:"도적과 음모의 신",characteristics:["도적","음모","사기","배신","도둑","속임"]},"구지":{name:"구지",nature:"auspicious",meaning:"방어와 땅의 신",characteristics:["방어","수비","보호","안정","견고","내실"]},"구천":{name:"구천",nature:"auspicious",meaning:"공격과 하늘의 신",characteristics:["공격","진취","상승","발전","적극","확장"]}},i={1:"북",2:"서남",3:"동",4:"동남",5:"중앙",6:"서북",7:"서",8:"동북",9:"남"},a=[[4,9,2],[3,5,7],[8,1,6]];function s(n){return e[n]}function u(e){return n[e]}function c(e){return t[e]}const o=[{index:23,name:"소한",longitude:285,yinYang:"yang",ju:1},{index:24,name:"대한",longitude:300,yinYang:"yang",ju:2},{index:1,name:"입춘",longitude:315,yinYang:"yang",ju:7},{index:2,name:"우수",longitude:330,yinYang:"yang",ju:8},{index:3,name:"경칩",longitude:345,yinYang:"yang",ju:9},{index:4,name:"춘분",longitude:0,yinYang:"yang",ju:9},{index:5,name:"청명",longitude:15,yinYang:"yang",ju:8},{index:6,name:"곡우",longitude:30,yinYang:"yang",ju:7},{index:7,name:"입하",longitude:45,yinYang:"yang",ju:5},{index:8,name:"소만",longitude:60,yinYang:"yang",ju:4},{index:9,name:"망종",longitude:75,yinYang:"yang",ju:3},{index:10,name:"하지",longitude:90,yinYang:"yang",ju:3},{index:11,name:"소서",longitude:105,yinYang:"yin",ju:4},{index:12,name:"대서",longitude:120,yinYang:"yin",ju:5},{index:13,name:"입추",longitude:135,yinYang:"yin",ju:6},{index:14,name:"처서",longitude:150,yinYang:"yin",ju:7},{index:15,name:"백로",longitude:165,yinYang:"yin",ju:8},{index:16,name:"추분",longitude:180,yinYang:"yin",ju:8},{index:17,name:"한로",longitude:195,yinYang:"yin",ju:7},{index:18,name:"상강",longitude:210,yinYang:"yin",ju:6},{index:19,name:"입동",longitude:225,yinYang:"yin",ju:2},{index:20,name:"소설",longitude:240,yinYang:"yin",ju:1},{index:21,name:"대설",longitude:255,yinYang:"yin",ju:9},{index:22,name:"동지",longitude:270,yinYang:"yin",ju:9}],r={2024:{"소한":"2024-01-06 05:49","대한":"2024-01-20 11:07","입춘":"2024-02-04 17:27","우수":"2024-02-19 13:13","경칩":"2024-03-05 11:23","춘분":"2024-03-20 12:06","청명":"2024-04-04 16:02","곡우":"2024-04-19 22:59","입하":"2024-05-05 09:10","소만":"2024-05-20 21:59","망종":"2024-06-05 13:10","하지":"2024-06-21 05:51","소서":"2024-07-06 23:20","대서":"2024-07-22 16:44","입추":"2024-08-07 09:09","처서":"2024-08-22 23:55","백로":"2024-09-07 11:11","추분":"2024-09-22 21:44","한로":"2024-10-08 03:00","상강":"2024-10-23 01:15","입동":"2024-11-07 01:20","소설":"2024-11-22 04:56","대설":"2024-12-07 00:17","동지":"2024-12-21 18:21"},2025:{"소한":"2025-01-05 11:32","대한":"2025-01-19 16:54","입춘":"2025-02-03 23:09","우수":"2025-02-18 19:00","경칩":"2025-03-05 17:07","춘분":"2025-03-20 17:51","청명":"2025-04-04 21:48","곡우":"2025-04-20 04:48","입하":"2025-05-05 14:56","소만":"2025-05-21 03:42","망종":"2025-06-05 18:54","하지":"2025-06-21 11:33","소서":"2025-07-07 05:04","대서":"2025-07-22 22:29","입추":"2025-08-07 14:53","처서":"2025-08-23 05:33","백로":"2025-09-07 16:51","추분":"2025-09-23 03:19","한로":"2025-10-08 08:37","상강":"2025-10-23 06:51","입동":"2025-11-07 07:04","소설":"2025-11-22 10:35","대설":"2025-12-07 06:05","동지":"2025-12-22 00:03"}};function g(e){const n=e.getFullYear();return r[n]?function(e,n){const t=r[n],i=e.getTime();let a=o[0],s=new Date(`${t["소한"]}`).getTime();for(const u of o){const e=t[u.name];if(!e)continue;const n=new Date(e).getTime();n<=i&&n>s&&(a=u,s=n)}if(0===e.getMonth()&&e.getDate()<10){const e=n-1;if(r[e]){const n=r[e];for(const e of[o[0],o[1]]){const t=n[e.name];if(!t)continue;const u=new Date(t).getTime();u<=i&&u>s&&(a=e,s=u)}}}return{index:a.index,name:a.name,longitude:a.longitude,datetime:new Date(s),yinYang:a.yinYang,ju:a.ju}}(e,n):function(e){const n=e.getMonth()+1,t=e.getDate(),i={"소한":{month:1,day:6},"대한":{month:1,day:20},"입춘":{month:2,day:4},"우수":{month:2,day:19},"경칩":{month:3,day:6},"춘분":{month:3,day:21},"청명":{month:4,day:5},"곡우":{month:4,day:20},"입하":{month:5,day:6},"소만":{month:5,day:21},"망종":{month:6,day:6},"하지":{month:6,day:21},"소서":{month:7,day:7},"대서":{month:7,day:23},"입추":{month:8,day:8},"처서":{month:8,day:23},"백로":{month:9,day:8},"추분":{month:9,day:23},"한로":{month:10,day:8},"상강":{month:10,day:23},"입동":{month:11,day:7},"소설":{month:11,day:22},"대설":{month:12,day:7},"동지":{month:12,day:22}};let a=o[0],s=1/0;for(const u of o){const e=i[u.name];if(!e)continue;let c=31*n+t-(31*e.month+e.day);c<-300&&(c+=365),c>300&&(c-=365),c>=0&&c<s&&(s=c,a=u)}return{index:a.index,name:a.name,longitude:a.longitude,datetime:new Date(e.getFullYear(),n-1,t),yinYang:a.yinYang,ju:a.ju}}(e)}const m=[{name:"청룡반수",type:"auspicious",description:"생문과 천영성이 만나 명예와 재물이 함께 오는 대길격",effects:["재물운 상승","명예 획득","승진 가능","사업 성공","귀인 만남"],strength:10,check:(e,n)=>"생문"===e&&"천영"===n},{name:"천지삼기득기",type:"auspicious",description:"개문, 천보성, 직부가 만나 귀인의 도움을 받는 길격",effects:["귀인 도움","프로젝트 성공","협력 강화","명성 상승"],strength:9,check:(e,n,t)=>"개문"===e&&"천보"===n&&"직부"===t},{name:"청룡회두",type:"auspicious",description:"생문과 천임성이 만나 안정적인 재물 획득",effects:["재물 안정","저축 증가","신뢰 구축","장기 투자 길"],strength:8,check:(e,n)=>"생문"===e&&"천임"===n},{name:"태백입형",type:"auspicious",description:"경문과 천심성이 만나 의술, 예술, 창조 분야 대길",effects:["의술 발전","예술 성공","창조력 발휘","치유 능력"],strength:8,check:(e,n)=>"경문"===e&&"천심"===n},{name:"현무입간",type:"auspicious",description:"휴문과 천봉성이 만나 지혜와 전략이 발달",effects:["지혜 증진","전략 수립","계획 성공","학문 발전"],strength:7,check:(e,n)=>"휴문"===e&&"천봉"===n},{name:"육합태음",type:"auspicious",description:"개문에 육합과 태음이 만나 협력과 화합",effects:["협력 강화","중재 성공","관계 개선","타협 성공"],strength:7,check:(e,n,t)=>"개문"===e&&("육합"===t||"태음"===t)}],l=[{name:"등사입묘",type:"inauspicious",description:"사문과 천예성에 등사가 만나 질병, 재앙의 대흉격",effects:["질병 주의","재앙 경계","실패 위험","손실 가능"],strength:10,check:(e,n,t)=>"사문"===e&&"천예"===n&&"등사"===t},{name:"백호당문",type:"inauspicious",description:"상문에 백호가 머물러 충돌과 상처 위험",effects:["충돌 위험","상처 주의","분쟁 발생","사고 경계"],strength:9,check:(e,n,t)=>"상문"===e&&"백호"===t},{name:"형격반음",type:"inauspicious",description:"두문과 천충성이 만나 일이 막히고 지체됨",effects:["진행 지체","막힘 발생","소통 불가","고립 위험"],strength:8,check:(e,n)=>"두문"===e&&"천충"===n},{name:"현무투간",type:"inauspicious",description:"현무가 나쁜 궁에 들어가 도난, 사기 위험",effects:["도난 위험","사기 주의","배신 가능","속임 경계"],strength:8,check:(e,n,t)=>("사문"===e||"상문"===e)&&"현무"===t},{name:"백호충관",type:"inauspicious",description:"경문에 백호가 있어 관재수, 소송 위험",effects:["관재수 발생","소송 위험","법적 문제","명예 손상"],strength:7,check:(e,n,t)=>"경문"===e&&"백호"===t}],d=[{name:"반음",type:"neutral",description:"놀문과 천주성이 만나 예상치 못한 변화",effects:["예상 변화","돌발 상황","전환 시기","재평가 필요"],strength:6,check:(e,n)=>"놀문"===e&&"천주"===n},{name:"복음",type:"neutral",description:"휴문과 천금성이 만나 정체와 반복",effects:["정체 상태","반복 패턴","휴식 필요","재정비 시기"],strength:5,check:(e,n)=>"휴문"===e&&"천금"===n}];function p(e,n,t){const i=[];for(const a of m)a.check(e,n,t)&&i.push({id:`auspicious-${i.length}`,name:a.name,type:a.type,description:a.description,effects:a.effects,strength:a.strength});for(const a of l)a.check(e,n,t)&&i.push({id:`inauspicious-${i.length}`,name:a.name,type:a.type,description:a.description,effects:a.effects,strength:a.strength});for(const a of d)a.check(e,n,t)&&i.push({id:`neutral-${i.length}`,name:a.name,type:a.type,description:a.description,effects:a.effects,strength:a.strength});return i}const f=["갑","을","병","정","무","기","경","신","임","계"],h=["자","축","인","묘","진","사","오","미","신","유","술","해"],y=["휴문","생문","상문","두문","경문","사문","놀문","개문"],x=["천봉","천임","천충","천보","천영","천예","천주","천심","천금"],j=["직부","등사","태음","육합","백호","현무","구지","구천"];function Y(e={}){const n=e.dateTime||new Date,t=g(n);const i=t.yinYang,a=t.ju,s=function(e){const n=e.getHours(),t=Math.floor((n+1)%24/2),i=h[t],a=b(e),s=f.indexOf(a);return{gan:f[(2*s+t)%10],zhi:i}}(n),u=b(n),c=function(e,n,t){const i=(e-1)%9+1,a=function(e,n){const t={},i=[1,8,3,4,9,2,7,6],a=[1,6,7,2,9,4,3,8],s="yang"===n?i:a,u=(e-1)%8;for(let c=0;c<y.length;c++){t[s[(u+c)%8]]=y[c]}return t[5]=t[2],t}(i,n),s=function(e,n){const t={},i=[1,2,3,4,5,6,7,8,9],a=[9,8,7,6,5,4,3,2,1],s="yang"===n?i:a;for(let u=0;u<9;u++){t[s[(e-1+u)%9]]=x[u]}return t}(i,n),u=function(e,n){const t={},i=h.indexOf(n.zhi),a=[1,8,3,4,9,2,7,6],s=i%8;for(let u=0;u<j.length;u++){t[a[(s+u)%8]]=j[u]}return t[5]=t[2],t}(0,t),c={};for(let o=1;o<=9;o++){const e=o,n=a[e],i=s[e],r=u[e];c[e]=k(e,n,i,r,t)}return c}(a,i,s),o=function(e){const n={excellent:100,good:75,neutral:50,bad:25,terrible:0};let t=0;const i=[];for(let r=1;r<=9;r++){const a=r,s=n[e[a].fortune];t+=s,i.push({palace:a,score:s})}const a=Math.round(t/9);let s;s=a>=80?"excellent":a>=60?"good":a>=40?"neutral":a>=20?"bad":"terrible";i.sort((e,n)=>n.score-e.score);const u=i.slice(0,3).map(e=>e.palace),c=i.slice(-3).map(e=>e.palace);let o="";o="excellent"===s?"현재 시간은 매우 길한 시간입니다. 중요한 일을 추진하기 좋습니다.":"good"===s?"현재 시간은 길한 편입니다. 계획한 일을 진행하세요.":"neutral"===s?"현재 시간은 평온합니다. 일상적인 활동에 적합합니다.":"bad"===s?"현재 시간은 주의가 필요합니다. 신중하게 행동하세요.":"현재 시간은 불길합니다. 중요한 일은 미루는 것이 좋습니다.";return{score:a,level:s,summary:o,bestPalaces:u,worstPalaces:c}}(c);return{dateTime:n,ju:a,yinYang:i,solarTerm:{name:t.name,index:t.index,isStart:v(n,t)},hourGanZhi:s,dayGan:u,palaces:c,overallFortune:o}}function v(e,n){const t=n.datetime;return Math.abs(e.getTime()-t.getTime())/36e5<=24}function b(e){const n=new Date(1984,0,1),t=Math.floor((e.getTime()-n.getTime())/864e5);return f[(t%10+10)%10]}function k(a,s,u,c,o,r){const g=i[a],m=function(i,a,s){!function(i,a,s){const u=e[i].nature,c=n[a].nature,o=s?t[s].nature:"neutral",r={auspicious:2,neutral:1,inauspicious:0},g=(r[u]+r[c]+r[o])/3}(i,a,s);let u=50;const c=e[i].nature;"auspicious"===c?u+=15:"inauspicious"===c&&(u-=15);const o=n[a].nature;"auspicious"===o?u+=15:"inauspicious"===o&&(u-=15);if(s){const e=t[s].nature;"auspicious"===e?u+=20:"inauspicious"===e&&(u-=20)}let r;r=u>=80?"excellent":u>=60?"good":u>=40?"neutral":u>=20?"bad":"terrible";const g=p(i,a,s);return function(e,n){if(0===n.length)return e;const t=n.reduce((e,n)=>n.strength>e.strength?n:e);if("auspicious"===t.type&&t.strength>=9)return"excellent";if("inauspicious"===t.type&&t.strength>=9)return"terrible";if("auspicious"===t.type&&t.strength>=7){const n=["terrible","bad","neutral","good","excellent"],t=n.indexOf(e);return n[Math.min(t+1,n.length-1)]}if("inauspicious"===t.type&&t.strength>=7){const n=["terrible","bad","neutral","good","excellent"],t=n.indexOf(e);return n[Math.max(t-1,0)]}return e}(r,g)}(s,u,c),l=function(a,s,u,c,o){const r=i[a],g=e[s],m=n[u];let l=`${r} 방위 (${a}궁)은 `;l+="excellent"===o?"대길한 기운이 흐릅니다. ":"good"===o?"길한 기운이 있습니다. ":"neutral"===o?"평온한 기운입니다. ":"bad"===o?"조심해야 할 방위입니다. ":"매우 불길한 방위입니다. ";if(l+=`${g.meaning} `,l+=`${m.meaning} `,c){l+=`${t[c].meaning}이 작용하고 있습니다.`}return l}(a,s,u,c,m),d=function(n,t,i,a){const s=[];"excellent"!==a&&"good"!==a||(s.push("중요한 일을 시작하기 좋은 시간입니다"),s.push("이 방위로 이동하거나 이 방향을 보고 일하세요"),s.push("새로운 계획이나 프로젝트 추진에 유리합니다"));const u=e[n].effects.positive;u.length>0&&s.push(`${u.slice(0,2).join(", ")}에 집중하세요`);return s}(s,0,0,m),f=function(n,i,a,s){const u=[];"bad"!==s&&"terrible"!==s||(u.push("중요한 결정은 피하는 것이 좋습니다"),u.push("이 방위로의 이동이나 행동은 신중히 하세요"),u.push("갈등이나 분쟁의 소지가 있으니 주의하세요"));const c=e[n].effects.negative;c.length>0&&u.push(`${c.slice(0,2).join(", ")}를 경계하세요`);if(a){const e=t[a];"inauspicious"===e.nature&&u.push(`${e.characteristics.slice(0,2).join(", ")}에 주의하세요`)}return u}(s,0,c,m),h=p(s,u,c);return{palace:a,direction:g,gate:s,star:u,spirit:c,tianGan:o.gan,diZhi:o.zhi,wuXing:e[s].element,fortune:m,interpretation:l,recommendations:d,warnings:f,patterns:h.length>0?h:void 0}}export{e as G,a as P,n as S,u as a,c as b,Y as c,t as d,s as g};
