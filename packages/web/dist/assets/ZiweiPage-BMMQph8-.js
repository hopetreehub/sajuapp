import{j as e,b as r,r as s}from"./react-vendor-BqNk2DgB.js";import{C as t}from"./CustomerSelector-EAfVa5RC.js";import"./vendor-DgwlXjR1.js";import"./three-vendor-B4pyqsGd.js";import"./chart-vendor-DwU5C6A5.js";import"./customerApi-JV4xNEmH.js";var a=(e=>(e.PROSPEROUS="旺",e.FAVORABLE="利",e.FLAT="平",e.WEAK="陷",e.UNFAVORABLE="凶",e))(a||{});const l={"文昌":{name:"文昌",category:"lucky",nature:"auspicious",element:"金",score:8,description:"문예, 학문, 시험운을 주관하는 길성. 총명하고 문장력이 뛰어남",effects:{positive:["학업 성취","시험 합격","문서운","명예","재능"],negative:["현실성 부족","이상주의"]},keywords:["학문","시험","문서","총명","문장"]},"文曲":{name:"文曲",category:"lucky",nature:"auspicious",element:"水",score:7,description:"문예, 구변, 예술적 재능을 주관. 언변과 표현력이 좋음",effects:{positive:["언변","예술","외교","다재다능","인기"],negative:["산만함","일관성 부족"]},keywords:["언변","예술","외교","구변","재치"]},"左輔":{name:"左輔",category:"lucky",nature:"auspicious",element:"土",score:10,description:"귀인의 도움, 보좌, 협력을 상징. 리더십과 조직력",effects:{positive:["귀인 도움","리더십","조직력","협력","보좌"],negative:["독립성 부족"]},keywords:["귀인","도움","보좌","리더십","협력"]},"右弼":{name:"右弼",category:"lucky",nature:"auspicious",element:"水",score:10,description:"보좌, 협조, 조화를 상징. 인간관계가 원만함",effects:{positive:["인화","협조","조화","중재","보좌"],negative:["주체성 부족"]},keywords:["보좌","협조","조화","인화","중재"]},"天魁":{name:"天魁",category:"lucky",nature:"auspicious",element:"火",score:9,description:"낮의 귀인. 공개적이고 명예로운 도움을 받음",effects:{positive:["귀인 출현","명예","승진","공식 도움","권위"],negative:[]},keywords:["귀인","명예","승진","권위","공식"]},"天鉞":{name:"天鉞",category:"lucky",nature:"auspicious",element:"火",score:9,description:"밤의 귀인. 은밀하고 실질적인 도움을 받음",effects:{positive:["은밀한 도움","위기 해결","실질적 지원","보호"],negative:[]},keywords:["귀인","은밀","도움","보호","해결"]},"祿存":{name:"祿存",category:"lucky",nature:"auspicious",element:"土",score:12,description:"재물, 복록을 상징. 금전운이 좋고 안정적",effects:{positive:["재물","복록","안정","저축","수입"],negative:["인색함","보수적"]},keywords:["재물","복록","안정","저축","수입"]},"擎羊":{name:"擎羊",category:"unlucky",nature:"inauspicious",element:"金",score:-7,description:"형벌, 사고, 수술을 상징. 급하고 충동적",effects:{positive:["추진력","결단력","용기"],negative:["사고","수술","형벌","충동","다툼"]},keywords:["형벌","사고","수술","충동","급함"]},"陀羅":{name:"陀羅",category:"unlucky",nature:"inauspicious",element:"金",score:-6,description:"지연, 끈기, 집착을 상징. 일이 늦어지고 복잡함",effects:{positive:["끈기","인내","신중"],negative:["지연","집착","우유부단","복잡","지체"]},keywords:["지연","집착","끈기","복잡","지체"]},"火星":{name:"火星",category:"unlucky",nature:"inauspicious",element:"火",score:-5,description:"급성, 화재, 폭발을 상징. 성격이 급하고 충동적",effects:{positive:["신속","적극","열정"],negative:["화재","급성","충동","사고","폭발"]},keywords:["급성","화재","충동","신속","열정"]},"鈴星":{name:"鈴星",category:"unlucky",nature:"inauspicious",element:"火",score:-5,description:"서서히 타는 불. 만성적 문제, 불화",effects:{positive:["열정","지속","노력"],negative:["만성병","불화","소송","구설","번뇌"]},keywords:["만성","불화","소송","구설","번뇌"]},"地劫":{name:"地劫",category:"unlucky",nature:"inauspicious",element:"火",score:-8,description:"공허, 손실, 도난을 상징. 재물 손실",effects:{positive:["직관","영감","초월"],negative:["손실","도난","공허","사기","낭비"]},keywords:["손실","도난","공허","사기","낭비"]},"地空":{name:"地空",category:"unlucky",nature:"inauspicious",element:"火",score:-8,description:"허무, 좌절, 실패를 상징. 계획이 무산됨",effects:{positive:["철학","종교","초월"],negative:["실패","좌절","허무","무산","손해"]},keywords:["실패","좌절","허무","무산","손해"]},"化祿":{name:"化祿",category:"transformation",nature:"auspicious",element:"土",score:15,description:"재물운 상승. 수입 증가, 인기, 명예",effects:{positive:["재물 증가","인기","명예","기회","성공"],negative:[]},keywords:["재물","인기","명예","기회","성공"]},"化權":{name:"化權",category:"transformation",nature:"auspicious",element:"木",score:12,description:"권력운 상승. 지위 향상, 리더십, 영향력",effects:{positive:["권력","지위","리더십","영향력","승진"],negative:["고집","독선"]},keywords:["권력","지위","리더십","영향력","승진"]},"化科":{name:"化科",category:"transformation",nature:"auspicious",element:"金",score:10,description:"명예운 상승. 시험 합격, 학문 성취, 명성",effects:{positive:["명예","시험","학문","명성","인정"],negative:[]},keywords:["명예","시험","학문","명성","인정"]},"化忌":{name:"化忌",category:"transformation",nature:"inauspicious",element:"水",score:-10,description:"불운, 장애, 좌절. 계획이 틀어지고 어려움 발생",effects:{positive:[],negative:["불운","장애","좌절","어려움","손실"]},keywords:["불운","장애","좌절","어려움","손실"]},"天官":{name:"天官",category:"year",nature:"auspicious",element:"土",score:6,description:"관록, 지위, 공직운. 승진과 명예",effects:{positive:["승진","지위","관록","명예","공직"],negative:[]},keywords:["승진","지위","관록","명예","공직"]},"天福":{name:"天福",category:"year",nature:"auspicious",element:"土",score:7,description:"복덕, 행복, 평안. 길운이 함께함",effects:{positive:["복덕","행복","평안","길운","안정"],negative:[]},keywords:["복덕","행복","평안","길운","안정"]},"天廚":{name:"天廚",category:"year",nature:"auspicious",element:"土",score:5,description:"의식주, 음식, 생활 안정. 풍족함",effects:{positive:["의식주","음식","생활","풍족","안정"],negative:["식탐"]},keywords:["의식주","음식","생활","풍족","안정"]},"天才":{name:"天才",category:"year",nature:"auspicious",element:"金",score:6,description:"재능, 총명, 영리함. 학습 능력 뛰어남",effects:{positive:["재능","총명","영리","학습","지혜"],negative:[]},keywords:["재능","총명","영리","학습","지혜"]},"天壽":{name:"天壽",category:"year",nature:"auspicious",element:"土",score:8,description:"장수, 건강, 수명. 장수 운이 좋음",effects:{positive:["장수","건강","수명","장생","복"],negative:[]},keywords:["장수","건강","수명","장생","복"]},"天月":{name:"天月",category:"month",nature:"inauspicious",element:"火",score:-4,description:"질병, 건강 문제, 병고. 건강 주의",effects:{positive:[],negative:["질병","건강 문제","병고","통증","허약"]},keywords:["질병","건강","병고","통증","허약"]},"陰煞":{name:"陰煞",category:"month",nature:"inauspicious",element:"水",score:-5,description:"음험, 암해, 은밀한 해. 배신과 모함",effects:{positive:[],negative:["음험","암해","배신","모함","은밀"]},keywords:["음험","암해","배신","모함","은밀"]},"天貴":{name:"天貴",category:"hour",nature:"auspicious",element:"火",score:7,description:"귀인, 명예, 고귀함. 지위가 높아짐",effects:{positive:["귀인","명예","고귀","지위","품격"],negative:[]},keywords:["귀인","명예","고귀","지위","품격"]},"天傷":{name:"天傷",category:"hour",nature:"inauspicious",element:"金",score:-3,description:"상처, 다침, 부상. 사고 조심",effects:{positive:[],negative:["상처","다침","부상","사고","통증"]},keywords:["상처","다침","부상","사고","통증"]},"台輔":{name:"台輔",category:"general",nature:"auspicious",element:"土",score:7,description:"보좌, 도움, 협력. 귀인의 지원",effects:{positive:["보좌","도움","협력","지원","귀인"],negative:[]},keywords:["보좌","도움","협력","지원","귀인"]},"封誥":{name:"封誥",category:"general",nature:"auspicious",element:"土",score:6,description:"명예, 인정, 포상. 공적 인정",effects:{positive:["명예","인정","포상","공적","칭찬"],negative:[]},keywords:["명예","인정","포상","공적","칭찬"]},"恩光":{name:"恩光",category:"general",nature:"auspicious",element:"火",score:5,description:"은덕, 빛, 영광. 좋은 평판",effects:{positive:["은덕","빛","영광","평판","명성"],negative:[]},keywords:["은덕","빛","영광","평판","명성"]},"天巫":{name:"天巫",category:"general",nature:"neutral",element:"水",score:2,description:"종교, 신비, 영감. 직관력 뛰어남",effects:{positive:["종교","신비","영감","직관","감수성"],negative:["미신","환상"]},keywords:["종교","신비","영감","직관","감수성"]},"天德":{name:"天德",category:"general",nature:"auspicious",element:"土",score:8,description:"덕행, 도덕, 선행. 화를 복으로 바꿈",effects:{positive:["덕행","도덕","선행","화해","해결"],negative:[]},keywords:["덕행","도덕","선행","화해","해결"]},"月德":{name:"月德",category:"general",nature:"auspicious",element:"土",score:7,description:"덕행, 평화, 안정. 평온함",effects:{positive:["덕행","평화","안정","평온","조화"],negative:[]},keywords:["덕행","평화","안정","평온","조화"]},"解神":{name:"解神",category:"general",nature:"auspicious",element:"木",score:6,description:"해결, 화해, 풀림. 문제 해결",effects:{positive:["해결","화해","풀림","타협","조정"],negative:[]},keywords:["해결","화해","풀림","타협","조정"]},"天官符":{name:"天官符",category:"general",nature:"inauspicious",element:"金",score:-4,description:"관재, 소송, 법적 문제. 관청 일",effects:{positive:[],negative:["관재","소송","법적 문제","관청","분쟁"]},keywords:["관재","소송","법적","관청","분쟁"]},"孤辰":{name:"孤辰",category:"general",nature:"inauspicious",element:"火",score:-3,description:"고독, 독립, 외로움. 혼자 있음",effects:{positive:["독립","자주","집중"],negative:["고독","외로움","고립","인연 부족"]},keywords:["고독","독립","외로움","고립","인연"]},"寡宿":{name:"寡宿",category:"general",nature:"inauspicious",element:"水",score:-3,description:"고독, 외로움, 배우자 인연 박함",effects:{positive:["집중","독립","사색"],negative:["고독","외로움","배우자 인연 부족","이별"]},keywords:["고독","외로움","배우자","이별","독립"]},"蜚廉":{name:"蜚廉",category:"general",nature:"inauspicious",element:"火",score:-2,description:"분주, 바쁨, 소모. 쉴 틈 없음",effects:{positive:["활동","역동"],negative:["분주","바쁨","소모","피곤","불안"]},keywords:["분주","바쁨","소모","피곤","활동"]},"破碎":{name:"破碎",category:"general",nature:"inauspicious",element:"金",score:-4,description:"파괴, 손상, 깨짐. 물건 파손",effects:{positive:[],negative:["파괴","손상","파손","손실","깨짐"]},keywords:["파괴","손상","파손","손실","깨짐"]},"華蓋":{name:"華蓋",category:"general",nature:"neutral",element:"木",score:1,description:"예술, 고독, 종교. 예술적 재능과 고독",effects:{positive:["예술","재능","종교","철학","사색"],negative:["고독","외로움","고립"]},keywords:["예술","재능","고독","종교","사색"]},"咸池":{name:"咸池",category:"general",nature:"neutral",element:"水",score:0,description:"이성운, 유흥, 색정. 이성 관계 복잡",effects:{positive:["매력","인기","사교"],negative:["유흥","색정","스캔들","문란","유혹"]},keywords:["이성","유흥","매력","스캔들","사교"]},"天馬":{name:"天馬",category:"general",nature:"neutral",element:"火",score:5,description:"변동, 이동, 바쁨을 상징. 활동적이고 역동적",effects:{positive:["이동","변화","활동","기회","역동"],negative:["불안정","분주","정착 어려움"]},keywords:["이동","변동","활동","바쁨","역동"]},"紅鸞":{name:"紅鸞",category:"general",nature:"auspicious",element:"水",score:8,description:"결혼, 연애, 기쁜 일. 혼인운이 좋음",effects:{positive:["결혼","연애","기쁨","인연","만남"],negative:["감정 소모"]},keywords:["결혼","연애","기쁨","인연","혼인"]},"天喜":{name:"天喜",category:"general",nature:"auspicious",element:"水",score:7,description:"기쁨, 경사, 좋은 소식. 희소식이 들림",effects:{positive:["기쁨","경사","희소식","축하","행복"],negative:[]},keywords:["기쁨","경사","희소식","축하","행복"]},"天空":{name:"天空",category:"general",nature:"inauspicious",element:"火",score:-4,description:"공상, 이상, 비현실적. 실속이 없음",effects:{positive:["창의","상상","예술"],negative:["공상","비현실","실속 없음","낭비"]},keywords:["공상","이상","비현실","창의","상상"]},"天刑":{name:"天刑",category:"general",nature:"inauspicious",element:"火",score:-3,description:"형벌, 소송, 법적 문제. 다툼과 분쟁",effects:{positive:["정의감","엄격","원칙"],negative:["소송","형벌","분쟁","다툼","처벌"]},keywords:["소송","형벌","분쟁","다툼","정의"]},"天姚":{name:"天姚",category:"general",nature:"neutral",element:"水",score:0,description:"이성운, 매력, 유혹. 이성 관계가 복잡",effects:{positive:["매력","인기","예술","감수성"],negative:["유혹","스캔들","복잡","애정 문제"]},keywords:["이성","매력","유혹","인기","감수성"]},"天哭":{name:"天哭",category:"general",nature:"inauspicious",element:"金",score:-2,description:"슬픔, 눈물, 이별. 감정적 고통",effects:{positive:["감수성","공감","예술"],negative:["슬픔","눈물","이별","상실","애도"]},keywords:["슬픔","눈물","이별","상실","감정"]},"天虛":{name:"天虛",category:"general",nature:"inauspicious",element:"水",score:-2,description:"허약, 건강 문제, 공허함",effects:{positive:["섬세","조심","신중"],negative:["허약","건강 문제","공허","불안"]},keywords:["허약","건강","공허","불안","섬세"]},"龍池":{name:"龍池",category:"general",nature:"auspicious",element:"水",score:4,description:"예술적 재능, 문예, 미적 감각",effects:{positive:["예술","문예","미적 감각","창의","재능"],negative:[]},keywords:["예술","문예","미감","창의","재능"]},"鳳閣":{name:"鳳閣",category:"general",nature:"auspicious",element:"火",score:4,description:"명예, 지위, 권위. 고상함",effects:{positive:["명예","지위","권위","고상","품격"],negative:[]},keywords:["명예","지위","권위","고상","품격"]}};const n={"甲":{"祿":"廉貞","權":"破軍","科":"武曲","忌":"太陽"},"乙":{"祿":"天機","權":"天梁","科":"紫微","忌":"太陰"},"丙":{"祿":"天同","權":"天機","科":"天府","忌":"廉貞"},"丁":{"祿":"太陰","權":"天同","科":"天機","忌":"巨門"},"戊":{"祿":"貪狼","權":"太陰","科":"天機","忌":"天機"},"己":{"祿":"武曲","權":"貪狼","科":"天梁","忌":"天府"},"庚":{"祿":"太陽","權":"武曲","科":"太陰","忌":"天同"},"辛":{"祿":"巨門","權":"太陽","科":"天府","忌":"天府"},"壬":{"祿":"天梁","權":"紫微","科":"天府","忌":"武曲"},"癸":{"祿":"破軍","權":"巨門","科":"太陰","忌":"貪狼"}};function d(e,r){const s=r.find(r=>r.star===e);return s?s.transformation:null}const i={"化祿":20,"化權":15,"化科":12,"化忌":-15},c=["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],o=["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官祿宮","田宅宮","福德宮","父母宮"],x=["紫微","天機","太陽","武曲","天同","廉貞"],g=["天府","太陰","貪狼","巨門","天相","天梁","七殺","破軍"],m={0:"金四局",1:"金四局",2:"水二局",3:"水二局",4:"火六局",5:"火六局",6:"木三局",7:"木三局",8:"土五局",9:"土五局"};function u(e){return c.indexOf(e)}function h(e){const r=(e+1)%24;return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][Math.floor(r/2)]}function p(e,r,s,t){const x={},g=u(e),m=function(e){const r=function(e){return["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"][((e-1984)%10+10)%10]}(e),s=n[r];return[{star:s.祿,transformation:"化祿"},{star:s.權,transformation:"化權"},{star:s.科,transformation:"化科"},{star:s.忌,transformation:"化忌"}]}(t);return o.forEach((e,t)=>{const n=c[(g+t)%12],o=r[n]||[],u=[...s[n]||[]];o.forEach(e=>{const r=d(e,m);r&&u.push(r)});const h=function(e,r,s){let t=50;const a={"紫微":20,"天機":10,"太陽":15,"武曲":12,"天同":15,"廉貞":8,"天府":18,"太陰":12,"貪狼":10,"巨門":5,"天相":14,"天梁":16,"七殺":7,"破軍":6};return e.forEach(e=>{t+=a[e]||5;const r=d(e,s);r&&(t+=i[r])}),r.forEach(e=>{const r=(null==(s=l[e])?void 0:s.score)||0;var s;t+=r}),Math.max(0,Math.min(100,t))}(o,u,m),p=h>=80?a.PROSPEROUS:h>=60?a.FAVORABLE:h>=40?a.FLAT:h>=20?a.WEAK:a.UNFAVORABLE;x[e]={name:e,branch:n,mainStars:o,auxiliaryStars:u,strength:p,luckyScore:h,description:y(e,o),keywords:b(e,o)}}),x}function y(e,r,s){let t={"命宮":"당신의 전반적인 성격과 운명을 나타냅니다.","兄弟宮":"형제자매와의 관계, 친구운을 나타냅니다.","夫妻宮":"배우자와의 인연, 결혼운을 나타냅니다.","子女宮":"자녀운, 자녀와의 관계를 나타냅니다.","財帛宮":"재물운, 금전 관리 능력을 나타냅니다.","疾厄宮":"건강 상태, 체질적 특성을 나타냅니다.","遷移宮":"외출운, 이동 및 변화운을 나타냅니다.","奴僕宮":"부하, 친구의 도움을 나타냅니다.","官祿宮":"직업, 사업운, 명예를 나타냅니다.","田宅宮":"부동산운, 가정환경을 나타냅니다.","福德宮":"정신세계, 취미, 여가를 나타냅니다.","父母宮":"부모, 상사와의 관계를 나타냅니다."}[e];return r.length>0&&(t+=` ${r[0]}이(가) 자리하여 영향을 미칩니다.`),t}function b(e,r){const s=[],t={"紫微":["리더십","권위","고귀함"],"天機":["지혜","계획","변화"],"太陽":["명예","권력","외향적"],"武曲":["재물","용기","결단력"],"天同":["복덕","평화","안정"],"廉貞":["정열","변화","활동적"],"天府":["재물","안정","보수적"],"太陰":["모성","재능","예술"],"貪狼":["욕망","인기","다재다능"],"巨門":["언변","분쟁","탐구"],"天相":["보좌","조화","외교"],"天梁":["수명","해결","노련함"],"七殺":["권력","고독","강함"],"破軍":["파괴","혁신","변화"]};return r.forEach(e=>{t[e]&&s.push(...t[e])}),s.slice(0,5)}function j(e,r,s,t){if(!s)return`${e}세부터 ${e+9}세까지의 운세입니다.`;const a=s.luckyScore>=80?"매우 좋은":s.luckyScore>=60?"좋은":s.luckyScore>=40?"보통의":s.luckyScore>=20?"어려운":"매우 어려운";return`${e}세~${e+9}세는 ${r}(${{"命宮":"인생의 기본 운세","兄弟宮":"형제자매와 친구 관계","夫妻宮":"배우자와 결혼 생활","子女宮":"자녀와의 관계","財帛宮":"재물과 수입","疾厄宮":"건강과 체력","遷移宮":"이동과 변화","奴僕宮":"부하와 친구의 도움","官祿宮":"직업과 명예","田宅宮":"부동산과 가정","福德宮":"정신적 안정과 복","父母宮":"부모와 상사의 도움"}[r]})이 주관하는 시기로 ${a} 운세입니다. ${s.mainStars.join(", ")||"주성 없음"}의 영향을 받습니다.`}function k(e,r,s,t){const a=r.getFullYear(),l=r.getMonth()+1,n=r.getDate(),d=a-s+1,i=(((u(e)+d-1)%12+l-1)%12+n-1)%12,x=c[i],g=o[i%12],m=t[g],h=m?m.luckyScore:50,p=["일","월","화","수","목","금","토"][r.getDay()],y=function(e,r,s,t,a,l){if(!l)return`${e}년 ${r}월 ${s}일 (${t})의 운세입니다.`;const n=l.luckyScore>=80?"매우 유리":l.luckyScore>=60?"유리":l.luckyScore>=40?"보통":l.luckyScore>=20?"주의 필요":"불리";return`${r}/${s}(${t})은 ${a}의 영향으로 ${{"命宮":"자신의 능력을 발휘하기","兄弟宮":"친구와 협력하기","夫妻宮":"배우자와 상담하기","子女宮":"자녀와 시간 보내기","財帛宮":"재물 관리 및 계약","疾厄宮":"건강 관리","遷移宮":"이동 및 변화","奴僕宮":"팀워크","官祿宮":"업무 및 명예 활동","田宅宮":"부동산 및 가정 일","福德宮":"휴식 및 취미","父母宮":"윗사람과의 상담"}[a]}에 ${n}합니다. 점수: ${l.luckyScore}점`}(a,l,n,p,g,m),b=m?m.keywords.slice(0,3):["노력","기회","주의"];return{date:`${a}-${String(l).padStart(2,"0")}-${String(n).padStart(2,"0")}`,year:a,month:l,day:n,age:d,palace:g,branch:x,description:y,luckyScore:h,keywords:b,dayOfWeek:p}}function f(e){const r=function(e){const r=function(e){return((e-1984)%60+60)%60}(e),s=Math.floor(r/10)%10;return m[s]||"水二局"}(e.year),s=function(e,r){let s=0;s=(s+e-1)%12;const t=h(r);return s=(s-["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].indexOf(t)+12)%12,c[s]}(e.month,e.hour),t=function(e,r){let s=0;s=(s+e-1)%12;const t=h(r);return s=(s+["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].indexOf(t))%12,c[s]}(e.month,e.hour),a=function(e){const r={};c.forEach(e=>{r[e]=[]});const s=u(e);x.forEach((e,t)=>{r[c[(s-t+12)%12]].push(e)});const t=(6-s+12)%12;return g.forEach((e,s)=>{r[c[(t+s)%12]].push(e)}),r}(function(e,r,s){const t={"水二局":0,"木三局":2,"金四局":4,"土五局":5,"火六局":6}[s],a=(e-1)%12,l=Math.floor(r/2);return c[(t+a+l)%12]}(e.day,e.hour,r)),l=function(e,r,s,t,a){const l={};c.forEach(e=>{l[e]=[]});const n=u(e),d=r%10,i=r%12,o=(s+1)%12,x=(n+a/2)%12;l[c[Math.floor(x)]].push("文昌");const g=(n-a/2+12)%12;l[c[Math.floor(g)]].push("文曲"),l[c[(n+1)%12]].push("左輔"),l[c[(n-1+12)%12]].push("右弼"),l[c[(n+[1,0,11,11,1,0,7,8,7,8][d])%12]].push("天魁"),l[c[(n+[7,8,2,2,4,4,10,10,4,4][d])%12]].push("天鉞");const m=[2,3,5,6,5,6,8,9,11,0];l[c[(n+m[d])%12]].push("祿存"),l[c[(n+m[d]+1)%12]].push("擎羊"),l[c[(n+m[d]-1+12)%12]].push("陀羅"),l[c[(n+[2,3,1,0,11,9,8,7,6,5,4,3][i])%12]].push("火星"),l[c[(n+[3,2,4,5,6,8,9,10,11,0,1,2][i])%12]].push("鈴星"),l[c[(n+(11-i)+12)%12]].push("地劫"),l[c[(n+i+1)%12]].push("地空"),l[c[(n+[2,11,8,5,2,11,8,5,2,11,8,5][i])%12]].push("天馬");const p=(3-i+12)%12;l[c[p]].push("紅鸞"),l[c[(p+6)%12]].push("天喜"),l[c[(n+i)%12]].push("天空"),l[c[(10+i)%12]].push("天刑"),l[c[(7-i+12)%12]].push("天姚"),l[c[(n+5)%12]].push("天哭"),l[c[(n+11)%12]].push("天虛"),l[c[(n+4)%12]].push("龍池"),l[c[(n+10)%12]].push("鳳閣");const y=i;({0:["天官"],1:["天福"],2:["天廚"],3:["天才"],4:["天壽"],5:["天官"],6:["天福"],7:["天廚"],8:["天才"],9:["天壽"],10:["天官"],11:["天福"]}[y]||[]).forEach(e=>{l[c[y]].push(e)}),({0:["天月"],1:["陰煞"],2:["天月"],3:["陰煞"],4:["天月"],5:["陰煞"],6:["天月"],7:["陰煞"],8:["天月"],9:["陰煞"],10:["天月"],11:["陰煞"]}[o]||[]).forEach(e=>{l[c[o]].push(e)});const b=u(h(a));return l[c[b]].push("天貴"),l[c[(b+6)%12]].push("天傷"),["台輔","封誥","恩光","天巫","天德","月德","解神"].forEach((e,r)=>{l[c[(n+d+2*r)%12]].push(e)}),l[c[(n+[2,2,5,5,5,8,8,8,11,11,11,2][i])%12]].push("孤辰"),l[c[(n+[10,10,1,1,1,4,4,4,7,7,7,10][i])%12]].push("寡宿"),l[c[(n+i+5)%12]].push("蜚廉"),l[c[(n+i+9)%12]].push("破碎"),l[c[(n+i+4)%12]].push("華蓋"),l[c[(n+i-1+12)%12]].push("咸池"),l}(s,e.year,e.month,e.day,e.hour),n=p(s,a,l,e.year),d=function(e,r,s,t,a){const l=[],n={"水二局":2,"木三局":3,"金四局":4,"土五局":5,"火六局":6}[r],d=s%10%2==0,i="male"===t&&d||"female"===t&&!d,x=u(e);for(let g=0;g<8;g++){const e=n+10*g,r=(x+g*(i?1:-1)+12)%12,s=c[r],t=o[r%12],d=a[t],m=d?d.luckyScore:50,u=j(e,t,d),h=d?d.keywords.slice(0,3):["변화","성장","도전"];l.push({startAge:e,endAge:e+9,palace:t,branch:s,direction:i?"forward":"backward",description:u,luckyScore:m,keywords:h})}return l}(s,r,e.year,e.gender,n),i=(new Date).getFullYear(),y=(new Date).getMonth()+1,b=function(e,r,s,t){const a=r-s+1,l=(u(e)+a-1)%12,n=c[l],d=o[l%12],i=t[d],x=i?i.luckyScore:50,g=function(e,r,s,t){if(!t)return`${e}년 ${r}세의 운세입니다.`;const a=t.luckyScore>=80?"매우 좋습니다":t.luckyScore>=60?"좋습니다":t.luckyScore>=40?"보통입니다":t.luckyScore>=20?"주의가 필요합니다":"매우 조심해야 합니다";return`${e}년 (${r}세)은 ${s}의 영향을 받아 ${{"命宮":"자신의 운명에 집중하는","兄弟宮":"형제와 친구의 도움을 받는","夫妻宮":"배우자와 관계가 중요한","子女宮":"자녀와의 인연이 있는","財帛宮":"재물과 수입이 주목받는","疾厄宮":"건강 관리가 중요한","遷移宮":"변화와 이동이 많은","奴僕宮":"사람들의 도움을 받는","官祿宮":"직업과 명예가 빛나는","田宅宮":"가정과 부동산이 안정되는","福德宮":"정신적으로 충만한","父母宮":"부모와 상사의 은혜를 받는"}[s]} 해입니다. 올해 운세는 ${a}.`}(r,a,d,i);return{year:r,age:a,palace:d,branch:n,description:g,luckyScore:x,keywords:i?i.keywords.slice(0,3):["기회","변화","성장"]}}(s,i,e.year,n),f=function(e,r,s,t,a){const l=r-t+1,n=((u(e)+l-1)%12+s-1)%12,d=c[n],i=o[n%12],x=a[i],g=x?x.luckyScore:50,m=function(e,r,s,t,a){if(!a)return`${e}년 ${r}월의 운세입니다.`;return`${e}년 ${r}월 (${s}세)은 ${t}의 영향을 받는 달입니다. 이번 달 운세는 ${a.luckyScore>=80?"매우 좋습니다":a.luckyScore>=60?"좋습니다":a.luckyScore>=40?"보통입니다":a.luckyScore>=20?"주의가 필요합니다":"매우 조심해야 합니다"}.`}(r,s,l,i,x);return{year:r,month:s,age:l,palace:i,branch:d,description:m,luckyScore:g,keywords:x?x.keywords.slice(0,3):["변화","기회","노력"]}}(s,i,y,e.year,n),v=function(e,r,s){const t=new Date,a=[];for(let l=0;l<7;l++){const n=new Date(t);n.setDate(t.getDate()+l);const d=k(e,n,r,s);a.push(d)}return a}(s,e.year,n),N=function(e){const r=e["命宮"],s=e["財帛宮"],t=e["官祿宮"],a=Math.round((r.luckyScore+s.luckyScore+t.luckyScore)/3);return{score:a,level:a>=80?"excellent":a>=60?"good":a>=40?"neutral":a>=20?"bad":"terrible",summary:"자미두수 명반 분석 결과입니다. 14주성의 배치를 통해 전반적인 운세를 분석했습니다.",strengths:["명궁의 길성 배치","재물궁의 안정적 구조"],weaknesses:["일부 궁위의 흉성 영향"],advice:["길한 방위로 이동하세요","재물 관리에 주의하세요"],luckyElements:["긍정적 사고","적극적 행동"],unluckyElements:["과도한 욕심","성급한 판단"]}}(n),w={personality:n["命宮"].keywords,career:n["官祿宮"].keywords,wealth:n["財帛宮"].keywords,health:n["疾厄宮"].keywords,relationships:n["兄弟宮"].keywords};return{birthInfo:{...e,lunar:e.lunar||!1},bureau:r,palaces:n,lifePalaceBranch:s,bodyPalaceBranch:t,majorFortunes:d,yearlyFortune:b,monthlyFortune:f,weeklyFortunes:v,overallFortune:N,characteristics:w}}function v({chart:r,selectedPalace:s,onPalaceSelect:t}){const a={};["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官祿宮","田宅宮","福德宮","父母宮"].forEach(e=>{const s=r.palaces[e];a[s.branch]=e});const l=e=>e>=80?"text-green-700 dark:text-green-300":e>=60?"text-blue-700 dark:text-blue-300":e>=40?"text-gray-700 dark:text-gray-300":e>=20?"text-orange-700 dark:text-orange-300":"text-red-700 dark:text-red-300",n=(a,n)=>{if(!a)return e.jsx("div",{className:"aspect-square flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"⭐"}),e.jsx("div",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:"자미두수"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"紫微斗數"})]})});const d=r.palaces[a],i=s===a,c="命宮"===a;return e.jsx("button",{onClick:()=>t(a),className:`\n          aspect-square w-full p-3 rounded-lg border-2 transition-all duration-200\n          ${o=d.luckyScore,o>=80?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":o>=60?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":o>=40?"bg-gray-50 dark:bg-gray-800/20 border-gray-300 dark:border-gray-700":o>=20?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700"}\n          ${i?"ring-4 ring-purple-500 scale-105 shadow-xl":"hover:scale-102 hover:shadow-lg"}\n          ${c?"ring-2 ring-purple-300 dark:ring-purple-700":""}\n        `,children:e.jsxs("div",{className:"h-full flex flex-col justify-between text-left",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:n}),c&&e.jsx("span",{className:"text-xs bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded",children:"命"})]}),e.jsx("h3",{className:`text-sm font-bold mb-2 ${l(d.luckyScore)}`,children:a})]}),e.jsxs("div",{className:"flex-1 space-y-0.5",children:[d.mainStars.slice(0,2).map((r,s)=>e.jsxs("div",{className:"text-xs font-medium text-purple-700 dark:text-purple-300 truncate",children:["★ ",r]},s)),d.mainStars.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",d.mainStars.length-2,"성"]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:d.strength}),e.jsx("span",{className:`text-sm font-bold ${l(d.luckyScore)}`,children:d.luckyScore})]})})]})});var o};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"📊 12궁위 명반"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["명궁: ",r.lifePalaceBranch," · 신궁: ",r.bodyPalaceBranch]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-4xl mx-auto",children:[["巳","午","未","申"],["辰","","","酉"],["卯","","","戌"],["寅","丑","子","亥"]].map((r,s)=>r.map((r,t)=>{const l=r?a[r]:null;return e.jsx("div",{children:n(l,r)},`${s}-${t}`)}))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 flex-wrap text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 dark:bg-green-900/30 border-2 border-green-300 dark:border-green-700 rounded"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"대길 (80+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-700 rounded"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"길 (60+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-800/30 border-2 border-gray-300 dark:border-gray-700 rounded"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"평 (40+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-100 dark:bg-orange-900/30 border-2 border-orange-300 dark:border-orange-700 rounded"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"흉 (20+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 rounded"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"대흉 (20-)"})]})]})}),!s&&e.jsx("div",{className:"mt-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"💡 궁위를 클릭하면 상세 정보를 확인할 수 있습니다"})]})}function N({palace:s,onClose:t}){r.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 "+(a=s.luckyScore,a>=80?"bg-green-50 dark:bg-green-900/20":a>=60?"bg-blue-50 dark:bg-blue-900/20":a>=40?"bg-gray-50 dark:bg-gray-800/20":a>=20?"bg-orange-50 dark:bg-orange-900/20":"bg-red-50 dark:bg-red-900/20"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:s.name}),e.jsx("span",{className:"text-lg text-gray-500 dark:text-gray-400",children:s.branch})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"닫기",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"길흉 점수"}),e.jsx("div",{className:`text-5xl font-bold ${(e=>e>=80?"text-green-600 dark:text-green-400":e>=60?"text-blue-600 dark:text-blue-400":e>=40?"text-gray-600 dark:text-gray-400":e>=20?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400")(s.luckyScore)}`,children:s.luckyScore})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"상태"}),e.jsx("div",{className:"text-2xl font-bold text-gray-700 dark:text-gray-200",children:(e=>e>=80?"대길 🌟":e>=60?"길 ✨":e>=40?"평 ⚖️":e>=20?"흉 ⚠️":"대흉 ❌")(s.luckyScore)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.strength})]})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-2",children:"📝 해석"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:s.description})]}),s.mainStars.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-3",children:"⭐ 주성 (主星)"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:s.mainStars.map((r,s)=>e.jsxs("div",{className:"px-4 py-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:"⭐"}),e.jsx("div",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:r})]},s))})]}),s.auxiliaryStars.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-3",children:"✨ 보조성"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.auxiliaryStars.map((r,s)=>e.jsx("span",{className:"px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-full text-sm text-blue-700 dark:text-blue-300",children:r},s))})]}),s.keywords.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-3",children:"🔑 키워드"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((r,s)=>e.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 border border-purple-200 dark:border-purple-800 rounded-full text-sm font-medium text-purple-700 dark:text-purple-300",children:r},s))})]}),0===s.mainStars.length&&0===s.auxiliaryStars.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🌙"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"이 궁위에는 주요 별자리가 배치되지 않았습니다"})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"닫기"})})]})});var a}function w({chart:r,customer:t,selectedPalace:a,onClose:l}){const[n,d]=s.useState([{role:"system",content:t?`안녕하세요 ${t.name}님! 저는 자미두수 AI 상담사입니다. ${t.name}님의 명반(命盤) 정보를 바탕으로 맞춤 조언을 드리겠습니다. 궁금하신 점을 물어보세요! ⭐`:"안녕하세요! 저는 자미두수 AI 상담사입니다. 궁금하신 점을 물어보세요! ⭐",timestamp:new Date}]),[i,c]=s.useState(""),[o,x]=s.useState(!1),[g,m]=s.useState("general"),u=s.useRef(null),h=s.useRef(null),[p,y]=s.useState(new Map),[b,j]=s.useState(!1),k=s.useRef(null);s.useEffect(()=>{var e;null==(e=u.current)||e.scrollIntoView({behavior:"smooth"})},[n]),s.useEffect(()=>{var e;null==(e=h.current)||e.focus()},[]),s.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;k.current=new e,k.current.lang="ko-KR",k.current.continuous=!1,k.current.interimResults=!1,k.current.onresult=e=>{const r=e.results[0][0].transcript;c(r),j(!1)},k.current.onerror=e=>{j(!1)},k.current.onend=()=>{j(!1)}}return()=>{k.current&&k.current.stop()}},[]);const f=async e=>{try{const s=(e=>{var s,l;const n=t?`[고객 정보]\n- 이름: ${t.name}\n- 생년월일시: ${t.birth_date} ${t.birth_time||"시간 미상"}\n- 성별: ${"male"===t.gender?"남성":"female"===t.gender?"여성":"미상"}\n- 음양력: ${"lunar"===t.lunar_solar?"음력":"양력"}\n`:"",d=a?`[선택한 궁위: ${a}]\n- 궁위: ${a} (${r.palaces[a].branch})\n- 주성: ${r.palaces[a].mainStars.join(", ")||"없음"}\n- 보조성: ${r.palaces[a].auxiliaryStars.join(", ")||"없음"}\n- 길흉점수: ${r.palaces[a].luckyScore}점\n- 해석: ${r.palaces[a].description}\n`:"";return`당신은 자미두수(紫微斗數) 전문가입니다. 아래 명반 정보를 바탕으로 사용자의 질문에 친절하게 답변해주세요.\n\n${n}\n[명반 기본 정보]\n- 납음오행 국수: ${r.bureau}\n- 명궁: ${r.lifePalaceBranch} (${r.palaces["命宮"].mainStars.join(", ")||"없음"})\n- 신궁: ${r.bodyPalaceBranch}\n- 종합 점수: ${r.overallFortune.score}점 (${r.overallFortune.level})\n- 종합 평가: ${r.overallFortune.summary}\n\n[12궁위 주성 배치]\n${Object.entries(r.palaces).map(([e,r])=>`- ${e} (${r.branch}): ${r.mainStars.join(", ")||"없음"} (${r.luckyScore}점)`).join("\n")}\n\n[사화성 (四化星) - 생년 천간에 따른 특별한 영향]\n${Object.entries(r.palaces).filter(([e,r])=>r.auxiliaryStars.some(e=>["化祿","化權","化科","化忌"].includes(e))).map(([e,r])=>{const s=r.auxiliaryStars.filter(e=>["化祿","化權","化科","化忌"].includes(e)),t=r.mainStars.find(e=>s.length>0);return s.map(r=>`- ${e}: ${t}이(가) ${r} (재물운/권력운/명예운/불운에 큰 영향)`).join("\n")}).join("\n")}\n\n[주요 특성]\n- 성격: ${r.characteristics.personality.join(", ")}\n- 직업: ${r.characteristics.career.join(", ")}\n- 재물: ${r.characteristics.wealth.join(", ")}\n- 건강: ${r.characteristics.health.join(", ")}\n- 인간관계: ${r.characteristics.relationships.join(", ")}\n\n[대운 (大運) - 10년 단위 운세]\n- 현재 대운: ${(null==(s=r.majorFortunes.find(e=>r.yearlyFortune.age>=e.startAge&&r.yearlyFortune.age<=e.endAge))?void 0:s.description)||"대운 정보 없음"}\n- 대운 점수: ${(null==(l=r.majorFortunes.find(e=>r.yearlyFortune.age>=e.startAge&&r.yearlyFortune.age<=e.endAge))?void 0:l.luckyScore)||50}점\n\n[유년운 (流年) - 올해 운세]\n- ${r.yearlyFortune.description}\n- 올해 점수: ${r.yearlyFortune.luckyScore}점\n- 올해 키워드: ${r.yearlyFortune.keywords.join(", ")}\n\n[유월운 (流月運) - 이번 달 운세]\n- ${r.monthlyFortune.description}\n- 이번 달 점수: ${r.monthlyFortune.luckyScore}점\n- 이번 달 키워드: ${r.monthlyFortune.keywords.join(", ")}\n\n[이번 주 일진 (7일 운세)]\n${r.weeklyFortunes.map(e=>`- ${e.date} (${e.dayOfWeek}요일): ${e.palace} ${e.branch} | ${e.luckyScore}점 | ${e.keywords.join(", ")}\n  → ${e.description}`).join("\n")}\n\n⚠️ 중요: 사용자가 "이번 주 중 언제", "어느 날", "무슨 요일" 같은 질문을 하면 위 7일 일진 정보를 바탕으로 구체적인 날짜와 요일을 추천해주세요!\n- 점수가 가장 높은 날을 1순위로 추천\n- 해당 날짜의 궁위 특성과 키워드를 언급\n- 피해야 할 낮은 점수의 날도 함께 알려주기\n\n${d}\n[상담 목적]\n${{general:"종합 운세",career:"직업/관록궁 중심 분석",wealth:"재물/재백궁 중심 분석",health:"건강/질액궁 중심 분석",relationship:"인간관계/노복궁 중심 분석",marriage:"결혼/부부궁 중심 분석",family:"가족/부모궁/형제궁 중심 분석",study:"학업/자녀궁 중심 분석"}[g]}\n\n[사용자 질문]\n${e}\n\n[답변 지침]\n🚫 절대 금지 사항:\n1. 영어, 중국어, 일본어, 러시아어, 아랍어 등 모든 외국어 사용 절대 금지\n2. 마크다운 형식(#, **, -, 등) 사용 금지\n3. <think> 태그나 사고 과정 노출 금지\n4. 불완전한 문장 금지 (예: "에 이 있어", "과 점수가" 등)\n\n✅ 반드시 지킬 사항:\n1. 오직 한국어만 사용 (숫자, 문장부호 포함)\n2. 궁위 이름은 반드시 완전하게 표현\n   - 좋은 예: "관록궁이 57점으로 낮아 경쟁에서 어려움을 겪을 수 있어요"\n   - 나쁜 예: "공식운이 57점으로 낮아 에 이 있어" (불완전)\n3. 친구처럼 자연스럽고 친근한 말투 (~해요, ~네요, ~거든요)\n4. 구체적인 궁위명, 주성명, 점수를 정확히 언급\n5. 💡 현실적이고 균형 잡힌 조언 제공:\n   - 좋은 점만 강조하지 말고 주의할 점도 반드시 언급\n   - 낮은 점수(60점 미만)는 솔직하게 알려주고 극복 방법 제시\n   - "~하면 좋아요"가 아닌 "~해야 합니다", "~주의하세요" 같은 구체적 표현 사용\n6. 📋 구체적인 실천 방법 제시:\n   - 추상적인 조언 금지 (예: "노력하세요" ❌)\n   - 구체적인 행동 지침 제공 (예: "매일 아침 30분 운동하세요" ✅)\n   - 시기, 방법, 대상을 명확히 제시\n7. ⚠️ 위험 요소 명확히 전달:\n   - 점수가 낮은 궁위는 어떤 문제가 생길 수 있는지 구체적으로 설명\n   - 피해야 할 행동, 조심해야 할 시기를 명시\n8. 200자 내외로 간결하게 답변\n9. 같은 질문이라도 매번 다양한 표현과 관점으로 답변\n\n📋 12궁위 정확한 표현:\n명궁, 부모궁, 복덕궁, 전택궁, 관록궁, 노복궁, 천이궁, 질액궁, 재백궁, 자녀궁, 부부궁, 형제궁`})(e),l=await fetch("/api/v1/ziwei/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s,userQuestion:e})});if(!l.ok)return v(e);const n=await l.json();return n.success&&n.response?n.response:v(e)}catch(s){return v(e)}},v=e=>{const s=e.toLowerCase(),a=r.palaces["命宮"],l=r.palaces["官祿宮"],n=r.palaces["財帛宮"],d=r.palaces["夫妻宮"];return s.includes("직업")||s.includes("일")||s.includes("사업")||s.includes("진로")?`${(null==t?void 0:t.name)||"당신"}님의 관록궁(직업운)은 ${l.branch}에 ${l.mainStars.join(", ")}이 있어요. ${l.description} 점수는 ${l.luckyScore}점으로, ${l.luckyScore>=60?"좋은 직업운":"노력이 필요한 시기"}입니다. ${r.characteristics.career.slice(0,2).join(", ")} 분야가 잘 맞을 거예요! 💼`:s.includes("재물")||s.includes("돈")||s.includes("재산")||s.includes("금전")?`${(null==t?void 0:t.name)||"당신"}님의 재백궁(재물운)은 ${n.branch}에 ${n.mainStars.join(", ")}이 있어요. ${n.description} 점수는 ${n.luckyScore}점입니다. ${r.characteristics.wealth.slice(0,2).join(", ")} 방식으로 재물을 모으시면 좋을 것 같아요! 💰`:s.includes("결혼")||s.includes("배우자")||s.includes("부부")?`${(null==t?void 0:t.name)||"당신"}님의 부부궁(결혼운)은 ${d.branch}에 ${d.mainStars.join(", ")}이 있어요. ${d.description} 점수는 ${d.luckyScore}점으로, ${d.luckyScore>=60?"좋은 인연":"서로 이해하고 노력하는 관계"}가 예상됩니다. 💕`:s.includes("성격")||s.includes("특징")||s.includes("나는")?`${(null==t?void 0:t.name)||"당신"}님의 명궁은 ${a.branch}에 ${a.mainStars.join(", ")}이 있어요. ${a.description} 성격적으로는 ${r.characteristics.personality.slice(0,3).join(", ")} 특징이 있으시네요. 이런 성격이 ${(null==t?void 0:t.name)||"당신"}님의 큰 강점이에요! ⭐`:`${(null==t?void 0:t.name)||"당신"}님의 명반을 보면, ${r.bureau}이며 종합 점수는 ${r.overallFortune.score}점입니다. ${r.overallFortune.summary} 더 구체적으로 궁금한 점을 말씀해 주시면 자세히 답변드릴게요! ⭐`},N=async()=>{if(!i.trim()||o)return;const e={role:"user",content:i.trim(),timestamp:new Date};d(r=>[...r,e]),c(""),x(!0);try{const r={role:"assistant",content:await f(e.content),timestamp:new Date};d(e=>[...e,r])}catch{const e={role:"assistant",content:"죄송합니다. 응답 생성 중 오류가 발생했습니다. 다시 시도해주세요.",timestamp:new Date};d(r=>[...r,e])}finally{x(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center md:items-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl md:rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] md:h-[750px] flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-t-3xl md:rounded-t-3xl flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-2xl",children:"⭐"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-lg",children:"자미두수 AI 상담사"}),e.jsx("p",{className:"text-purple-100 text-xs",children:(null==t?void 0:t.name)&&`${t.name}님 전문 상담`})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 overflow-x-auto",children:e.jsx("div",{className:"flex gap-2 flex-nowrap",children:[{key:"general",icon:"⭐",label:"종합"},{key:"career",icon:"💼",label:"직업"},{key:"wealth",icon:"💰",label:"재물"},{key:"health",icon:"❤️",label:"건강"},{key:"relationship",icon:"👥",label:"인간관계"},{key:"marriage",icon:"💕",label:"결혼"},{key:"family",icon:"🏠",label:"가족"},{key:"study",icon:"📚",label:"학업"}].map(r=>e.jsxs("button",{onClick:()=>m(r.key),className:"px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all "+(g===r.key?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"),children:[r.icon," ",r.label]},r.key))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map((r,s)=>e.jsx("div",{className:"flex "+("user"===r.role?"justify-end":"justify-start"),children:e.jsxs("div",{className:"max-w-[80%] rounded-2xl px-4 py-2 "+("user"===r.role?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"assistant"===r.role?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"bg-purple-50 dark:bg-purple-900/20 text-purple-800 dark:text-purple-300 border border-purple-200 dark:border-purple-800"),children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:r.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},s)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-2xl px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:u})]}),1===n.length&&e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"💡 이런 질문을 해보세요:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:{general:["내 운세가 어떤가요?","가장 강한 궁위는 어디인가요?","주의해야 할 점은 무엇인가요?","내 명반의 특징은 뭔가요?"],career:["어떤 직업이 잘 맞나요?","사업을 시작해도 될까요?","이직 시기가 언제인가요?","승진 운은 어떤가요?"],wealth:["재물운이 좋은가요?","투자를 해도 될까요?","돈은 어떻게 모아야 하나요?","재물이 언제 들어오나요?"],health:["건강은 어떤가요?","조심해야 할 질병은 뭐가 있나요?","건강을 위해 뭘 해야 하나요?","수술 시기는 언제가 좋나요?"],relationship:["대인관계가 어떤가요?","좋은 인연을 만날 수 있나요?","친구 관계는 어떤가요?","사람들과 어떻게 지내야 하나요?"],marriage:["결혼운이 좋은가요?","배우자는 어떤 사람인가요?","결혼 시기는 언제인가요?","부부 관계는 어떤가요?"],family:["가족운이 어떤가요?","부모님과의 관계는?","형제자매 관계는 어떤가요?","가정에서 주의할 점은?"],study:["학업운이 좋은가요?","어떤 공부가 잘 맞나요?","시험 운은 어떤가요?","학업에서 주의할 점은?"]}[g].map((r,s)=>e.jsx("button",{onClick:()=>c(r),className:"text-xs px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:r},s))})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{k.current?b?(k.current.stop(),j(!1)):(k.current.start(),j(!0)):alert("이 브라우저는 음성 인식을 지원하지 않습니다.")},disabled:o,className:`px-3 py-3 rounded-full font-medium transition-all shadow-md ${b?"bg-red-500 text-white animate-pulse-strong":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"} disabled:opacity-50`,title:"음성 입력",children:b?"🎤":"🎙️"}),e.jsx("input",{ref:h,type:"text",value:i,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},placeholder:b?"음성 인식 중...":"질문을 입력하세요...",disabled:o,className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-full text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50"}),e.jsx("button",{onClick:N,disabled:!i.trim()||o,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full font-medium hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",children:"전송"})]}),b&&e.jsx("div",{className:"mt-2 text-center text-sm text-red-500 dark:text-red-400 animate-pulse",children:"🎤 듣고 있습니다... 말씀해주세요"})]})]})})}function $({onClose:r}){const[t,a]=s.useState("what");return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"📖 자미두수 초보자 가이드"}),e.jsx("p",{className:"text-purple-100",children:"송나라 시대부터 전해지는 정밀 운명 분석 시스템"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":"닫기",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>a("what"),className:"flex-1 px-6 py-3 font-medium transition-colors "+("what"===t?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"),children:"자미두수란?"}),e.jsx("button",{onClick:()=>a("how"),className:"flex-1 px-6 py-3 font-medium transition-colors "+("how"===t?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"),children:"사용 방법"}),e.jsx("button",{onClick:()=>a("terms"),className:"flex-1 px-6 py-3 font-medium transition-colors "+("terms"===t?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"),children:"용어 설명"})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-200px)]",children:["what"===t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"⭐ 자미두수란?"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:["자미두수(紫微斗數)는 ",e.jsx("strong",{children:"태어난 생년월일시"}),"를 바탕으로",e.jsx("strong",{children:" 14개의 주요 별(14주성)"}),"과 ",e.jsx("strong",{children:"12개의 인생 영역(12궁위)"}),"을 분석하는 중국 송나라 시대부터 전해지는 운명 분석 시스템입니다."]}),e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:["💡 ",e.jsx("strong",{children:"마치 당신만의 우주 지도처럼"}),", 태어날 때 하늘의 별자리 배치를 기록하여 성격, 직업, 재물, 건강, 결혼 등 인생 전반을 깊이 있게 이해할 수 있습니다."]})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"💡 무엇을 알 수 있나요?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🎭"}),e.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-1",children:"성격과 재능"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"타고난 성격, 강점, 약점, 인생에서 중요하게 여기는 가치관"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"💼"}),e.jsx("h4",{className:"font-bold text-green-900 dark:text-green-300 mb-1",children:"직업과 재물"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"적성에 맞는 직업, 재물운, 사업 성공 가능성"})]}),e.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"💑"}),e.jsx("h4",{className:"font-bold text-pink-900 dark:text-pink-300 mb-1",children:"결혼과 인간관계"}),e.jsx("p",{className:"text-sm text-pink-700 dark:text-pink-400",children:"배우자 운, 연애 스타일, 가족 관계, 친구 관계"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"❤️"}),e.jsx("h4",{className:"font-bold text-red-900 dark:text-red-300 mb-1",children:"건강과 수명"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"주의해야 할 건강 문제, 체질, 장수 가능성"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📅"}),e.jsx("h4",{className:"font-bold text-orange-900 dark:text-orange-300 mb-1",children:"대운과 유년운"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:"10년 단위 인생 변화, 매년 달라지는 운세"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🏠"}),e.jsx("h4",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"자녀와 가정"}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:"자녀 운, 가정 생활, 부모와의 인연"})]})]})]}),e.jsxs("section",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"font-bold text-yellow-900 dark:text-yellow-300 mb-2",children:"⚠️ 참고사항"}),e.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-400 space-y-1",children:[e.jsxs("li",{children:["• 자미두수는 태어난 시간이 ",e.jsx("strong",{children:"매우 중요"}),"합니다. 정확한 시간을 입력하세요."]}),e.jsx("li",{children:"• 음력/양력 구분이 중요합니다. 1985년 이후 출생자는 대부분 양력입니다."}),e.jsxs("li",{children:["• 운명은 고정된 것이 아니라 ",e.jsx("strong",{children:"참고하고 준비하는 도구"}),"입니다."]}),e.jsx("li",{children:"• 부정적인 해석도 나올 수 있지만, 미리 알고 대비하면 피해갈 수 있습니다!"})]})]})]}),"how"===t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"📱 화면 구성 및 사용법"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"고객 선택하기"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:['화면 상단의 "고객 선택하기" 버튼을 눌러 ',e.jsx("strong",{children:"생년월일시"}),"를 입력하세요. 이미 등록된 고객이 있다면 선택만 하면 됩니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2",children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 음력/양력 구분이 매우 중요합니다! 1985년 이후 출생자는 대부분 양력입니다. 태어난 시간(시, 분)을 정확히 입력할수록 분석이 정확해집니다."]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"기본 명반 정보 확인"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["첫 번째 카드에서 ",e.jsx("strong",{children:"납음오행 국수"}),", ",e.jsx("strong",{children:"명궁"}),", ",e.jsx("strong",{children:"신궁"}),"을 확인할 수 있습니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2 space-y-1",children:[e.jsxs("p",{children:["💡 ",e.jsx("strong",{children:"명궁(命宮)"}),": 당신의 핵심 성격과 인생 방향"]}),e.jsxs("p",{children:["💡 ",e.jsx("strong",{children:"신궁(身宮)"}),": 중년 이후 인생에서 중요해지는 영역"]}),e.jsxs("p",{children:["💡 ",e.jsx("strong",{children:"납음오행 국수"}),": 수국(2), 목국(3), 금국(4), 토국(5), 화국(6) 중 하나"]})]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"종합 운세 점수"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["두 번째 카드에서 ",e.jsx("strong",{children:"종합 점수(0-100점)"}),"를 확인할 수 있습니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2",children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 70점 이상이면 매우 좋은 명반입니다. 50-70점은 평균, 50점 미만은 주의가 필요하지만 노력으로 극복 가능합니다!"]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"주요 특성 5가지"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["세 번째 카드에서 ",e.jsx("strong",{children:"성격, 직업, 재물, 건강, 인간관계"})," 5가지 핵심 특성을 확인하세요."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2",children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 각 영역별로 3-5개씩 키워드가 나옵니다. 자신과 맞는지 체크하고, 특히 ",e.jsx("strong",{children:"직업"})," 부분은 진로 선택 시 참고하세요!"]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"올해 운세 (유년운)"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["네 번째 섹션에서 ",e.jsx("strong",{children:"올해(2025년) 운세"}),"를 확인할 수 있습니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2",children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 올해 주관 궁위가 어디인지 확인하세요. 예를 들어 재백궁이면 재물운이, 관록궁이면 직장운이 특히 중요한 해입니다!"]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"6"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"현재 대운 (10년 운세)"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["대운은 ",e.jsx("strong",{children:"10년 단위"}),"로 변화하는 큰 흐름입니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2 space-y-1",children:[e.jsx("p",{children:"💡 예: 20-29세는 복덕궁 대운 → 학업과 자기계발의 시기"}),e.jsx("p",{children:"💡 예: 30-39세는 재백궁 대운 → 재물 형성의 중요한 시기"}),e.jsxs("p",{children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 현재 대운의 키워드를 보고 이 10년 동안 집중할 분야를 파악하세요!"]})]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"7"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"12궁위 차트 보기"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:["하단의 ",e.jsx("strong",{children:"12궁위 차트"}),"를 보면 각 인생 영역에 어떤 별들이 있는지 시각적으로 확인할 수 있습니다."]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2",children:["💡 ",e.jsx("strong",{children:"실전 팁:"})," 각 궁위를 클릭하면 상세 해석이 나옵니다. 특히 관심 있는 영역(부부궁, 재백궁, 관록궁 등)을 중점적으로 확인하세요!"]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold",children:"8"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1",children:"AI 상담사에게 질문하기"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:'"🤖 AI 상담 시작하기" 버튼을 누르면 궁금한 점을 자유롭게 물어볼 수 있습니다.'}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 p-2 rounded mt-2 space-y-1",children:[e.jsx("p",{children:'💡 예시 질문: "제 명반에서 재물운이 어떤가요?"'}),e.jsx("p",{children:'💡 예시 질문: "올해 전직하려고 하는데 괜찮을까요?"'}),e.jsx("p",{children:'💡 예시 질문: "결혼 운은 언제쯤 좋아지나요?"'}),e.jsx("p",{children:'💡 예시 질문: "자녀 궁에 있는 별들은 무슨 의미인가요?"'})]})]})]})]})]}),e.jsxs("section",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-3 text-lg",children:"🎯 실전 활용 시나리오"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsxs("h5",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[e.jsx("span",{children:"🎓"}),e.jsx("span",{children:"시나리오 1: 진로 결정 (20대 초반)"})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"1단계:"}),' 주요 특성 카드에서 "직업" 섹션 확인',e.jsx("br",{}),e.jsx("strong",{children:"2단계:"})," 관록궁(사업/직장 운)을 클릭하여 상세 보기",e.jsx("br",{}),e.jsx("strong",{children:"3단계:"})," 현재 대운의 키워드 확인 (학업? 창업? 취업?)",e.jsx("br",{}),e.jsx("strong",{children:"4단계:"}),' AI에게 "제 명반으로 공무원과 민간 기업 중 어디가 더 맞나요?" 질문',e.jsx("br",{}),e.jsx("strong",{children:"5단계:"})," 종합하여 진로 방향 설정"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsxs("h5",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[e.jsx("span",{children:"💑"}),e.jsx("span",{children:"시나리오 2: 결혼 시기 및 배우자 타입"})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"1단계:"})," 부부궁을 클릭하여 어떤 별들이 있는지 확인",e.jsx("br",{}),e.jsx("strong",{children:"2단계:"}),' 주요 특성에서 "인간관계" 확인',e.jsx("br",{}),e.jsx("strong",{children:"3단계:"})," 유년운과 대운에서 부부궁이 활성화되는 시기 찾기",e.jsx("br",{}),e.jsx("strong",{children:"4단계:"}),' AI에게 "제 명반으로 볼 때 배우자는 어떤 성격일까요?" 질문',e.jsx("br",{}),e.jsx("strong",{children:"5단계:"})," 복덕궁과 부부궁을 교차 확인 (이상형과 실제 배우자 타입)"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsxs("h5",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[e.jsx("span",{children:"💰"}),e.jsx("span",{children:"시나리오 3: 재테크 및 사업 타이밍"})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"1단계:"})," 재백궁(재물 운)을 클릭하여 상세 확인",e.jsx("br",{}),e.jsx("strong",{children:"2단계:"}),' 주요 특성에서 "재물" 키워드 확인',e.jsx("br",{}),e.jsx("strong",{children:"3단계:"})," 올해 운세(유년운)의 점수가 60점 이상인지 체크",e.jsx("br",{}),e.jsx("strong",{children:"4단계:"})," 현재 대운이 재물과 관련된 궁위인지 확인",e.jsx("br",{}),e.jsx("strong",{children:"5단계:"}),' AI에게 "지금 창업하면 성공할 수 있을까요?" 질문',e.jsx("br",{}),e.jsx("strong",{children:"6단계:"})," 부정적이라면 언제가 좋을지 재문의"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsxs("h5",{className:"font-bold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[e.jsx("span",{children:"❤️"}),e.jsx("span",{children:"시나리오 4: 건강 관리 포인트"})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"1단계:"})," 질액궁(건강 운)을 클릭하여 주의사항 확인",e.jsx("br",{}),e.jsx("strong",{children:"2단계:"}),' 주요 특성에서 "건강" 섹션의 키워드 정리',e.jsx("br",{}),e.jsx("strong",{children:"3단계:"})," 약한 부위(예: 호흡기, 소화기 등) 파악",e.jsx("br",{}),e.jsx("strong",{children:"4단계:"}),' AI에게 "제 명반으로 볼 때 어떤 건강 검진을 받아야 하나요?" 질문',e.jsx("br",{}),e.jsx("strong",{children:"5단계:"})," 매년 건강검진 항목 선택 시 참고"]})]})]})]}),e.jsxs("section",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"font-bold text-yellow-900 dark:text-yellow-300 mb-2",children:"⚠️ 자주 묻는 질문 (FAQ)"}),e.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-400 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 font-bold",children:"Q:"}),e.jsxs("div",{children:[e.jsx("strong",{children:"종합 점수가 낮게 나왔어요. 인생이 불행한 건가요?"}),e.jsx("br",{}),"A: 아닙니다! 점수는 타고난 명반의 강약일 뿐입니다. 노력, 환경, 교육으로 얼마든지 극복 가능합니다. 오히려 약한 부분을 미리 알고 대비하는 것이 더 유리합니다!"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 font-bold",children:"Q:"}),e.jsxs("div",{children:[e.jsx("strong",{children:"태어난 시간을 정확히 모르는데 어떻게 하나요?"}),e.jsx("br",{}),'A: 부모님께 확인하거나, 출생증명서를 확인하세요. 정말 모르겠다면 오전(09:00), 정오(12:00), 오후(15:00) 등 추정 시간으로 입력 후 "명궁"이 자신과 맞는지 확인해보세요.']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 font-bold",children:"Q:"}),e.jsxs("div",{children:[e.jsx("strong",{children:"12궁위가 너무 복잡해요. 어디부터 봐야 하나요?"}),e.jsx("br",{}),"A: 처음엔 ",e.jsx("strong",{children:"명궁, 재백궁, 관록궁, 부부궁"})," 4가지만 집중하세요. 이것만으로도 성격, 재물, 직업, 결혼을 파악할 수 있습니다!"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 font-bold",children:"Q:"}),e.jsxs("div",{children:[e.jsx("strong",{children:"대운과 유년운은 뭐가 다른가요?"}),e.jsx("br",{}),"A: ",e.jsx("strong",{children:"대운"}),"은 10년 단위 큰 흐름(예: 20대 전반은 학업 시기),",e.jsx("strong",{children:"유년운"}),"은 그 해만의 운세(예: 2025년은 직장 변동의 해)입니다."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 font-bold",children:"Q:"}),e.jsxs("div",{children:[e.jsx("strong",{children:"음력 생일인데 양력으로 입력하면 결과가 달라지나요?"}),e.jsx("br",{}),"A: 네! 완전히 다른 결과가 나옵니다. 반드시 정확하게 선택하세요. 1985년 이후 출생자는 대부분 양력입니다."]})]})]})]})]}),"terms"===t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"⭐ 14주성(十四主星) - 14개의 주요 별"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"자미두수의 핵심! 14개의 별이 12궁위에 배치되어 운명을 결정합니다."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-400 mb-2",children:"👑 자미성계 (紫微星系) - 황제의 별들"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"자미성"}),": 황제, 리더십, 고귀함"]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"천기성"}),": 지혜, 계획, 참모"]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"태양성"}),": 명예, 권위, 남성성"]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"무곡성"}),": 재물, 식복, 풍요"]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"천동성"}),": 복덕, 평화, 안정"]}),e.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[e.jsx("strong",{children:"염정성"}),": 재능, 예술, 매력"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-400 mb-2",children:"💼 천부성계 (天府星系) - 재상의 별들"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"천부성"}),": 재물, 보수적, 안정"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"태음성"}),": 모성, 부드러움, 여성성"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"탐랑성"}),": 욕망, 다재다능, 변화"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"거문성"}),": 문학, 예술, 섬세함"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"천상성"}),": 희생, 박애, 종교"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"천량성"}),": 장수, 의료, 봉사"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"칠살성"}),": 무예, 용맹, 강단"]}),e.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("strong",{children:"파군성"}),": 개척, 파괴, 혁신"]})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"🏛️ 12궁위(十二宮位) - 12개 인생 영역"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"인생의 12가지 중요한 영역을 나타냅니다."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-green-900 dark:text-green-300 mb-1",children:"1. 명궁 (命宮)"}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-400",children:"성격, 외모, 인생 방향의 핵심"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-blue-900 dark:text-blue-300 mb-1",children:"2. 부모궁 (父母宮)"}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:"부모 인연, 유년기 환경"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"3. 복덕궁 (福德宮)"}),e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-400",children:"행복, 취미, 정신세계"})]}),e.jsxs("div",{className:"p-3 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-pink-900 dark:text-pink-300 mb-1",children:"4. 전택궁 (田宅宮)"}),e.jsx("div",{className:"text-sm text-pink-700 dark:text-pink-400",children:"부동산 운, 집안 환경"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-yellow-900 dark:text-yellow-300 mb-1",children:"5. 관록궁 (官祿宮)"}),e.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:"직업, 사회적 지위, 사업운"})]}),e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-red-900 dark:text-red-300 mb-1",children:"6. 노복궁 (奴僕宮)"}),e.jsx("div",{className:"text-sm text-red-700 dark:text-red-400",children:"친구, 부하, 동료 관계"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-orange-900 dark:text-orange-300 mb-1",children:"7. 천이궁 (遷移宮)"}),e.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-400",children:"외지 생활, 여행, 이동 운"})]}),e.jsxs("div",{className:"p-3 bg-teal-50 dark:bg-teal-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-teal-900 dark:text-teal-300 mb-1",children:"8. 질액궁 (疾厄宮)"}),e.jsx("div",{className:"text-sm text-teal-700 dark:text-teal-400",children:"건강, 질병, 체질"})]}),e.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-cyan-900 dark:text-cyan-300 mb-1",children:"9. 재백궁 (財帛宮)"}),e.jsx("div",{className:"text-sm text-cyan-700 dark:text-cyan-400",children:"재물 운, 돈 관리 능력"})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-1",children:"10. 자녀궁 (子女宮)"}),e.jsx("div",{className:"text-sm text-indigo-700 dark:text-indigo-400",children:"자녀 운, 자녀와의 인연"})]}),e.jsxs("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-rose-900 dark:text-rose-300 mb-1",children:"11. 부부궁 (夫妻宮)"}),e.jsx("div",{className:"text-sm text-rose-700 dark:text-rose-400",children:"결혼 운, 배우자 타입"})]}),e.jsxs("div",{className:"p-3 bg-lime-50 dark:bg-lime-900/20 rounded-lg",children:[e.jsx("div",{className:"font-bold text-lime-900 dark:text-lime-300 mb-1",children:"12. 형제궁 (兄弟宮)"}),e.jsx("div",{className:"text-sm text-lime-700 dark:text-lime-400",children:"형제자매, 동업자 관계"})]})]})]}),e.jsxs("section",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-900 dark:text-purple-300 mb-2",children:"🎯 간단히 기억하세요!"}),e.jsxs("ul",{className:"text-sm text-purple-700 dark:text-purple-400 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"명궁"}),": 나 자신 (성격/외모)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"재백궁"}),": 돈 (재물운)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"관록궁"}),": 직업 (사회적 성공)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"부부궁"}),": 결혼 (배우자/연애)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"복덕궁"}),": 행복 (정신적 만족)"]})]}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3",children:"💡 이 5가지만 제대로 이해해도 자미두수의 80%는 알 수 있습니다!"})]})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:e.jsx("button",{onClick:r,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:"시작하기"})})]})})}function S(){const[r,a]=s.useState(null),[l,n]=s.useState(null),[d,i]=s.useState(!1),[c,o]=s.useState(null),[x,g]=s.useState(!1),[m,u]=s.useState(!1),[h,p]=s.useState(null),[y,b]=s.useState(null),[j,k]=s.useState(!1);s.useEffect(()=>{k((null==h?void 0:h.id)!==(null==y?void 0:y.id))},[h,y]),s.useEffect(()=>{if(y)try{i(!0),o(null);const e=y.birth_date.split("-").map(Number),r=y.birth_time?y.birth_time.split(":").map(Number):[12,0],s=f({year:e[0],month:e[1],day:e[2],hour:r[0],minute:r[1],lunar:"lunar"===y.lunar_solar,gender:y.gender});a(s)}catch(e){const r=e instanceof Error?e.message:"알 수 없는 오류";o(r)}finally{i(!1)}else a(null)},[y]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-2",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 dark:from-purple-400 dark:via-pink-400 dark:to-blue-400",children:"⭐ 자미두수"}),e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors flex items-center gap-2",children:[e.jsx("span",{children:"📖"}),e.jsx("span",{children:"초보자 가이드"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"紫微斗數 - 14주성과 12궁위로 보는 정밀 운명 분석"})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[e.jsx(t,{selectedCustomer:h,onSelect:p,showAddButton:!0}),h&&e.jsx("button",{onClick:()=>{b(h),k(!1)},disabled:!j,className:"px-6 py-2 rounded-lg font-medium transition-all "+(j?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl animate-pulse":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed"),children:j?"✨ 적용하기":"✓ 적용됨"})]}),y&&e.jsxs("div",{className:"mt-4 text-sm text-center text-gray-600 dark:text-gray-400",children:["💡 현재 ",e.jsx("strong",{children:y.name}),"님 (",y.birth_date," ",y.birth_time,")의 명반(命盤)을 분석 중입니다"]}),h&&j&&e.jsxs("div",{className:"mt-4 text-sm text-center text-orange-600 dark:text-orange-400 font-medium",children:["⚠️ ",e.jsx("strong",{children:h.name}),'님으로 변경하려면 "적용하기" 버튼을 클릭하세요']})]})}),d&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"명반(命盤) 계산 중..."})]}),c&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-xl font-bold text-red-700 dark:text-red-300 mb-2",children:"차트 계산 실패"}),e.jsx("p",{className:"text-red-600 dark:text-red-400",children:c})]}),!d&&!r&&!c&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"🔮"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"고객을 선택해주세요"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:['위의 "고객 선택하기" 버튼을 클릭하여',e.jsx("br",{}),"명반(命盤) 분석을 시작하세요"]}),e.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"⭐"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200",children:"14주성"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"자미성계 6성 + 천부성계 8성의 별자리 배치"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"🏛️"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200",children:"12궁위"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"명궁, 부부궁, 재백궁 등 인생 12개 영역 분석"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"📅"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200",children:"대운·유년운"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"10년 단위 대운과 1년 단위 유년운 예측"})]})]})]})]}),!d&&r&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:"📊 기본 명반 정보"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"납음오행 국수"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:r.bureau})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"명궁(命宮)"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.lifePalaceBranch})]}),e.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"신궁(身宮)"}),e.jsx("div",{className:"text-2xl font-bold text-pink-600 dark:text-pink-400",children:r.bodyPalaceBranch})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:"🌟 종합 운세"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"text-6xl font-bold "+(r.overallFortune.score>=80?"text-green-500":r.overallFortune.score>=60?"text-blue-500":r.overallFortune.score>=40?"text-yellow-500":r.overallFortune.score>=20?"text-orange-500":"text-red-500"),children:r.overallFortune.score}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"종합 점수"}),e.jsx("div",{className:"text-xl font-bold text-gray-700 dark:text-gray-200",children:"excellent"===r.overallFortune.level?"대길 🌟":"good"===r.overallFortune.level?"길 ✨":"neutral"===r.overallFortune.level?"평 ⚖️":"bad"===r.overallFortune.level?"흉 ⚠️":"대흉 ❌"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.overallFortune.summary})]}),e.jsxs("div",{className:"space-y-4",children:[r.overallFortune.strengths.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-600 dark:text-green-400 mb-2",children:"✅ 강점"}),e.jsx("ul",{className:"space-y-1",children:r.overallFortune.strengths.map((r,s)=>e.jsx("li",{className:"text-sm text-gray-700 dark:text-gray-300 pl-4 relative before:content-['•'] before:absolute before:left-0",children:r},s))})]}),r.overallFortune.weaknesses.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:"⚠️ 약점"}),e.jsx("ul",{className:"space-y-1",children:r.overallFortune.weaknesses.map((r,s)=>e.jsx("li",{className:"text-sm text-gray-700 dark:text-gray-300 pl-4 relative before:content-['•'] before:absolute before:left-0",children:r},s))})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:"💎 주요 특성"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-600 dark:text-purple-400 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"🎭"}),e.jsx("span",{children:"성격"})]}),e.jsx("ul",{className:"space-y-2",children:r.characteristics.personality.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:["• ",r]},s))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"💼"}),e.jsx("span",{children:"직업"})]}),e.jsx("ul",{className:"space-y-2",children:r.characteristics.career.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:["• ",r]},s))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"💰"}),e.jsx("span",{children:"재물"})]}),e.jsx("ul",{className:"space-y-2",children:r.characteristics.wealth.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:["• ",r]},s))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"❤️"}),e.jsx("span",{children:"건강"})]}),e.jsx("ul",{className:"space-y-2",children:r.characteristics.health.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:["• ",r]},s))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-pink-600 dark:text-pink-400 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"👥"}),e.jsx("span",{children:"인간관계"})]}),e.jsx("ul",{className:"space-y-2",children:r.characteristics.relationships.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:["• ",r]},s))})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl shadow-lg p-6 border border-orange-200 dark:border-orange-800",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx("span",{children:"📅"}),e.jsx("span",{children:"올해 운세 (流年運)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.yearlyFortune.year,"년 (",r.yearlyFortune.age,"세)"]}),e.jsxs("div",{className:"text-3xl font-bold "+(r.yearlyFortune.luckyScore>=80?"text-green-600":r.yearlyFortune.luckyScore>=60?"text-blue-600":r.yearlyFortune.luckyScore>=40?"text-yellow-600":r.yearlyFortune.luckyScore>=20?"text-orange-600":"text-red-600"),children:[r.yearlyFortune.luckyScore,"점"]})]}),e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["주관 궁위: ",e.jsx("strong",{className:"text-orange-600 dark:text-orange-400",children:r.yearlyFortune.palace})," (",r.yearlyFortune.branch,")"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:r.yearlyFortune.description})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.yearlyFortune.keywords.map((r,s)=>e.jsxs("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs font-medium",children:["#",r]},s))})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-xl shadow-lg p-6 border border-purple-200 dark:border-purple-800",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx("span",{children:"🌊"}),e.jsx("span",{children:"현재 대운 (大運)"})]}),(()=>{const s=r.majorFortunes.find(e=>r.yearlyFortune.age>=e.startAge&&r.yearlyFortune.age<=e.endAge);return s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.startAge,"세 ~ ",s.endAge,"세"]}),e.jsxs("div",{className:"text-3xl font-bold "+(s.luckyScore>=80?"text-green-600":s.luckyScore>=60?"text-blue-600":s.luckyScore>=40?"text-yellow-600":s.luckyScore>=20?"text-orange-600":"text-red-600"),children:[s.luckyScore,"점"]})]}),e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["주관 궁위: ",e.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:s.palace})," (",s.branch,")"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:s.description})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((r,s)=>e.jsxs("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium",children:["#",r]},s))})]}):e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"대운 정보를 찾을 수 없습니다"})})()]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100 dark:from-purple-900/20 dark:via-pink-900/20 dark:to-blue-900/20 rounded-xl shadow-lg p-6 text-center border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-4xl mb-3",children:"🤖⭐"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"AI 상담사와 대화하기"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["자미두수 AI가 ",(null==y?void 0:y.name)||"당신","님의 명반을 분석하여",e.jsx("br",{}),"직업, 재물, 건강, 결혼 등 궁금한 점을 자세히 답변해드립니다"]}),e.jsx("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"🤖 AI 상담 시작하기"})]}),e.jsx(v,{chart:r,selectedPalace:l,onPalaceSelect:n}),l&&e.jsx(N,{palace:r.palaces[l],onClose:()=>n(null)}),x&&e.jsx(w,{chart:r,customer:y,selectedPalace:l,onClose:()=>g(!1)})]}),m&&e.jsx($,{onClose:()=>u(!1)})]})})}export{S as default};
