# 운명나침반 프로젝트 로드맵

**프로젝트 관리자**: Swarm PM (Claude Code)
**작성일**: 2025-10-10
**버전**: 1.0

---

## 🎯 프로젝트 비전

**세계 최초 종합 운세 시각화 플랫폼** - 전통 명리학 + 귀문둔갑 + AI 해석이 결합된 혁신적 사주 운세 앱

---

## 📊 현재 진행 상황 (2025-10-10 기준)

### ✅ 완료된 마일스톤 (Phase 0)
- [x] 기본 프로젝트 구조 설정 (Monorepo)
- [x] React + TypeScript 프론트엔드 기반 구축
- [x] 캘린더 시스템 (Year/Month/Week/Day 뷰)
- [x] 사주 계산 엔진 (진태양시 보정, 음력/양력 변환)
- [x] 6대 영역 레이더 차트
- [x] 7대 성격 레이더 차트
- [x] 17대 운세 기본 구조
- [x] 사주 점수 시스템 개선 (주능/주흉 매핑 완료)
- [x] 인증 시스템 기본 구조
- [x] 고객 관리 페이지 기본
- [x] AI 서비스 통합 구조 (DeepInfra, OpenAI, Gemini, Cohere)

### 📈 진행률: **35% 완료**

---

## 🚀 Phase 1: 차트 시스템 완성 (2주, 우선순위: 🔴 최고)

**목표**: PRD의 핵심 차별화 기능인 차트 시스템 100% 구현

### 1.1 건강 & 재물 차트 구현 (3일)
**담당 페르소나**: 데이터 시각화 전문가 + 명리학 전문가

#### Task 1.1.1: 12대 건강 시스템 차트
- [ ] 오행의학 기반 건강 점수 계산 알고리즘
  - 골격계, 근육계, 순환계, 호흡계, 소화계, 신경계
  - 내분비계, 분비계, 피부계, 정신계, 남성생식기, 외형계
- [ ] `sajuRadarData.ts`에 12대 건강 데이터 구조 추가
- [ ] `sajuScoreCalculator.ts`에 건강 점수 계산 로직 구현
- [ ] 레이더 차트 UI 컴포넌트 구현
- [ ] 연령대별 건강 변화 추적 기능

**산출물**:
- `healthSystemData.ts`
- `calculateHealthScores()` 함수
- `HealthRadarChart.tsx` 컴포넌트

#### Task 1.1.2: 9대 재물운 차트
- [ ] 재물운 점수 계산 알고리즘
  - 현금, 부동산, 동산, 주식, 채권, 펀드, 투자, 사업, 대여
- [ ] 편재/정재 특성별 투자 성향 분석
- [ ] `wealthSystemData.ts` 데이터 구조
- [ ] `calculateWealthScores()` 함수
- [ ] `WealthRadarChart.tsx` 컴포넌트

**예상 시간**: 24시간 작업 시간

---

### 1.2 100년 생애 곡선 차트 (4일)
**담당 페르소나**: 차트 엔진 전문가 + AI 예측 엔지니어

#### Task 1.2.1: 생애 예측 모델 개발
- [ ] 대운 데이터 기반 1년 단위 예측 알고리즘
- [ ] 5개 요소 계산 시스템
  - 근본(막대), 행운(녹색), 의지행동(주황), 환경(파랑), 변화(빨강)
- [ ] 101년 × 5개 요소 = 505개 데이터포인트 생성

#### Task 1.2.2: Chart.js Mixed Chart 구현
- [ ] Bar + Multiple Line 차트 설정
- [ ] 현재 위치 마커 표시
- [ ] 시간축 스크롤 기능
- [ ] 확대/축소 인터랙션
- [ ] 모바일 터치 제스처 지원

**산출물**:
- `lifeCurvePredictionEngine.ts`
- `LifeCurveChart.tsx`
- `lifeChartInteraction.ts`

**예상 시간**: 32시간 작업 시간

---

### 1.3 100년 건강 생애 차트 (2일)
**담당 페르소나**: 오행의학 전문가 + 차트 엔진 전문가

#### Task 1.3.1: 건강 생애 예측 시스템
- [ ] 연령대별 건강 변화 모델
- [ ] 5개 건강 요소 계산
  - 전체건강(막대), 체력(녹색), 면역력(파랑), 정신건강(주황), 만성질환저항도(빨강)
- [ ] 오행의학 + 현대의학 통합 알고리즘

**산출물**:
- `healthLifePredictionEngine.ts`
- `HealthLifeCurveChart.tsx`

**예상 시간**: 16시간 작업 시간

---

### Phase 1 총 예상 시간: **72시간 (9일, 여유 포함 2주)**

---

## 🔮 Phase 2: 귀문둔갑 시스템 구현 (2주, 우선순위: 🔴 최고)

**목표**: 세계 최초 모바일 귀문둔갑 시스템 완성

### 2.1 귀문둔갑 계산 엔진 (5일)
**담당 페르소나**: 귀문둔갑 전문가 + 알고리즘 엔지니어

#### Task 2.1.1: 구궁팔괘도 계산 시스템
- [ ] 천반(십간 배치) 계산
- [ ] 지반(구궁 고정) 설정
- [ ] 인반(팔문 배치) 계산
- [ ] 신반(팔신 배치) 계산
- [ ] 정확한 시공간 기반 국면 생성

#### Task 2.1.2: 8가지 목적별 분석 시스템
- [ ] 일반운세, 사업, 혼인, 건강, 이사여행, 학업, 소송, 분실물 분석 로직
- [ ] 각 목적별 최적화된 해석 알고리즘

**산출물**:
- `qimenCalculationEngine.ts`
- `qimenPurposeAnalyzer.ts`
- `qimenDataModels.ts`

**예상 시간**: 40시간 작업 시간

---

### 2.2 귀문둔갑 UI/UX 구현 (4일)
**담당 페르소나**: UI/UX 디자이너 + 프론트엔드 개발자

#### Task 2.2.1: 실시간 구궁팔괘도 시각화
- [ ] 9궁 그리드 레이아웃
- [ ] 천반/지반/인반/신반 레이어 표시
- [ ] 색상 코딩 시스템 (길흉 구분)
- [ ] 애니메이션 효과

#### Task 2.2.2: 의사결정 지원 인터페이스
- [ ] 8방위 나침반 컴포넌트
- [ ] 길방/흉방 시각화
- [ ] 최적 타이밍 추천 UI
- [ ] 주의사항 알림 시스템

**산출물**:
- `QimenPalaceGrid.tsx`
- `DirectionCompass.tsx`
- `TimingRecommendation.tsx`
- `QimenDashboard.tsx`

**예상 시간**: 32시간 작업 시간

---

### 2.3 귀문둔갑 통합 및 테스트 (2일)
- [ ] 백엔드 API 연동
- [ ] 캐싱 시스템 구현
- [ ] 전문가 검증 테스트
- [ ] E2E 테스트 작성

**예상 시간**: 16시간 작업 시간

### Phase 2 총 예상 시간: **88시간 (11일, 여유 포함 2주)**

---

## 🤖 Phase 3: AI 해석 시스템 완성 (1주, 우선순위: 🟡 높음)

**목표**: 개인화된 AI 운세 해석 및 조언 시스템

### 3.1 DeepInfra 주력 엔진 연동 (2일)
**담당 페르소나**: AI 엔지니어 + 백엔드 개발자

#### Task 3.1.1: AI 서비스 연동
- [ ] DeepInfra API 연동 및 테스트
- [ ] Qwen/Qwen2.5-32B-Instruct 모델 설정
- [ ] Rate limiting 및 에러 핸들링
- [ ] Fallback 시스템 (OpenAI → Gemini → Cohere)

**산출물**:
- `deepInfraClient.ts` (이미 존재, 개선)
- `aiLoadBalancer.ts`
- `aiErrorHandler.ts`

---

### 3.2 프롬프트 엔지니어링 (3일)
**담당 페르소나**: 명리학 전문가 + AI 프롬프트 엔지니어

#### Task 3.2.1: 직군별 특화 프롬프트 개발
- [ ] 학생, 직장인, 주부, 사업가, 창작자 5개 직군
- [ ] 각 직군별 맞춤형 운세 해석 템플릿
- [ ] 사주 데이터 → 프롬프트 변환 로직

#### Task 3.2.2: 해석 품질 관리 시스템
- [ ] 응답 검증 및 필터링
- [ ] A/B 테스트 프레임워크
- [ ] 사용자 피드백 수집 시스템

**산출물**:
- `professionPromptTemplates.ts`
- `sajuToPromptConverter.ts`
- `aiResponseValidator.ts`

---

### 3.3 AI 해석 UI 통합 (2일)
- [ ] 사주 분석 페이지에 AI 해석 섹션 추가
- [ ] 로딩 애니메이션
- [ ] 스트리밍 응답 지원
- [ ] 해석 저장 및 히스토리 관리

**예상 시간**: 56시간 (7일)

---

## 🎨 Phase 4: UX 개선 & 성능 최적화 (1주, 우선순위: 🟢 중간)

### 4.1 다크모드 완성도 향상 (2일)
- [ ] 보라색-라벤더 테마 전체 적용
- [ ] 차트 색상 일관성 개선
- [ ] 애니메이션 부드러움 최적화

### 4.2 성능 최적화 (3일)
- [ ] 차트 렌더링 최적화 (Canvas vs SVG)
- [ ] 사주 계산 결과 캐싱 (Redis)
- [ ] 이미지 레이지 로딩
- [ ] 코드 스플리팅

### 4.3 모바일 반응형 완성 (2일)
- [ ] 모든 차트 모바일 최적화
- [ ] 터치 제스처 개선
- [ ] 세로 모드 최적화

**예상 시간**: 56시간 (7일)

---

## 💼 Phase 5: 비즈니스 기능 구현 (2주, 우선순위: 🟢 중간)

### 5.1 전문가 CRM 완성 (1주)
- [ ] 상담 예약 시스템
- [ ] 고객 차트 자동 생성
- [ ] 리포트 PDF 생성
- [ ] 상담 기록 관리

### 5.2 수익화 시스템 (1주)
- [ ] 프리미엄 구독 시스템 (Stripe 연동)
- [ ] 차트 리포트 판매 시스템
- [ ] 결제 내역 관리
- [ ] 환불 시스템

**예상 시간**: 80시간 (10일, 여유 포함 2주)

---

## 📅 전체 일정 요약

| Phase | 내용 | 기간 | 우선순위 | 예상 완료일 |
|-------|------|------|---------|-----------|
| Phase 0 | 기본 구조 (완료) | - | - | 2025-10-10 |
| **Phase 1** | **차트 시스템 완성** | **2주** | **🔴 최고** | **2025-10-24** |
| **Phase 2** | **귀문둔갑 시스템** | **2주** | **🔴 최고** | **2025-11-07** |
| **Phase 3** | **AI 해석 시스템** | **1주** | **🟡 높음** | **2025-11-14** |
| Phase 4 | UX & 성능 최적화 | 1주 | 🟢 중간 | 2025-11-21 |
| Phase 5 | 비즈니스 기능 | 2주 | 🟢 중간 | 2025-12-05 |

**총 예상 기간**: **8주 (2개월)**
**목표 출시일**: **2025년 12월 중순**

---

## 👥 전문가 페르소나 역할 분배

### 🎯 PM (Project Manager)
**역할**: 전체 일정 관리, 우선순위 조정, 리소스 배분
- 매일 진행 상황 체크
- 블로커 해결
- 마일스톤 관리

### 📊 데이터 시각화 전문가
**담당**: 모든 차트 시스템 구현
- Chart.js 최적화
- 인터랙티브 기능 구현
- 반응형 차트 디자인

### 🔮 명리학 전문가
**담당**: 사주 알고리즘 검증 및 개선
- 점수 계산 로직 검증
- 오행 매핑 정확성 확인
- 전통 이론 자문

### 🌀 귀문둔갑 전문가
**담당**: 귀문둔갑 시스템 전체
- 계산 엔진 개발
- 해석 알고리즘 구현
- 전문성 검증

### 🤖 AI 엔지니어
**담당**: AI 해석 시스템
- DeepInfra 연동
- 프롬프트 엔지니어링
- 모델 최적화

### 💻 프론트엔드 개발자
**담당**: UI/UX 구현
- React 컴포넌트 개발
- 상태 관리
- 사용자 경험 최적화

### 🔧 백엔드 개발자
**담당**: API 및 마이크로서비스
- Node.js/Express 서비스
- 데이터베이스 최적화
- API 성능 개선

### 🎨 UI/UX 디자이너
**담당**: 디자인 시스템
- 다크모드 테마
- 컴포넌트 디자인
- 사용성 개선

---

## 🔄 개발 워크플로우

### 1. 매일 스탠드업 (가상)
- 어제 완료한 작업
- 오늘 진행할 작업
- 블로커 확인

### 2. Task 기반 개발
- TodoWrite로 세부 작업 추적
- 각 Task별 완료 기준 명확화
- Git 커밋 단위 = Task 단위

### 3. 코드 리뷰 및 테스트
- TypeScript 컴파일 에러 없음
- ESLint 통과
- 브라우저 테스트 완료

### 4. Git 커밋 규칙
```
feat: 새로운 기능 추가
fix: 버그 수정
refactor: 리팩토링
chore: 빌드/설정 변경
docs: 문서 업데이트
test: 테스트 추가/수정
perf: 성능 개선
```

---

## 📈 성공 지표 (KPI)

### 기술 지표
- [ ] 차트 로딩 속도 < 3초
- [ ] TypeScript 커버리지 > 90%
- [ ] 테스트 커버리지 > 80%
- [ ] Lighthouse 성능 점수 > 90

### 사용자 지표
- [ ] 차트 조회 빈도 > 주 15회/사용자
- [ ] 세션 시간 > 25분
- [ ] 재방문율 > 70%

### 비즈니스 지표
- [ ] 유료 전환율 > 8%
- [ ] 구독 유지율 > 80%
- [ ] NPS 점수 > 80

---

## 🚨 리스크 관리

### 기술적 리스크
1. **복잡한 차트 시스템 개발 지연**
   - 완화: 단계별 MVP 개발, 핵심 차트 우선
   - 백업: 외부 라이브러리 부분 활용

2. **귀문둔갑 알고리즘 정확도**
   - 완화: 전문가 검증, 다수의 테스트 케이스
   - 백업: 단계적 기능 출시

3. **AI 서비스 비용 증가**
   - 완화: 캐싱 시스템, 무료 티어 최대 활용
   - 백업: 다중 AI 서비스 로드 밸런싱

### 일정 리스크
1. **Phase 1-2 지연 시**
   - 완화: Phase 4-5 축소
   - 백업: 핵심 기능만 먼저 출시

---

## 📝 다음 단계 액션

### 즉시 시작 (오늘)
1. ✅ 프로젝트 로드맵 수립 (완료)
2. ⏳ Phase 1.1.1 시작 - 12대 건강 시스템 차트 구현
3. ⏳ 전문가 페르소나 활성화

### 이번 주 목표
- [ ] 12대 건강 차트 완성
- [ ] 9대 재물운 차트 완성
- [ ] 첫 번째 E2E 테스트 통과

---

**문서 관리**
- 작성자: Swarm PM (Claude Code)
- 최종 업데이트: 2025-10-10
- 다음 검토: 매주 월요일
- 버전 관리: Git으로 추적

---

이 로드맵은 살아있는 문서입니다. 진행 상황에 따라 지속적으로 업데이트됩니다.
