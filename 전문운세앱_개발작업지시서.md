# 🔮 운명나침반 전문 운세 앱 개발 작업지시서

## 📚 고전자료 분석 결과
### 보유 자료
- **자평진전(子平眞詮)** 관련 자료 11개
  - 명리학의 핵심 이론서
  - 격국론, 용신론 등 전문 이론
  - 직업과 운명 상관성 연구
- **적천수, 궁통보감** 비교 연구 자료

### 핵심 활용 방안
1. 자평진전 기반 **격국 판단 시스템**
2. 용신론 기반 **개인 운세 분석**
3. 직업 적성 **AI 매칭 시스템**

## 🌍 벤치마킹 분석 결과

### 국내 TOP 앱 (1800만 사용자)
#### 점신 (Jeomsin)
- **핵심기능**: 사주, 타로, 토정비결
- **차별화**: 18백만 사용자, 전문가 상담
- **수익모델**: 프리미엄(광고제거) + 상담료

#### 운세의 신
- **핵심기능**: 토정비결, 궁합, 별자리
- **차별화**: 무료 기본 서비스
- **특징**: 직장운, 연애운 특화

### 해외 TOP 앱 (글로벌 시장 $4B→$30B)
#### Co-Star (미국 1위)
- **핵심기능**: NASA 데이터 기반 정밀 분석
- **차별화**: AI 생성 일일 운세, 소셜 기능
- **디자인**: 미니멀리즘

#### Sanctuary
- **핵심기능**: 실시간 점성술사 채팅
- **차별화**: 인간적 터치, 이모지 UI
- **수익모델**: 월 구독 + 실시간 상담

## 🎯 개발 전략

### Phase 1: 기초 구축 (1주차)
#### 1-1. 헤더/푸터 컴포넌트
- 반응형 네비게이션
- 다크모드 완벽 지원
- 사용자 프로필 메뉴

#### 1-2. 만세력 시스템 구축
- 1900-2100년 만세력 데이터
- 음양력 변환 시스템
- 절입시간 정밀 계산

### Phase 2: 핵심 운세 기능 (2-3주차)
#### 2-1. 사주 분석 엔진
```typescript
interface SajuEngine {
  // 사주 추출
  extractSaju(birthDate: Date, birthTime: string): SajuData
  
  // 격국 판단 (자평진전 기반)
  analyzePattern(saju: SajuData): PatternResult
  
  // 용신 분석
  findYongShin(saju: SajuData): YongShinResult
  
  // 대운/세운 계산
  calculateFortune(saju: SajuData): FortuneResult
}
```

#### 2-2. 오늘의 운세 시스템
- 일일 운세 자동 생성
- 시간대별 길흉 판단
- 행운의 색상/숫자/방향

#### 2-3. 궁합 분석
- 연애 궁합
- 사업 파트너 궁합
- 가족 관계 분석

### Phase 3: AI 통합 (4주차)
#### 3-1. DeepInfra API 연동
```javascript
const AI_CONFIG = {
  provider: 'deepinfra',
  apiKey: '8cb0ACaBs5No54Dvn687iKhE11TPHCr9',
  model: 'Qwen/Qwen2.5-32B-Instruct',
  specializedPrompts: {
    dailyFortune: '자평진전 기반 오늘의 운세',
    careerAdvice: '격국에 따른 직업 조언',
    compatibility: '궁합 상세 분석'
  }
}
```

#### 3-2. 개인화 운세 생성
- 사용자 히스토리 학습
- 맞춤형 조언 생성
- 자연어 운세 해석

### Phase 4: 프리미엄 기능 (5주차)
#### 4-1. 전문가 상담 시스템
- 실시간 채팅 상담
- 예약 시스템
- 결제 통합

#### 4-2. 상세 리포트
- PDF 평생 운세 리포트
- 연간 상세 분석
- 투자/사업 타이밍 분석

## 🛠 기술 스택

### Frontend
```json
{
  "framework": "React 18 + TypeScript",
  "styling": "Tailwind CSS + Styled Components",
  "state": "Zustand + React Query",
  "charts": "D3.js (운세 차트)",
  "animation": "Framer Motion"
}
```

### Backend
```json
{
  "api": "Express + TypeScript",
  "database": "PostgreSQL (사용자) + SQLite (만세력)",
  "cache": "Redis",
  "ai": "DeepInfra API",
  "payment": "Stripe/토스페이먼츠"
}
```

## 📱 UI/UX 설계

### 디자인 컨셉
- **전통과 현대의 조화**: 한국 전통문양 + 모던 UI
- **색상**: 자주색(신비) + 금색(고급) + 다크모드
- **타이포**: 한글 서체 중심, 가독성 우선

### 핵심 화면
1. **메인 대시보드**
   - 오늘의 운세 카드
   - 운세 점수 (0-100)
   - 주의사항 알림

2. **사주 분석**
   - 사주팔자 시각화
   - 오행 밸런스 차트
   - 격국 설명

3. **궁합 분석**
   - 궁합도 그래프
   - 상성/상극 관계도
   - 조언 카드

## 📊 수익 모델

### 무료 티어
- 기본 사주 조회
- 일일 운세 1회
- 광고 포함

### 프리미엄 (월 9,900원)
- 무제한 운세 조회
- AI 상세 분석
- 광고 제거
- 궁합 분석

### 프로 (월 29,900원)
- 전문가 상담 월 1회
- PDF 리포트
- 가족 계정 3개
- API 접근

## 🚀 즉시 실행 액션

### Step 1: 헤더/푸터 개발 (오늘)
```bash
# 1. 컴포넌트 생성
- Header.tsx: 로고, 네비게이션, 프로필
- Footer.tsx: 링크, 저작권, SNS

# 2. 라우팅 설정
- /fortune: 오늘의 운세
- /saju: 사주 분석
- /compatibility: 궁합
- /consultation: 상담
```

### Step 2: 만세력 데이터 구축
```bash
# SQLite DB 생성
- manseryeok.db
- 천간지지 테이블
- 24절기 테이블
- 음양력 변환 테이블
```

### Step 3: 사주 계산 엔진
```typescript
// core/saju/calculator.ts
export class SajuCalculator {
  // 생년월일시 → 사주팔자
  // 대운 계산
  // 세운 계산
}
```

## 📈 성공 지표 (KPI)

### 1개월 목표
- MAU: 10,000명
- 유료전환: 3%
- 일일 사용: 5회

### 3개월 목표
- MAU: 100,000명
- 유료전환: 5%
- 전문가 상담: 500건/월

### 6개월 목표
- MAU: 500,000명
- 유료전환: 7%
- 월 매출: 5,000만원

## ⚡ 차별화 전략

### 1. 전문성
- **자평진전** 정통 이론 적용
- 검증된 명리학자 자문단
- 학술 논문 기반 알고리즘

### 2. 기술력
- NASA 천문 데이터 활용
- AI 개인화 운세
- 실시간 동기화

### 3. 사용성
- 3초 내 운세 확인
- 직관적 UI/UX
- 카카오톡 공유

### 4. 신뢰성
- 투명한 계산 과정
- 전문가 검증 마크
- 사용자 리뷰 시스템

---

## 🔥 즉시 시작 명령어

```bash
# 1. 헤더/푸터 컴포넌트 생성
cd packages/web/src/components
mkdir Layout
touch Layout/Header.tsx Layout/Footer.tsx

# 2. 라우터 설정
npm install react-router-dom

# 3. 운세 페이지 생성
cd ../pages
touch FortunePage.tsx SajuPage.tsx CompatibilityPage.tsx

# 4. 만세력 DB 초기화
cd ../../backend/services
mkdir fortune
cd fortune
npm init -y
npm install sqlite3 express
```

---

*작성일: 2025-08-27*  
*버전: 1.0*  
*다음 리뷰: 매주 업데이트*