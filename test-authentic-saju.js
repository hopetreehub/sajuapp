/**
 * 정통 사주학 계산기 간단 테스트 스크립트
 * Node.js에서 직접 실행하여 기본 동작 확인
 */

// ES6 모듈 방식으로 불러오기 위한 임시 구현
const authenticSajuTest = async () => {
  console.log('🧪 === 정통 사주학 계산기 테스트 시작 ===\n');

  // 박준수 테스트 케이스: 신해기해병오경인
  console.log('👤 박준수 (신해기해병오경인) 테스트:');

  const 박준수사주 = {
    year: { gan: '신', ji: '해' },
    month: { gan: '기', ji: '해' },
    day: { gan: '병', ji: '오' },
    time: { gan: '경', ji: '인' }
  };

  console.log('📋 사주 팔자:', 박준수사주);

  // 정비제 테스트 케이스: 병진정유신미계사
  console.log('\n👤 정비제 (병진정유신미계사) 테스트:');

  const 정비제사주 = {
    year: { gan: '병', ji: '진' },
    month: { gan: '정', ji: '유' },
    day: { gan: '신', ji: '미' },
    time: { gan: '계', ji: '사' }
  };

  console.log('📋 사주 팔자:', 정비제사주);

  // 오행 분석
  const 천간오행 = {
    '갑': '목', '을': '목', '병': '화', '정': '화', '무': '토',
    '기': '토', '경': '금', '신': '금', '임': '수', '계': '수'
  };

  const 지지오행 = {
    '인': '목', '묘': '목', '사': '화', '오': '화',
    '진': '토', '술': '토', '축': '토', '미': '토',
    '신': '금', '유': '금', '자': '수', '해': '수'
  };

  // 박준수 오행 분석
  console.log('\n📊 박준수 오행 분석:');
  const 박준수오행 = [
    천간오행[박준수사주.year.gan],
    지지오행[박준수사주.year.ji],
    천간오행[박준수사주.month.gan],
    지지오행[박준수사주.month.ji],
    천간오행[박준수사주.day.gan],
    지지오행[박준수사주.day.ji],
    천간오행[박준수사주.time.gan],
    지지오행[박준수사주.time.ji]
  ];

  const 박준수오행분포 = {};
  박준수오행.forEach(오행 => {
    박준수오행분포[오행] = (박준수오행분포[오행] || 0) + 1;
  });

  console.log('   오행 분포:', 박준수오행분포);
  console.log('   일간:', 박준수사주.day.gan, '(', 천간오행[박준수사주.day.gan], ')');

  // 정비제 오행 분석
  console.log('\n📊 정비제 오행 분석:');
  const 정비제오행 = [
    천간오행[정비제사주.year.gan],
    지지오행[정비제사주.year.ji],
    천간오행[정비제사주.month.gan],
    지지오행[정비제사주.month.ji],
    천간오행[정비제사주.day.gan],
    지지오행[정비제사주.day.ji],
    천간오행[정비제사주.time.gan],
    지지오행[정비제사주.time.ji]
  ];

  const 정비제오행분포 = {};
  정비제오행.forEach(오행 => {
    정비제오행분포[오행] = (정비제오행분포[오행] || 0) + 1;
  });

  console.log('   오행 분포:', 정비제오행분포);
  console.log('   일간:', 정비제사주.day.gan, '(', 천간오행[정비제사주.day.gan], ')');

  // 기본 격국 분석
  console.log('\n🏛️ 격국 분석:');

  // 박준수: 병오일간 (화), 기해월 (겨울)
  console.log('   박준수: 병(화)일간, 기해월(겨울) → 화약한 시기, 신약격 추정');
  console.log('   용신 추정: 목(화를 도움), 화(일간 강화) → 목화용신');

  // 정비제: 신미일간 (금), 정유월 (가을)
  console.log('   정비제: 신(금)일간, 정유월(가을) → 금왕한 시기, 신강격 추정');
  console.log('   용신 추정: 수(금을 소모), 목(금이 극함) → 수목용신');

  console.log('\n✅ 기본 분석 완료');
  console.log('📋 예상 결과:');
  console.log('   - 박준수: 목화운에서 고점, 금수운에서 저점');
  console.log('   - 정비제: 수목운에서 고점, 화토운에서 저점');
  console.log('   - 두 사람의 운세 패턴이 상반되어야 함');

  console.log('\n🏁 === 테스트 완료 ===');
};

// 테스트 실행
authenticSajuTest().catch(console.error);