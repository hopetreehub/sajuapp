# 📅 년 단위 캘린더 개선 작업지시서

## 🎯 프로젝트 목표
현재 의미없는 년 단위 캘린더를 실용적인 연간 계획/메모 관리 도구로 전면 개편

## 📋 현재 문제점
1. 12개월을 단순히 나열만 함
2. 실제 사용 가치가 없음
3. 메모나 일정 관리 기능 부재
4. 시각적으로 비효율적

## 🚀 개선 방향

### 1️⃣ Phase 1: 레이아웃 재설계
- **가로형 타임라인 뷰**
  - 12개월을 가로로 배치
  - 각 월별 주요 이벤트/메모 표시
  - 스크롤 가능한 형태

- **월별 카드 뷰**
  - 각 월을 카드 형태로 표시
  - 월별 핵심 일정 3-5개 표시
  - 클릭 시 상세 보기

### 2️⃣ Phase 2: 데이터 구조 설계

#### 연간 메모 데이터 구조
```typescript
interface YearlyMemo {
  id: string;
  year: number;
  month: number;
  type: 'goal' | 'event' | 'memo' | 'milestone';
  title: string;
  description?: string;
  color: string;
  importance: 'high' | 'medium' | 'low';
  completed?: boolean;
  createdAt: Date;
  updatedAt: Date;
}

interface MonthlyOverview {
  month: number;
  memos: YearlyMemo[];
  statistics: {
    totalEvents: number;
    completedGoals: number;
    upcomingMilestones: number;
  };
}
```

### 3️⃣ Phase 3: 기능 구현

#### A. 핵심 기능
1. **월별 빠른 메모 추가**
   - 각 월 카드에 + 버튼
   - 인라인 입력 폼
   - 엔터키로 빠른 저장

2. **메모 타입별 구분**
   - 🎯 목표 (Goals)
   - 📅 이벤트 (Events)
   - 📝 메모 (Memos)
   - 🏆 마일스톤 (Milestones)

3. **드래그 앤 드롭**
   - 메모를 다른 월로 이동
   - 순서 변경 가능

4. **필터링 & 검색**
   - 타입별 필터
   - 중요도별 필터
   - 키워드 검색

#### B. 시각화 기능
1. **연간 히트맵**
   - 월별 활동량 시각화
   - 색상으로 밀도 표현

2. **진행률 표시**
   - 연간 목표 달성률
   - 월별 완료율

3. **타임라인 뷰**
   - 중요 이벤트 타임라인
   - 마일스톤 연결선

### 4️⃣ Phase 4: UI/UX 디자인

#### 레이아웃 옵션
```
[옵션 1: 가로 스크롤 타임라인]
┌─────────────────────────────────────────────┐
│  2025년 연간 계획                            │
├─────────────────────────────────────────────┤
│ ◄ Jan │ Feb │ Mar │ Apr │ May │ Jun ►      │
│  ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐      │
│  │ • │ │ • │ │ • │ │ • │ │ • │ │ • │      │
│  │ • │ │ • │ │ • │ │ • │ │ • │ │ • │      │
│  └───┘ └───┘ └───┘ └───┘ └───┘ └───┘      │
└─────────────────────────────────────────────┘

[옵션 2: 그리드 카드 뷰]
┌─────────────────────────────────────────────┐
│  2025년 연간 계획                            │
├─────────────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐           │
│ │ JAN │ │ FEB │ │ MAR │ │ APR │           │
│ │ ••• │ │ ••• │ │ ••• │ │ ••• │           │
│ └─────┘ └─────┘ └─────┘ └─────┘           │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐           │
│ │ MAY │ │ JUN │ │ JUL │ │ AUG │           │
│ │ ••• │ │ ••• │ │ ••• │ │ ••• │           │
│ └─────┘ └─────┘ └─────┘ └─────┘           │
└─────────────────────────────────────────────┘
```

### 5️⃣ Phase 5: 백엔드 API

#### 필요한 API 엔드포인트
```
GET    /api/yearly-memos/:year        # 연간 메모 조회
POST   /api/yearly-memos              # 메모 추가
PUT    /api/yearly-memos/:id          # 메모 수정
DELETE /api/yearly-memos/:id          # 메모 삭제
GET    /api/yearly-memos/:year/stats  # 연간 통계
```

### 6️⃣ Phase 6: 데이터베이스 스키마

```sql
CREATE TABLE yearly_memos (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  year INTEGER NOT NULL,
  month INTEGER NOT NULL,
  type TEXT CHECK(type IN ('goal', 'event', 'memo', 'milestone')),
  title TEXT NOT NULL,
  description TEXT,
  color TEXT DEFAULT '#9333EA',
  importance TEXT CHECK(importance IN ('high', 'medium', 'low')),
  completed BOOLEAN DEFAULT FALSE,
  position INTEGER DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE INDEX idx_yearly_memos_year_month ON yearly_memos(year, month);
CREATE INDEX idx_yearly_memos_user_year ON yearly_memos(user_id, year);
```

## 📊 구현 우선순위

### 🥇 필수 기능 (MVP)
1. 월별 카드 뷰 레이아웃
2. 메모 CRUD 기능
3. 타입별 아이콘/색상 구분
4. 로컬 스토리지 저장

### 🥈 추가 기능 (Phase 2)
1. 드래그 앤 드롭
2. 필터링 기능
3. 검색 기능
4. 백엔드 연동

### 🥉 고급 기능 (Phase 3)
1. 연간 히트맵
2. 통계 대시보드
3. 데이터 내보내기
4. 공유 기능

## 🎨 디자인 가이드라인

### 색상 팔레트
- 목표(Goals): 🟣 Purple (#9333EA)
- 이벤트(Events): 🔵 Blue (#3B82F6)
- 메모(Memos): 🟡 Yellow (#EAB308)
- 마일스톤(Milestones): 🟢 Green (#22C55E)
- 완료됨: 회색 처리 + 취소선

### 인터랙션
- 호버 시 카드 확대 효과
- 클릭 시 상세 모달
- 더블클릭 시 빠른 편집
- 우클릭 컨텍스트 메뉴

## 🛠 기술 스택
- **Frontend**: React + TypeScript
- **상태관리**: Context API or Zustand
- **스타일링**: Tailwind CSS
- **드래그앤드롭**: react-beautiful-dnd
- **차트**: Chart.js (히트맵용)
- **날짜처리**: date-fns
- **백엔드**: Node.js + SQLite

## 📈 예상 효과
1. 연간 계획 한눈에 파악
2. 월별 중요 일정 관리
3. 목표 달성 추적
4. 생산성 향상
5. 사용자 만족도 증가

## 🚦 구현 단계

### Step 1: UI 프로토타입 (2시간)
- YearView 컴포넌트 재설계
- 월별 카드 컴포넌트 생성
- 메모 입력 폼 구현

### Step 2: 상태 관리 (1시간)
- Context 또는 Store 설정
- CRUD 로직 구현
- 로컬 스토리지 연동

### Step 3: 인터랙션 (2시간)
- 드래그 앤 드롭
- 필터링/검색
- 애니메이션 효과

### Step 4: 백엔드 연동 (2시간)
- API 엔드포인트 구현
- 데이터베이스 스키마 생성
- 프론트엔드 연동

### Step 5: 최적화 & 테스트 (1시간)
- 성능 최적화
- 반응형 디자인
- 버그 수정

## ✅ 완료 기준
- [ ] 월별 카드 뷰 완성
- [ ] 메모 CRUD 기능 동작
- [ ] 타입별 구분 가능
- [ ] 드래그 앤 드롭 동작
- [ ] 필터링/검색 기능 동작
- [ ] 다크모드 지원
- [ ] 모바일 반응형
- [ ] 백엔드 API 연동
- [ ] 테스트 완료

---

**총 예상 작업 시간**: 8시간
**우선순위**: 높음
**영향 범위**: YearView 컴포넌트 전면 개편